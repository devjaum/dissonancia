import{c as i,f as c,g as l,i as u,k as m,ka as f,ma as p,n,pa as d,ra as h,sa as b,ta as s,va as g,wa as v,xa as y,ya as C}from"./chunk-4D7BM7C5.js";var D=class a{firestore=n(d);auth=n(f);getCharacterByEmail(){return p(this.auth).pipe(u(e=>{if(e&&e.email){let t=b(this.firestore,"dissonancia-db"),r=g(t,C("email","==",e.email));return h(r,{idField:"docId"}).pipe(l(o=>o.length>0?o[0]:null))}else return c(null)}))}saveUserData(e){return i(this,null,function*(){let t=this.auth.currentUser;if(t){let r=s(this.firestore,`dissonancia-db/${t.uid}`);return v(r,e,{merge:!0})}return null})}updateCharacter(e,t){return i(this,null,function*(){let r=s(this.firestore,"dissonancia-db",e);return y(r,t)})}static \u0275fac=function(t){return new(t||a)};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};export{D as a};
