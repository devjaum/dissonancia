import{a as ee,b as te,c as ne,e as ie}from"./chunk-WJMQ7XRG.js";import{a as ge}from"./chunk-737KE3FH.js";import{B as f,E as m,F as t,G as n,H as W,I as H,J as v,K as x,N as q,O as i,P as c,Q as p,R as A,S as E,T as D,U as M,X as $,Y as G,_ as Q,a as z,b as N,e as B,ea as U,fa as P,ga as X,h as L,ha as O,ia as Y,ja as K,k as h,ka as Z,l as T,la as J,m as j,ma as oe,na as re,o as R,oa as ae,p as V,pa as se,qa as le,ra as ce,sa as pe,t as a,ta as de,ua as me,va as y,w as C,x as u}from"./chunk-ECERHPRE.js";var w=class o{auth=h(ae);firestore=h(pe);login(r,e){return ce(this.auth,r,e)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=L({token:o,factory:o.\u0275fac,providedIn:"root"})};function ye(o,r){if(o&1&&(t(0,"p",6),i(1),n()),o&2){let e=x();a(),p(" ",e.errorMessage," ")}}var S=class o{constructor(r,e,s){this.authService=r;this.dbService=e;this.router=s}email="";password="";errorMessage="";login(){if(!this.email||!this.password){this.errorMessage="Preencha todos os campos!";return}this.authService.login(this.email,this.password).then(r=>{if(r.user.email==="admin@rpg.com"){this.router.navigate(["/admin"]);return}if(this.dbService.hasCharacter(this.email)){this.router.navigate(["/home"]);return}this.router.navigate(["/create"])}).catch(r=>{console.error("Login failed:",r),this.errorMessage="Erro ao entrar: Verifique o email e a senha."})}static \u0275fac=function(e){return new(e||o)(C(w),C(y),C(Z))};static \u0275cmp=u({type:o,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"fundo"],[1,"login-container"],["type","email","placeholder","login","name","email",3,"ngModelChange","ngModel"],["type","password","placeholder","senha","name","password",3,"ngModelChange","ngModel"],["style","color: #ff00c8; text-align: center; margin-bottom: 10px;","class","error",4,"ngIf"],[3,"click"],[1,"error",2,"color","#ff00c8","text-align","center","margin-bottom","10px"]],template:function(e,s){e&1&&(t(0,"main",0)(1,"section",1)(2,"label"),i(3,"Login: "),t(4,"input",2),D("ngModelChange",function(l){return E(s.email,l)||(s.email=l),l}),n()(),t(5,"label"),i(6,"Senha: "),t(7,"input",3),D("ngModelChange",function(l){return E(s.password,l)||(s.password=l),l}),n()(),f(8,ye,2,1,"p",4),t(9,"button",5),v("click",function(){return s.login()}),i(10," Login "),n()()()),e&2&&(a(4),A("ngModel",s.email),a(3),A("ngModel",s.password),a(),m("ngIf",s.errorMessage))},dependencies:[ie,ee,te,ne,O,P],styles:['main[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100vh;align-items:center;font-family:Courier New,Courier,monospace;overflow-y:none}.login-container[_ngcontent-%COMP%]{align-items:center;justify-content:center;background:#1e1e1e;display:flex;flex-direction:column;border-radius:8px;box-shadow:0 0 15px #00000080;position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]:before, .login-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#ff00c8;mix-blend-mode:screen;opacity:.1;pointer-events:none;animation:_ngcontent-%COMP%_glitch 2s infinite}.login-container[_ngcontent-%COMP%]:after{background:#00fff9;animation-delay:1s}@keyframes _ngcontent-%COMP%_glitch{0%{clip:rect(0,100%,0,0);transform:translate(0)}20%{clip:rect(10px,100%,50px,0);transform:translate(-5px,-5px)}40%{clip:rect(30px,100%,80px,0);transform:translate(5px,5px)}60%{clip:rect(50px,100%,100px,0);transform:translate(-5px,5px)}80%{clip:rect(70px,100%,120px,0);transform:translate(5px,-5px)}to{clip:rect(0,100%,0,0);transform:translate(0)}}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:18px;width:100%;margin-left:40px;margin-top:20px}label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:60%}.error[_ngcontent-%COMP%]{width:300px;padding-bottom:20px}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px;padding:8px;border:none;border-radius:4px;font-size:16px}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;border:none;border-radius:4px;background-color:#ff00c8;color:#fff;font-size:18px;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_glitch-button 1s infinite;width:90%;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00fff9}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;animation:_ngcontent-%COMP%_glitch-text 2s infinite}@keyframes _ngcontent-%COMP%_glitch-text{0%{text-shadow:none}20%{text-shadow:1px 0 #ff00c8,-1px 0 #00fff9}40%{text-shadow:-1px 0 #ff00c8,1px 0 #00fff9}60%{text-shadow:1px 0 #ff00c8,-1px 0 #00fff9}80%{text-shadow:-1px 0 #ff00c8,1px 0 #00fff9}to{text-shadow:none}}@keyframes _ngcontent-%COMP%_glitch-button{0%{transform:translate(0);filter:none}7%{transform:translate(-3px,1px) skew(4deg)}12%{transform:translate(3px,-2px) skew(-4deg)}18%{transform:translate(-2px,-1px);filter:hue-rotate(40deg)}22%{transform:translate(2px,3px)}30%{box-shadow:10px 5px 4px #00fff9,-10px -5px 4px #ff00c8}45%{transform:translate(3px,-1px);filter:hue-rotate(-40deg)}60%{transform:translate(-4px,1px)}80%{transform:translate(2px,-3px) skew(6deg)}to{transform:translate(0);filter:none}}.fundo[_ngcontent-%COMP%]{position:relative;background-color:#000;z-index:2}.fundo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(rgba(0,255,255,.3) 1px,transparent 1px),linear-gradient(90deg,rgba(100,50,255,.3) 1px,transparent 1px);background-size:100px 100px;z-index:-1;animation:_ngcontent-%COMP%_zoomInfinite 60s linear infinite}@keyframes _ngcontent-%COMP%_zoomInfinite{0%{background-size:100px 100px}to{background-size:500px 500px}}']})};function we(o,r){if(o&1&&(t(0,"div",23)(1,"strong",24),i(2),n()()),o&2){let e=r.$implicit;a(),m("title",M(e.description)),a(),c(e.name)}}function Se(o,r){if(o&1&&(t(0,"div",25)(1,"div",26)(2,"span"),i(3,"FOR"),n(),t(4,"b"),i(5),t(6,"span",27),i(7),n()()(),t(8,"div",26)(9,"span"),i(10,"DES"),n(),t(11,"b"),i(12),t(13,"span",27),i(14),n()()(),t(15,"div",26)(16,"span"),i(17,"CON"),n(),t(18,"b"),i(19),t(20,"span",27),i(21),n()()(),t(22,"div",26)(23,"span"),i(24,"INT"),n(),t(25,"b"),i(26),t(27,"span",27),i(28),n()()(),t(29,"div",26)(30,"span"),i(31,"SAB"),n(),t(32,"b"),i(33),t(34,"span",27),i(35),n()()(),t(36,"div",26)(37,"span"),i(38,"CAR"),n(),t(39,"b"),i(40),t(41,"span",27),i(42),n()()()()),o&2){let e=x().$implicit;a(5),p("",e.status[0]," "),a(2),c(e.attrBonuses[0]),a(5),p("",e.status[1]," "),a(2),c(e.attrBonuses[1]),a(5),p("",e.status[2]," "),a(2),c(e.attrBonuses[2]),a(5),p("",e.status[3]," "),a(2),c(e.attrBonuses[3]),a(5),p("",e.status[4]," "),a(2),c(e.attrBonuses[4]),a(5),p("",e.status[5]," "),a(2),c(e.attrBonuses[5])}}function ke(o,r){if(o&1&&(t(0,"span",28),i(1),n()),o&2){let e=r.$implicit,s=x(2);m("title",M(s.talentoDescricao(e))),a(),c(e)}}function Ie(o,r){if(o&1){let e=H();t(0,"li",4),v("click",function(){let g=T(e).$implicit,l=x();return j(l.toggleFlip(g.email))}),t(1,"div",5)(2,"div",6)(3,"div",7)(4,"h3"),i(5),n(),t(6,"div",8)(7,"span",9),i(8),n(),t(9,"span",10),i(10),n()()(),t(11,"div",11)(12,"p",12)(13,"strong"),i(14,"ID:"),n(),i(15),n(),t(16,"div",13)(17,"p"),i(18),n()()(),t(19,"div",14)(20,"small"),i(21,"> Detalhes"),n()()(),t(22,"div",15)(23,"h3"),i(24,"Dados de Combate"),n(),t(25,"div",16)(26,"div",17)(27,"span"),i(28,"Poderes \xDAnicos"),n(),f(29,we,3,3,"div",18),n(),t(30,"div",19)(31,"span"),i(32,"Atributos"),n(),f(33,Se,43,12,"div",20),n(),t(34,"div",19)(35,"span"),i(36,"Talentos"),n(),t(37,"div",21),f(38,ke,2,3,"span",22),n()()()()()()}if(o&2){let e=r.$implicit,s=x();q("flipped",s.isFlipped(e.email)),a(5),c(e.name||"Desconhecido"),a(2),m("title",M(e.class||"N/A")),a(),c(e.class||"N/A"),a(2),p("HP: ",e.vida),a(5),p(" ",e.email),a(3),c(e.lore||"Sem hist\xF3ria..."),a(11),m("ngForOf",e.uniqueSkills),a(4),m("ngIf",e.status),a(5),m("ngForOf",e.talent)}}var k=class o{dbService=h(y);players$=this.dbService.adminViewPlayers().pipe(B(r=>r.map(e=>{let s=e.status||[0,0,0,0,0,0],g=e.talent||[],l=Array.isArray(g)?g:[g],d=[0,0,0,0,0,0];l.includes("Prod\xEDgio")&&(d=d.map(_=>_+1)),l.includes("Acrobata Nato")&&(d[1]+=2),l.includes("Resistencia a dor")&&(d[2]+=2),l.includes("Mente afiada")&&(d[3]+=2),l.includes("Conhecimento arcano")&&(d[3]+=2),l.includes("Percep\xE7\xE3o agu\xE7ada")&&(d[4]+=2),l.includes("Persuas\xE3o")&&(d[5]+=2),l.includes("Sentidos agu\xE7ados")&&(d[5]+=2);let he=d.map(_=>_>0?`+${_}`:""),_e=Number(s[0])||0,Ce=Number(s[2])||0,ve=l.includes("Vigoroso"),Me=5+Ce*10+_e*5+(ve?10:0),b=e.uniqueSkills;return Array.isArray(b)||(b=typeof b=="string"?[{name:"Skill",description:b}]:[]),N(z({},e),{vida:Me,uniqueSkills:b,attrBonuses:he})})));talent=ge;flippedCards=new Set;ngOnInit(){}isFlipped(r){return this.flippedCards.has(r)}toggleFlip(r){this.flippedCards.has(r)?this.flippedCards.delete(r):this.flippedCards.add(r)}talentoDescricao(r){let e;return this.talent.forEach(s=>{s.name===r&&(e=s.description)}),e}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-admin"]],decls:7,vars:3,consts:[[1,"admin-container"],[1,"glitch-title"],[1,"cardPlayers"],["class","card",3,"flipped","click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"card-inner"],[1,"cardFront"],[1,"card-header"],[1,"header-badges"],[1,"role-badge",3,"title"],[1,"hp-badge"],[1,"card-body"],[1,"email"],[1,"cardHistoria"],[1,"card-footer"],[1,"cardBack"],[1,"stats-grid"],[1,"stat-box","skills-container"],["class","skill-item",4,"ngFor","ngForOf"],[1,"stat-box"],["class","mini-stats",4,"ngIf"],[1,"tags-list"],["class","tag",3,"title",4,"ngFor","ngForOf"],[1,"skill-item"],[3,"title"],[1,"mini-stats"],[1,"stat-row"],[1,"bonus",2,"color","aqua"],[1,"tag",3,"title"]],template:function(e,s){e&1&&(t(0,"main",0)(1,"h1",1),i(2,"Painel de Administrador"),n(),t(3,"section",2)(4,"ul"),f(5,Ie,39,12,"li",3),$(6,"async"),n()()()),e&2&&(a(5),m("ngForOf",G(6,1,s.players$)))},dependencies:[O,U,P,X],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.admin-container[_ngcontent-%COMP%]{padding:20px;min-height:100vh;background-color:var(--bg-dark, #050508);color:#fff;font-family:Roboto,sans-serif}.glitch-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;color:var(--accent-color, #4db6ac);text-transform:uppercase;letter-spacing:3px;margin-bottom:40px}.cardPlayers[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.cardPlayers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:30px;padding:0;list-style:none}.card[_ngcontent-%COMP%]{background-color:transparent;width:100%;height:500px;perspective:1000px;cursor:pointer}.card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .8s cubic-bezier(.175,.885,.32,1.275);transform-style:preserve-3d;border-radius:8px}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.cardFront[_ngcontent-%COMP%], .cardBack[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;border-radius:8px;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;border:1px solid #333;background-color:var(--card-bg, #1e1e24);box-shadow:0 4px 15px #00000080}.cardFront[_ngcontent-%COMP%]{border-top:3px solid var(--accent-color, #4db6ac)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:10px;margin-bottom:15px}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:var(--accent-color, #4db6ac)}.header-badges[_ngcontent-%COMP%]{display:flex;gap:5px}.role-badge[_ngcontent-%COMP%], .hp-badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:4px;font-size:.75rem;font-weight:700;text-transform:uppercase}.role-badge[_ngcontent-%COMP%]{background:#4db6ac33;color:#80cbc4;text-overflow:ellipsis;max-width:80px;white-space:nowrap;overflow:hidden}.hp-badge[_ngcontent-%COMP%]{background:#ef535033;color:#ef5350}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:10px;overflow:hidden}.email[_ngcontent-%COMP%]{font-size:.85rem;color:#777;word-break:break-all}.cardHistoria[_ngcontent-%COMP%]{background-color:#0000004d;padding:10px;border-radius:4px;flex:1;overflow-y:auto;border-left:2px solid #555}.cardHistoria[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4;color:#ccc;margin:0}.card-footer[_ngcontent-%COMP%]{margin-top:auto;text-align:center;color:#555;padding-top:10px;font-size:.8rem}.cardBack[_ngcontent-%COMP%]{background-color:#25252b;transform:rotateY(180deg);border-top:3px solid #ff00c8}.cardBack[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff00c8;border-bottom:1px solid rgba(255,0,200,.3);padding-bottom:10px;margin-top:0}.stats-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;height:100%;overflow-y:auto}.stat-box[_ngcontent-%COMP%]{background:#0003;padding:10px;border-radius:4px;border:1px solid #333}.stat-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#aaa;text-transform:uppercase;margin-bottom:8px;letter-spacing:1px}.skill-item[_ngcontent-%COMP%]{margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,.05)}.skill-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.skill-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#00e5ff;font-size:.95rem;display:block}.skill-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:.85rem;color:#ddd;line-height:1.3}.tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.tag[_ngcontent-%COMP%]{background:#333;padding:2px 6px;border-radius:3px;font-size:.75rem;color:#ccc}.mini-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px}.stat-row[_ngcontent-%COMP%]{background:#0000004d;padding:4px;border-radius:3px;text-align:center;font-size:.8rem}.stat-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline;font-size:.7rem;margin-right:3px;color:#666}.stat-row[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--accent-color, #4db6ac)}.cardHistoria[_ngcontent-%COMP%]::-webkit-scrollbar, .stats-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.cardHistoria[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .stats-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#444;border-radius:2px}.bonus[_ngcontent-%COMP%]{font-size:.75rem;margin-left:2px;font-weight:700;color:#4db6ac}@media (max-width: 600px){.cardPlayers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{grid-template-columns:1fr}.cardPlayers[_ngcontent-%COMP%]{max-width:90%;margin:0}}"]})};var xe=[{path:"",component:S},{path:"create",loadComponent:()=>import("./chunk-LYACTZMS.js").then(o=>o.CreatePerso)},{path:"lore",loadComponent:()=>import("./chunk-2CLXMFUR.js").then(o=>o.Lore)},{path:"home",loadComponent:()=>import("./chunk-DGLVVTKH.js").then(o=>o.Home)},{path:"admin",component:k}];var ue={production:!1,firebase:{apiKey:"AIzaSyBpUh6X2Doj9P48yDBNfbrIypOUCu8onh4",authDomain:"dissonancia-rpg.firebaseapp.com",projectId:"dissonancia-rpg",storageBucket:"dissonancia-rpg.firebasestorage.app",messagingSenderId:"29041773816",appId:"1:29041773816:web:1eb756a3684e931fa33f0d",measurementId:"G-Q1WDRQCNXC"}};var be={providers:[R(),Q({eventCoalescing:!0}),J(xe),oe(()=>re(ue.firebase)),se(()=>le()),de(()=>me())]};var I=class o{title=V("dissonancia");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-root"]],decls:2,vars:0,template:function(e,s){e&1&&(t(0,"main"),W(1,"router-outlet"),n())},dependencies:[K],encapsulation:2})};Y(I,be).catch(o=>console.error(o));
