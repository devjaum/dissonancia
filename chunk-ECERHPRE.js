var uM=Object.defineProperty,lM=Object.defineProperties;var dM=Object.getOwnPropertyDescriptors;var WI=Object.getOwnPropertySymbols,hM=Object.getPrototypeOf,fM=Object.prototype.hasOwnProperty,pM=Object.prototype.propertyIsEnumerable,gM=Reflect.get;var KI=(n,e,t)=>e in n?uM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})fM.call(e,t)&&KI(n,t,e[t]);if(WI)for(var t of WI(e))pM.call(e,t)&&KI(n,t,e[t]);return n},me=(n,e)=>lM(n,dM(e));var ir=(n,e,t)=>gM(hM(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Z(n){return typeof n=="function"}function Uf(n){return Z(n?.lift)}function ue(n){return e=>{if(Uf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function to(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gu=to(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Jr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ce=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof gu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{QI(o)}catch(s){e=e??[],s instanceof gu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)QI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jr(t,e)}remove(e){let{_finalizers:t}=this;t&&Jr(t,e),e instanceof n&&e._removeParent(this)}};Ce.EMPTY=(()=>{let n=new Ce;return n.closed=!0,n})();var Bf=Ce.EMPTY;function mu(n){return n instanceof Ce||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function QI(n){Z(n)?n():n.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var no={setTimeout(n,e,...t){let{delegate:r}=no;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=no;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yu(n){no.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(n);else throw n})}function ea(){}var YI=$f("C",void 0,void 0);function ZI(n){return $f("E",void 0,n)}function JI(n){return $f("N",n,void 0)}function $f(n,e,t){return{kind:n,value:e,error:t}}var Xr=null;function ro(n){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Xr;if(Xr=null,t)throw r}}else n()}function XI(n){Wt.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=n)}var ei=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mu(e)&&e.add(this)):this.destination=vM}static create(e,t,r){return new io(e,t,r)}next(e){this.isStopped?qf(JI(e),this):this._next(e)}error(e){this.isStopped?qf(ZI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(YI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mM=Function.prototype.bind;function Hf(n,e){return mM.call(n,e)}var zf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){vu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){vu(r)}else vu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vu(t)}}},io=class extends ei{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hf(e.next,o),error:e.error&&Hf(e.error,o),complete:e.complete&&Hf(e.complete,o)}):i=e}this.destination=new zf(i)}};function vu(n){Wt.useDeprecatedSynchronousErrorHandling?XI(n):yu(n)}function yM(n){throw n}function qf(n,e){let{onStoppedNotification:t}=Wt;t&&no.setTimeout(()=>t(n,e))}var vM={closed:!0,next:ea,error:yM,complete:ea};function ae(n,e,t,r,i){return new Gf(n,e,t,r,i)}var Gf=class extends ei{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function te(n,e){return ue((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var Wf;function _u(){return Wf}function sn(n){let e=Wf;return Wf=n,e}var ew=Symbol("NotFound");function oo(n){return n===ew||n?.name==="\u0275NotFound"}var ot=null,Eu=!1,Kf=1,_M=null,st=Symbol("SIGNAL");function ne(n){let e=ot;return ot=n,e}function Du(){return ot}var so={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ao(n){if(Eu)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ot.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ot.producers,t!==void 0&&t.producer===n)){ot.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ot&&(!r||IM(i,ot)))return;let o=uo(ot),s={producer:n,consumer:ot,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ot.producersTail=s,e!==void 0?e.nextProducer=s:ot.producers=s,o&&iw(n,s)}function tw(){Kf++}function bu(n){if(!(uo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Kf)){if(!n.producerMustRecompute(n)&&!ra(n)){Tu(n);return}n.producerRecomputeValue(n),Tu(n)}}function Qf(n){if(n.consumers===void 0)return;let e=Eu;Eu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||EM(r)}}finally{Eu=e}}function Yf(){return ot?.consumerAllowSignalWrites!==!1}function EM(n){n.dirty=!0,Qf(n),n.consumerMarkedDirty?.(n)}function Tu(n){n.dirty=!1,n.lastCleanEpoch=Kf}function co(n){return n&&nw(n),ne(n)}function nw(n){n.producersTail=void 0,n.recomputing=!0}function na(n,e){ne(e),n&&rw(n)}function rw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(uo(n))do t=Zf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ra(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(bu(t),r!==t.version))return!0}return!1}function ia(n){if(uo(n)){let e=n.producers;for(;e!==void 0;)e=Zf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iw(n,e){let t=n.consumersTail,r=uo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iw(i.producer,i)}function Zf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!uo(e)){let o=e.producers;for(;o!==void 0;)o=Zf(o)}return t}function uo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Cu(n){_M?.(n)}function IM(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Su(n,e){return Object.is(n,e)}function Au(n,e){let t=Object.create(wM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(bu(t),ao(t),t.value===ta)throw t.error;return t.value};return r[st]=t,Cu(t),r}var Iu=Symbol("UNSET"),wu=Symbol("COMPUTING"),ta=Symbol("ERRORED"),wM=me(V({},so),{value:Iu,dirty:!0,error:null,equal:Su,kind:"computed",producerMustRecompute(n){return n.value===Iu||n.value===wu},producerRecomputeValue(n){if(n.value===wu)throw new Error("");let e=n.value;n.value=wu;let t=co(n),r,i=!1;try{r=n.computation(),ne(null),i=e!==Iu&&e!==ta&&r!==ta&&n.equal(e,r)}catch(o){r=ta,n.error=o}finally{na(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function TM(){throw new Error}var ow=TM;function sw(n){ow(n)}function Jf(n){ow=n}var DM=null;function Xf(n,e){let t=Object.create(Ru);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aw(t);return r[st]=t,Cu(t),[r,s=>lo(t,s),s=>ep(t,s)]}function aw(n){return ao(n),n.value}function lo(n,e){Yf()||sw(n),n.equal(n.value,e)||(n.value=e,bM(n))}function ep(n,e){Yf()||sw(n),lo(n,e(n.value))}var Ru=me(V({},so),{equal:Su,value:void 0,kind:"signal"});function bM(n){n.version++,tw(),Qf(n),DM?.(n)}var ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(n){return n}function Nu(...n){return tp(n)}function tp(n){return n.length===0?Ct:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=SM(t)?t:new io(t,r,i);return ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=cw(r),new r((i,o)=>{let s=new io({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ho](){return this}pipe(...t){return tp(t)(this)}toPromise(t){return t=cw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function cw(n){var e;return(e=n??Wt.Promise)!==null&&e!==void 0?e:Promise}function CM(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function SM(n){return n&&n instanceof ei||CM(n)&&mu(n)}function fo(){return ue((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var po=class extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return fo()(this)}};var uw=to(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Mu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new uw}next(t){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bf:(this.currentObservers=null,o.push(t),new Ce(()=>{this.currentObservers=null,Jr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new K;return t.source=this,t}}return n.create=(e,t)=>new Mu(e,t),n})(),Mu=class extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Bf}};var Ze=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var np={now(){return(np.delegate||Date).now()},delegate:void 0};var Pu=class extends Ce{constructor(e,t){super()}schedule(e,t=0){return this}};var oa={setInterval(n,e,...t){let{delegate:r}=oa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=oa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var go=class extends Pu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&oa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var mo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};mo.now=np.now;var yo=class extends mo{constructor(e,t=mo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var rp=new yo(go);var ku=class extends go{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var xu=class extends yo{};var ip=new xu(ku);var Et=new K(n=>n.complete());function lw(n){return n&&Z(n.schedule)}function dw(n){return n[n.length-1]}function Ou(n){return Z(dw(n))?n.pop():void 0}function or(n){return lw(dw(n))?n.pop():void 0}function op(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function fw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function hw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(n){return this instanceof ti?(this.v=n,this):new ti(n)}function pw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,O){o.push([y,M,R,O])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof ti?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof hw=="function"?hw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Lu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Fu(n){return Z(n?.then)}function Vu(n){return Z(n[ho])}function ju(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function Uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=AM();function $u(n){return Z(n?.[Bu])}function Hu(n){return pw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ti(t.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{t.releaseLock()}})}function qu(n){return Z(n?.getReader)}function Pe(n){if(n instanceof K)return n;if(n!=null){if(Vu(n))return RM(n);if(Lu(n))return NM(n);if(Fu(n))return MM(n);if(ju(n))return mw(n);if($u(n))return PM(n);if(qu(n))return kM(n)}throw Uu(n)}function RM(n){return new K(e=>{let t=n[ho]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NM(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function MM(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yu)})}function PM(n){return new K(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mw(n){return new K(e=>{xM(n,e).catch(t=>e.error(t))})}function kM(n){return mw(Hu(n))}function xM(n,e){var t,r,i,o;return fw(this,void 0,void 0,function*(){try{for(t=gw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function It(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function sr(n,e=0){return ue((t,r)=>{t.subscribe(ae(r,i=>It(r,n,()=>r.next(i),e),()=>It(r,n,()=>r.complete(),e),i=>It(r,n,()=>r.error(i),e)))})}function ar(n,e=0){return ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yw(n,e){return Pe(n).pipe(ar(e),sr(e))}function vw(n,e){return Pe(n).pipe(ar(e),sr(e))}function _w(n,e){return new K(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ew(n,e){return new K(t=>{let r;return It(t,e,()=>{r=n[Bu](),It(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function zu(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{It(t,e,()=>{let r=n[Symbol.asyncIterator]();It(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Iw(n,e){return zu(Hu(n),e)}function ww(n,e){if(n!=null){if(Vu(n))return yw(n,e);if(Lu(n))return _w(n,e);if(Fu(n))return vw(n,e);if(ju(n))return zu(n,e);if($u(n))return Ew(n,e);if(qu(n))return Iw(n,e)}throw Uu(n)}function Se(n,e){return e?ww(n,e):Pe(n)}function q(...n){let e=or(n);return Se(n,e)}function vo(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new K(e?i=>e.schedule(r,0,i):r)}function sp(n){return!!n&&(n instanceof K||Z(n.lift)&&Z(n.subscribe))}var Nn=to(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var{isArray:OM}=Array;function LM(n,e){return OM(e)?n(...e):n(e)}function Gu(n){return te(e=>LM(n,e))}var{isArray:FM}=Array,{getPrototypeOf:VM,prototype:jM,keys:UM}=Object;function Wu(n){if(n.length===1){let e=n[0];if(FM(e))return{args:e,keys:null};if(BM(e)){let t=UM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function BM(n){return n&&typeof n=="object"&&VM(n)===jM}function Ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Qu(...n){let e=or(n),t=Ou(n),{args:r,keys:i}=Wu(n);if(r.length===0)return Se([],e);let o=new K($M(r,e,i?s=>Ku(i,s):Ct));return t?o.pipe(Gu(t)):o}function $M(n,e,t=Ct){return r=>{Tw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Tw(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Tw(n,e,t){n?It(t,n,e):e()}function Dw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;Pe(t(M,h++)).subscribe(ae(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?It(e,s,()=>S(O)):S(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(n,e,t=1/0){return Z(e)?Ve((r,i)=>te((o,s)=>e(r,o,i,s))(Pe(n(r,i))),t):(typeof e=="number"&&(t=e),ue((r,i)=>Dw(r,i,n,t)))}function bw(n=1/0){return Ve(Ct,n)}function Cw(){return bw(1)}function _o(...n){return Cw()(Se(n,or(n)))}function sa(n){return new K(e=>{Pe(n()).subscribe(e)})}function HM(...n){let e=Ou(n),{args:t,keys:r}=Wu(n),i=new K(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Pe(t[h]).subscribe(ae(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(Gu(e)):i}function St(n,e){return ue((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function cr(n){return ue((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Pe(n(s,cr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Sw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Eo(n,e){return Z(e)?Ve(n,e,1):Ve(n,1)}function ur(n){return ue((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mn(n){return n<=0?()=>Et:ue((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yu(n=qM){return ue((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qM(){return new Nn}function aa(n){return ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Pn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Ct,Mn(1),t?ur(e):Yu(()=>new Nn))}function Io(n){return n<=0?()=>Et:ue((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ap(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Ct,Io(1),t?ur(e):Yu(()=>new Nn))}function Zu(n,e){return ue(Sw(n,e,arguments.length>=2,!0))}function Ju(...n){let e=or(n);return ue((t,r)=>{(e?_o(n,t,e):_o(n,t)).subscribe(r)})}function Je(n,e){return ue((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;Pe(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xu(n){return ue((e,t)=>{Pe(n).subscribe(ae(t,()=>t.complete(),ea)),!t.closed&&e.subscribe(t)})}function Be(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}function Aw(n){let e=ne(null);try{return n()}finally{ne(e)}}var To=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ep=new To("20.3.9");var Ip="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Do(e,t)),this.code=e}};function zM(n){return`NG0${Math.abs(n)}`}function Do(n,e){return`${zM(n)}${e?": "+e:""}`}function fe(n){for(let e in n)if(n[e]===fe)return e;throw Error("")}function Mw(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function wp(n,e){return n?e?`${n} ${e}`:n:e||""}var GM=fe({__forward_ref__:fe});function rl(n){return n.__forward_ref__=rl,n.toString=function(){return xn(this())},n}function Xe(n){return Tp(n)?n():n}function Tp(n){return typeof n=="function"&&n.hasOwnProperty(GM)&&n.__forward_ref__===rl}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bo(n){return{providers:n.providers||[],imports:n.imports||[]}}function da(n){return WM(n,il)}function Dp(n){return da(n)!==null}function WM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function KM(n){let e=n?.[il]??null;return e||null}function up(n){return n&&n.hasOwnProperty(tl)?n[tl]:null}var il=fe({\u0275prov:fe}),tl=fe({\u0275inj:fe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bp(n){return n&&!!n.\u0275providers}var Cp=fe({\u0275cmp:fe}),Sp=fe({\u0275dir:fe}),Ap=fe({\u0275pipe:fe}),Rp=fe({\u0275mod:fe}),ua=fe({\u0275fac:fe}),si=fe({__NG_ELEMENT_ID__:fe}),Rw=fe({__NG_ENV_ID__:fe});function ha(n){return typeof n=="string"?n:n==null?"":String(n)}function Pw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ha(n)}var kw=fe({ngErrorCode:fe}),QM=fe({ngErrorMessage:fe}),YM=fe({ngTokenPath:fe});function Np(n,e){return xw("",-200,e)}function ol(n,e){throw new j(-201,!1)}function xw(n,e,t){let r=new j(e,n);return r[kw]=e,r[QM]=n,t&&(r[YM]=t),r}function ZM(n){return n[kw]}var lp;function Ow(){return lp}function gt(n){let e=lp;return lp=n,e}function Mp(n,e,t){let r=da(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ol(n,"Injector")}var JM={},ni=JM,dp="__NG_DI_FLAG__",hp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ri(t)||0;try{return this.injector.get(e,r&8?null:ni,r)}catch(i){if(oo(i))return i;throw i}}};function XM(n,e=0){let t=_u();if(t===void 0)throw new j(-203,!1);if(t===null)return Mp(n,void 0,e);{let r=eP(e),i=t.retrieve(n,r);if(oo(i)){if(r.optional)return null;throw i}return i}}function re(n,e=0){return(Ow()||XM)(Xe(n),e)}function P(n,e){return re(n,ri(e))}function ri(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function eP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function fp(n){let e=[];for(let t=0;t<n.length;t++){let r=Xe(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=tP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function Lw(n,e){return n[dp]=e,n.prototype[dp]=e,n}function tP(n){return n[dp]}function lr(n,e){let t=n.hasOwnProperty(ua);return t?n[ua]:null}function sl(n,e){n.forEach(t=>Array.isArray(t)?sl(t,e):e(t))}function Pp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Vw(n,e,t){let r=Co(n,e);return r>=0?n[r|1]=t:(r=~r,Fw(n,r,e,t)),r}function al(n,e){let t=Co(n,e);if(t>=0)return n[t|1]}function Co(n,e){return nP(n,e,1)}function nP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var fr={},At=[],On=new U(""),kp=new U("",-1),xp=new U(""),la=class{get(e,t=ni){if(t===ni){let i=xw("",-201);throw i.name="\u0275NotFound",i}return t}};function Op(n){return n[Rp]||null}function pr(n){return n[Cp]||null}function Lp(n){return n[Sp]||null}function jw(n){return n[Ap]||null}function Rt(n){return{\u0275providers:n}}function Uw(n){return Rt([{provide:On,multi:!0,useValue:n}])}function Bw(...n){return{\u0275providers:Fp(!0,n),\u0275fromNgModule:!0}}function Fp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sl(e,s=>{let a=s;nl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$w(i,o),t}function $w(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Vp(i,o=>{e(o,r)})}}function nl(n,e,t,r){if(n=Xe(n),!n)return!1;let i=null,o=up(n),s=!o&&pr(n);if(!o&&!s){let u=n.ngModule;if(o=up(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)nl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sl(o.imports,h=>{nl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$w(l,e)}if(!a){let l=lr(i)||(()=>new i);e({provide:i,useFactory:l,deps:At},i),e({provide:xp,useValue:i,multi:!0},i),e({provide:On,useValue:()=>re(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Vp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Vp(n,e){for(let t of n)bp(t)&&(t=t.\u0275providers),Array.isArray(t)?Vp(t,e):e(t)}var rP=fe({provide:String,useValue:fe});function Hw(n){return n!==null&&typeof n=="object"&&rP in n}function iP(n){return!!(n&&n.useExisting)}function oP(n){return!!(n&&n.useFactory)}function ii(n){return typeof n=="function"}function qw(n){return!!n.useClass}var pa=new U(""),el={},Nw={},cp;function ga(){return cp===void 0&&(cp=new la),cp}var je=class{},oi=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,gp(e,s=>this.processProvider(s)),this.records.set(kp,wo(void 0,this)),i.has("environment")&&this.records.set(je,wo(void 0,this));let o=this.records.get(pa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xp,At,{self:!0}))}retrieve(e,t){let r=ri(t)||0;try{return this.get(e,ni,r)}catch(i){if(oo(i))return i;throw i}}destroy(){ca(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return ca(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ca(this);let t=sn(this),r=gt(void 0),i;try{return e()}finally{sn(t),gt(r)}}get(e,t=ni,r){if(ca(this),e.hasOwnProperty(Rw))return e[Rw](this);let i=ri(r),o,s=sn(this),a=gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=lP(e)&&da(e);h&&this.injectableDefInScope(h)?l=wo(pp(e),el):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ga():this.parent;return t=i&8&&t===ni?null:t,u.get(e,t)}catch(u){let l=ZM(u);throw l===-200||l===-201?new j(l,null):u}finally{gt(a),sn(s)}}resolveInjectorInitializers(){let e=ne(null),t=sn(this),r=gt(void 0),i;try{let o=this.get(On,At,{self:!0});for(let s of o)s()}finally{sn(t),gt(r),ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xe(e);let t=ii(e)?e:Xe(e&&e.provide),r=aP(e);if(!ii(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wo(void 0,el,!0),i.factory=()=>fp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ne(null);try{if(t.value===Nw)throw Np(xn(e));return t.value===el&&(t.value=Nw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&uP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Xe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function pp(n){let e=da(n),t=e!==null?e.factory:lr(n);if(t!==null)return t;if(n instanceof U)throw new j(204,!1);if(n instanceof Function)return sP(n);throw new j(204,!1)}function sP(n){if(n.length>0)throw new j(204,!1);let t=KM(n);return t!==null?()=>t.factory(n):()=>new n}function aP(n){if(Hw(n))return wo(void 0,n.useValue);{let e=jp(n);return wo(e,el)}}function jp(n,e,t){let r;if(ii(n)){let i=Xe(n);return lr(i)||pp(i)}else if(Hw(n))r=()=>Xe(n.useValue);else if(oP(n))r=()=>n.useFactory(...fp(n.deps||[]));else if(iP(n))r=(i,o)=>re(Xe(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Xe(n&&(n.useClass||n.provide));if(cP(n))r=()=>new i(...fp(n.deps));else return lr(i)||pp(i)}return r}function ca(n){if(n.destroyed)throw new j(205,!1)}function wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cP(n){return!!n.deps}function uP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function gp(n,e){for(let t of n)Array.isArray(t)?gp(t,e):t&&bp(t)?gp(t.\u0275providers,e):e(t)}function Ue(n,e){let t;n instanceof oi?(ca(n),t=n):t=new hp(n);let r,i=sn(t),o=gt(void 0);try{return e()}finally{sn(i),gt(o)}}function zw(){return Ow()!==void 0||_u()!=null}var Kt=0,ee=1,J=2,et=3,Vt=4,jt=5,ma=6,So=7,at=8,gr=9,Ln=10,Ae=11,Ao=12,Up=13,ai=14,Ut=15,ci=16,ui=17,li=18,ya=19,Bp=20,kn=21,cl=22,va=23,Nt=24,ul=25,_a=26,ct=27,Gw=1;var mr=7,Ea=8,Ia=9,wt=10;function cn(n){return Array.isArray(n)&&typeof n[Gw]=="object"}function Qt(n){return Array.isArray(n)&&n[Gw]===!0}function $p(n){return(n.flags&4)!==0}function yr(n){return n.componentOffset>-1}function wa(n){return(n.flags&1)===1}function un(n){return!!n.template}function Ro(n){return(n[J]&512)!==0}function di(n){return(n[J]&256)===256}var Ww="svg",Kw="math";function Bt(n){for(;Array.isArray(n);)n=n[Kt];return n}function Hp(n,e){return Bt(e[n])}function Yt(n,e){return Bt(e[n.index])}function ll(n,e){return n.data[e]}function qp(n,e){return n[e]}function zp(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function $t(n,e){let t=e[n];return cn(t)?t:t[Kt]}function dl(n){return(n[J]&128)===128}function Qw(n){return Qt(n[et])}function Ta(n,e){return e==null?null:n[e]}function Gp(n){n[ui]=0}function Wp(n){n[J]&1024||(n[J]|=1024,dl(n)&&ba(n))}function Yw(n,e){for(;n>0;)e=e[ai],n--;return e}function Da(n){return!!(n[J]&9216||n[Nt]?.dirty)}function hl(n){n[Ln].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),Da(n)&&ba(n)}function ba(n){n[Ln].changeDetectionScheduler?.notify(0);let e=dr(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!dl(e)));)e=dr(e)}function Kp(n,e){if(di(n))throw new j(911,!1);n[kn]===null&&(n[kn]=[]),n[kn].push(e)}function Zw(n,e){if(n[kn]===null)return;let t=n[kn].indexOf(e);t!==-1&&n[kn].splice(t,1)}function dr(n){let e=n[et];return Qt(e)?e[et]:e}function Jw(n){return n[So]??=[]}function Xw(n){return n.cleanup??=[]}var oe={lFrame:_T(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mp=!1;function eT(){return oe.lFrame.elementDepthCount}function tT(){oe.lFrame.elementDepthCount++}function nT(){oe.lFrame.elementDepthCount--}function Qp(){return oe.bindingsEnabled}function rT(){return oe.skipHydrationRootTNode!==null}function iT(n){return oe.skipHydrationRootTNode===n}function oT(){oe.skipHydrationRootTNode=null}function ye(){return oe.lFrame.lView}function Tt(){return oe.lFrame.tView}function sT(n){return oe.lFrame.contextLView=n,n[at]}function aT(n){return oe.lFrame.contextLView=null,n}function Dt(){let n=Yp();for(;n!==null&&n.type===64;)n=n.parent;return n}function Yp(){return oe.lFrame.currentTNode}function cT(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function No(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Zp(){return oe.lFrame.isParent}function uT(){oe.lFrame.isParent=!1}function lT(){return oe.lFrame.contextLView}function Jp(){return mp}function Xp(n){let e=mp;return mp=n,e}function dT(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function hT(n){return oe.lFrame.bindingIndex=n}function Mo(){return oe.lFrame.bindingIndex++}function fT(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pT(){return oe.lFrame.inI18n}function gT(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,fl(e)}function mT(){return oe.lFrame.currentDirectiveIndex}function fl(n){oe.lFrame.currentDirectiveIndex=n}function yT(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function eg(n){oe.lFrame.currentQueryIndex=n}function dP(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[jt]:null}function tg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=dP(o),i===null||(o=o[ai],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=vT();return r.currentTNode=e,r.lView=n,!0}function pl(n){let e=vT(),t=n[ee];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vT(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?_T(n):e}function _T(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ET(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ng=ET;function gl(){let n=ET();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IT(n){return(oe.lFrame.contextLView=Yw(n,oe.lFrame.contextLView))[at]}function hi(){return oe.lFrame.selectedIndex}function vr(n){oe.lFrame.selectedIndex=n}function ml(){let n=oe.lFrame;return ll(n.tView,n.selectedIndex)}function wT(){return oe.lFrame.currentNamespace}var TT=!0;function yl(){return TT}function vl(n){TT=n}function yp(n,e=null,t=null,r){let i=rg(n,e,t,r);return i.resolveInjectorInitializers(),i}function rg(n,e=null,t=null,r,i=new Set){let o=[t||At,Bw(n)];return r=r||(typeof n=="object"?void 0:xn(n)),new oi(o,e||ga(),r||null,i)}var $e=class n{static THROW_IF_NOT_FOUND=ni;static NULL=new la;static create(e,t){if(Array.isArray(e))return yp({name:""},t,e,"");{let r=e.name??"";return yp({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>re(kp)});static __NG_ELEMENT_ID__=-1},He=new U(""),_r=(()=>{class n{static __NG_ELEMENT_ID__=hP;static __NG_ENV_ID__=t=>t}return n})(),vp=class extends _r{_lView;constructor(e){super(),this._lView=e}get destroyed(){return di(this._lView)}onDestroy(e){let t=this._lView;return Kp(t,e),()=>Zw(t,e)}};function hP(){return new vp(ye())}var an=class{_console=console;handleError(e){this._console.error("ERROR",e)}},mt=new U("",{providedIn:"root",factory:()=>{let n=P(je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(an),e.handleError(t))}}}),DT={provide:On,useValue:()=>void P(an),multi:!0},fP=new U("",{providedIn:"root",factory:()=>{let n=P(He).defaultView;if(!n)return;let e=P(mt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(_r).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function pP(){return Rt([Uw(()=>void P(fP))])}function ig(n){return typeof n=="function"&&n[st]!==void 0}function Po(n,e){let[t,r,i]=Xf(n,e?.equal),o=t,s=o[st];return o.set=r,o.update=i,o.asReadonly=bT.bind(o),o}function bT(){let n=this[st];if(n.readonlyFn===void 0){let e=()=>this();e[st]=n,n.readonlyFn=e}return n.readonlyFn}function og(n){return ig(n)&&typeof n.set=="function"}var hr=class{},Ca=new U("",{providedIn:"root",factory:()=>!1});var sg=new U(""),ag=new U(""),ln=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),ko=(()=>{class n{internalPendingTasks=P(ln);scheduler=P(hr);errorHandler=P(mt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sa(...n){}var cg=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new _p})}return n})(),_p=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Uo(n){return{toString:n}.toString()}var _l="__parameters__";function TP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function DP(n,e,t){return Uo(()=>{let r=TP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_l)?u[_l]:Object.defineProperty(u,_l,{value:[]})[_l];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Mt=Lw(DP("Optional"),8);function bP(n){return typeof n=="function"}var Dl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function rD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jl=(()=>{let n=()=>iD;return n.ngInherit=!0,n})();function iD(n){return n.type.prototype.ngOnChanges&&(n.setInput=SP),CP}function CP(){let n=sD(this),e=n?.current;if(e){let t=n.previous;if(t===fr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SP(n,e,t,r,i){let o=this.declaredInputs[r],s=sD(n)||AP(n,{previous:fr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dl(l&&l.currentValue,t,u===fr),rD(n,e,i,t)}var oD="__ngSimpleChanges__";function sD(n){return n[oD]||null}function AP(n,e){return n[oD]=e}var CT=[];var Ie=function(n,e=null,t){for(let r=0;r<CT.length;r++){let i=CT[r];i(n,e,t)}};function RP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function aD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Il(n,e,t){cD(n,e,3,t)}function wl(n,e,t,r){(n[J]&3)===t&&cD(n,e,t,r)}function ug(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function cD(n,e,t,r){let i=r!==void 0?n[ui]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ui]+=65536),(a<o||o==-1)&&(NP(n,t,e,u),n[ui]=(n[ui]&4294901760)+u+2),u++}function ST(n,e){Ie(4,n,e);let t=ne(null);try{e.call(n)}finally{ne(t),Ie(5,n,e)}}function NP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[J]>>14<n[ui]>>16&&(n[J]&3)===e&&(n[J]+=16384,ST(a,o)):ST(a,o)}var Oo=-1,pi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function MP(n){return(n.flags&8)!==0}function PP(n){return(n.flags&16)!==0}function kP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];OP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function xP(n){return n===3||n===4||n===6}function OP(n){return n.charCodeAt(0)===64}function Na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AT(n,t,i,null,e[++r]):AT(n,t,i,null,null))}}return n}function AT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function uD(n){return n!==Oo}function bl(n){return n&32767}function LP(n){return n>>16}function Cl(n,e){let t=LP(n),r=e;for(;t>0;)r=r[ai],t--;return r}var _g=!0;function Sl(n){let e=_g;return _g=n,e}var FP=256,lD=FP-1,dD=5,VP=0,dn={};function jP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(si)&&(r=t[si]),r==null&&(r=t[si]=VP++);let i=r&lD,o=1<<i;e.data[n+(i>>dD)]|=o}function Al(n,e){let t=hD(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,lg(r.data,n),lg(e,null),lg(r.blueprint,null));let i=jg(n,e),o=n.injectorIndex;if(uD(i)){let s=bl(i),a=Cl(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function lg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function jg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=yD(i),r===null)return Oo;if(t++,i=i[ai],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Oo}function Eg(n,e,t){jP(n,e,t)}function fD(n,e,t){if(t&8||n!==void 0)return n;ol(e,"NodeInjector")}function pD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[gr],o=gt(void 0);try{return i?i.get(e,r,t&8):Mp(e,r,t&8)}finally{gt(o)}}return fD(r,e,t)}function gD(n,e,t,r=0,i){if(n!==null){if(e[J]&2048&&!(r&2)){let s=qP(n,e,t,r,dn);if(s!==dn)return s}let o=mD(n,e,t,r,dn);if(o!==dn)return o}return pD(e,t,r,i)}function mD(n,e,t,r,i){let o=$P(t);if(typeof o=="function"){if(!tg(e,n,r))return r&1?fD(i,t,r):pD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ol(t);else return s}finally{ng()}}else if(typeof o=="number"){let s=null,a=hD(n,e),u=Oo,l=r&1?e[Ut][jt]:null;for((a===-1||r&4)&&(u=a===-1?jg(n,e):e[a+8],u===Oo||!NT(r,!1)?a=-1:(s=e[ee],a=bl(u),e=Cl(u,e)));a!==-1;){let h=e[ee];if(RT(o,a,h.data)){let p=UP(a,e,t,s,r,l);if(p!==dn)return p}u=e[a+8],u!==Oo&&NT(r,e[ee].data[a+8]===l)&&RT(o,a,e)?(s=h,a=bl(u),e=Cl(u,e)):a=-1}}return i}function UP(n,e,t,r,i,o){let s=e[ee],a=s.data[n+8],u=r==null?yr(a)&&_g:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=BP(a,s,t,u,l);return h!==null?Rl(e,s,h,a,i):dn}function BP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&un(y)&&y.type===t)return u}return null}function Rl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof pi){let a=o;if(a.resolving){let y=Pw(s[t]);throw Np(y)}let u=Sl(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?gt(a.injectImpl):null,m=tg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&RP(t,s[t],e)}finally{p!==null&&gt(p),Sl(u),a.resolving=!1,ng()}}return o}function $P(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(si)?n[si]:void 0;return typeof e=="number"?e>=0?e&lD:HP:e}function RT(n,e,t){let r=1<<n;return!!(t[e+(n>>dD)]&r)}function NT(n,e){return!(n&2)&&!(n&1&&e)}var fi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gD(this._tNode,this._lView,e,ri(r),t)}};function HP(){return new fi(Dt(),ye())}function Ul(n){return Uo(()=>{let e=n.prototype.constructor,t=e[ua]||Ig(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ua]||Ig(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ig(n){return Tp(n)?()=>{let e=Ig(Xe(n));return e&&e()}:lr(n)}function qP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Ro(s);){let a=mD(o,s,t,r|2,dn);if(a!==dn)return a;let u=o.parent;if(!u){let l=s[Bp];if(l){let h=l.get(t,dn,r);if(h!==dn)return h}u=yD(s),s=s[ai]}o=u}return i}function yD(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[jt]:null}function zP(){return Bl(Dt(),ye())}function Bl(n,e){return new Ug(Yt(n,e))}var Ug=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=zP}return n})();function vD(n){return(n.flags&128)===128}var Bg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Bg||{}),_D=new Map,GP=0;function WP(){return GP++}function KP(n){_D.set(n[ya],n)}function wg(n){_D.delete(n[ya])}var MT="__ngContext__";function Lo(n,e){cn(e)?(n[MT]=e[ya],KP(e)):n[MT]=e}function ED(n){return wD(n[Ao])}function ID(n){return wD(n[Vt])}function wD(n){for(;n!==null&&!Qt(n);)n=n[Vt];return n}var Tg;function $g(n){Tg=n}function TD(){if(Tg!==void 0)return Tg;if(typeof document<"u")return document;throw new j(210,!1)}var $l=new U("",{providedIn:"root",factory:()=>QP}),QP="ng",Hl=new U(""),Ir=new U("",{providedIn:"platform",factory:()=>"unknown"});var ql=new U("",{providedIn:"root",factory:()=>TD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YP="h",ZP="b";var DD=!1,bD=new U("",{providedIn:"root",factory:()=>DD});var JP=(n,e,t,r)=>{};function XP(n,e,t,r){JP(n,e,t,r)}function Hg(n){return(n.flags&32)===32}var ek=()=>null;function CD(n,e,t=!1){return ek(n,e,t)}function SD(n,e){let t=n.contentQueries;if(t!==null){let r=ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];eg(o),a.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function Dg(n,e,t){eg(0);let r=ne(null);try{e(n,t)}finally{ne(r)}}function AD(n,e,t){if($p(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ne(r)}}}var Fn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Fn||{});var bg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ip})`}};function RD(n){return n instanceof bg?n.changingThisBreaksApplicationSecurity:n}function ND(n){return n instanceof Function?n():n}function tk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var MD="ng-template";function nk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(qg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function qg(n){return n.type===4&&n.value!==MD}function rk(n,e,t){let r=n.type===4&&!t?MD:n.value;return e===r}function ik(n,e,t){let r=4,i=n.attrs,o=i!==null?ak(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Zt(r)&&!Zt(u))return!1;if(s&&Zt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rk(n,u,t)||u===""&&e.length===1){if(Zt(r))return!1;s=!0}}else if(r&8){if(i===null||!nk(n,i,u,t)){if(Zt(r))return!1;s=!0}}else{let l=e[++a],h=ok(u,i,qg(n),t);if(h===-1){if(Zt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Zt(r))return!1;s=!0}}}}return Zt(r)||s}function Zt(n){return(n&1)===0}function ok(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ck(e,n)}function sk(n,e,t=!1){for(let r=0;r<e.length;r++)if(ik(n,e[r],t))return!0;return!1}function ak(n){for(let e=0;e<n.length;e++){let t=n[e];if(xP(t))return e}return n.length}function ck(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function PT(n,e){return n?":not("+e.trim()+")":e}function uk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Zt(s)&&(e+=PT(o,i),i=""),r=s,o=o||!Zt(r);t++}return i!==""&&(e+=PT(o,i)),e}function lk(n){return n.map(uk).join(",")}function dk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Zt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var fn={};function hk(n,e){return n.createText(e)}function fk(n,e,t){n.setValue(e,t)}function PD(n,e,t){return n.createElement(e,t)}function Nl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kD(n,e,t){n.appendChild(e,t)}function kT(n,e,t,r,i){r!==null?Nl(n,e,t,r,i):kD(n,e,t)}function pk(n,e,t,r){n.removeChild(null,e,t,r)}function gk(n,e,t){n.setAttribute(e,"style",t)}function mk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&kP(n,e,r),i!==null&&mk(n,e,i),o!==null&&gk(n,e,o)}function zg(n,e,t,r,i,o,s,a,u,l,h){let p=ct+r,m=p+i,y=yk(p,m),S=typeof l=="function"?l():l;return y[ee]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function yk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:fn);return t}function vk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=zg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Gg(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Kt]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),Gp(p),p[et]=p[ai]=n,p[at]=t,p[Ln]=s||n&&n[Ln],p[Ae]=a||n&&n[Ae],p[gr]=u||n&&n[gr]||null,p[jt]=o,p[ya]=WP(),p[ma]=h,p[Bp]=l,p[Ut]=e.type==2?n[Ut]:p,p}function _k(n,e,t){let r=Yt(e,n),i=vk(t),o=n[Ln].rendererFactory,s=Wg(n,Gg(n,i,null,OD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function OD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function LD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Wg(n,e){return n[Ao]?n[Up][Vt]=e:n[Ao]=e,n[Up]=e,e}function Ek(n=1){FD(Tt(),ye(),hi()+n,!1)}function FD(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Il(e,o,t)}else{let o=n.preOrderHooks;o!==null&&wl(e,o,0,t)}vr(t)}var zl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(zl||{});function Cg(n,e,t,r){let i=ne(null);try{let[o,s,a]=n.inputs[t],u=null;(s&zl.SignalBased)!==0&&(u=e[o][st]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):rD(e,u,o,r)}finally{ne(i)}}var hn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(hn||{}),Ik;function Kg(n,e){return Ik(n,e)}var Fo=new Set,Qg=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Qg||{}),xa=new U(""),xT=new Set;function Gl(n){xT.has(n)||(xT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var VD=!1,Sg=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zw()&&(this.destroyRef=P(_r,{optional:!0})??void 0,this.pendingTasks=P(ln,{optional:!0})??void 0)}emit(e){let t=ne(null);try{super.next(e)}finally{ne(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},yt=Sg;function jD(n){let e,t;function r(){n=Sa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function OT(n){return queueMicrotask(()=>n()),()=>{n=Sa}}var Yg="isAngularZone",Ml=Yg+"_ID",wk=0,ve=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yt(!1);onMicrotaskEmpty=new yt(!1);onStable=new yt(!1);onError=new yt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=VD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,bk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Tk,Sa,Sa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Tk={};function Zg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jD(()=>{n.callbackScheduled=!1,Ag(n),n.isCheckStableRunning=!0,Zg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ag(n)}function bk(n){let e=()=>{Dk(n)},t=wk++;n._inner=n._inner.fork({name:"angular",properties:{[Yg]:!0,[Ml]:t,[Ml+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Ck(u))return r.invokeTask(o,s,a,u);try{return LT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),FT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Sk(u)&&e(),FT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ag(n),Zg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ag(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FT(n){n._nesting--,Zg(n)}var Pl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yt;onMicrotaskEmpty=new yt;onStable=new yt;onError=new yt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Ck(n){return UD(n,"__ignore_ng_zone__")}function Sk(n){return UD(n,"__scheduler_tick__")}function UD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var BD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var Ak=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function $D(n,e){let t=n.get(Ak);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function Rk(n,e){for(let[t,r]of e)$D(n,r.animateFns)}function VT(n,e,t,r){let i=n?.[_a]?.enter;e!==null&&i&&i.has(t.index)&&Rk(r,i)}function xo(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;Qt(i)?u=i:cn(i)&&(l=!0,i=i[Kt]);let h=Bt(i);n===0&&r!==null?(VT(a,r,o,t),s==null?kD(e,r,h):Nl(e,r,h,s||null,!0)):n===1&&r!==null?(VT(a,r,o,t),Nl(e,r,h,s||null,!0)):n===2?jT(a,o,t,p=>{pk(e,h,l,p)}):n===3&&jT(a,o,t,()=>{e.destroyNode(h)}),u!=null&&$k(e,n,t,u,o,r,s)}}function Nk(n,e){HD(n,e),e[Kt]=null,e[jt]=null}function Mk(n,e,t,r,i,o){r[Kt]=i,r[jt]=e,Wl(n,r,t,1,i,o)}function HD(n,e){e[Ln].changeDetectionScheduler?.notify(9),Wl(n,e,e[Ae],2,null,null)}function Pk(n){let e=n[Ao];if(!e)return dg(n[ee],n);for(;e;){let t=null;if(cn(e))t=e[Ao];else{let r=e[wt];r&&(t=r)}if(!t){for(;e&&!e[Vt]&&e!==n;)cn(e)&&dg(e[ee],e),e=e[et];e===null&&(e=n),cn(e)&&dg(e[ee],e),t=e&&e[Vt]}e=t}}function Jg(n,e){let t=n[Ia],r=t.indexOf(e);t.splice(r,1)}function qD(n,e){if(di(e))return;let t=e[Ae];t.destroyNode&&Wl(n,e,t,3,null,null),Pk(e)}function dg(n,e){if(di(e))return;let t=ne(null);try{e[J]&=-129,e[J]|=256,e[Nt]&&ia(e[Nt]),Ok(n,e),xk(n,e),e[ee].type===1&&e[Ae].destroy();let r=e[ci];if(r!==null&&Qt(e[et])){r!==e[et]&&Jg(r,e);let i=e[li];i!==null&&i.detachView(n)}wg(e)}finally{ne(t)}}function jT(n,e,t,r){let i=n?.[_a];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Fo.add(n),$D(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),kk(n,r)}else n&&Fo.delete(n),r(!1)})}function kk(n,e){let t=n[_a]?.running;if(t){t.then(()=>{n[_a].running=void 0,Fo.delete(n),e(!0)});return}e(!1)}function xk(n,e){let t=n.cleanup,r=e[So];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[So]=null);let i=e[kn];if(i!==null){e[kn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[va];if(o!==null){e[va]=null;for(let s of o)s.destroy()}}function Ok(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof pi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ie(4,a,u);try{u.call(a)}finally{Ie(5,a,u)}}else{Ie(4,i,o);try{o.call(i)}finally{Ie(5,i,o)}}}}}function Lk(n,e,t){return Fk(n,e.parent,t)}function Fk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kt];if(yr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Fn.None||i===Fn.Emulated)return null}return Yt(r,t)}function Vk(n,e,t){return Uk(n,e,t)}function jk(n,e,t){return n.type&40?Yt(n,t):null}var Uk=jk,UT;function Xg(n,e,t,r){let i=Lk(n,r,e),o=e[Ae],s=r.parent||e[jt],a=Vk(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)kT(o,i,t[u],a,!1);else kT(o,i,t,a,!1);UT!==void 0&&UT(o,r,e,t,i)}function Aa(n,e){if(e!==null){let t=e.type;if(t&3)return Yt(e,n);if(t&4)return Rg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Aa(n,r);{let i=n[e.index];return Qt(i)?Rg(-1,i):Bt(i)}}else{if(t&128)return Aa(n,e.next);if(t&32)return Kg(e,n)()||Bt(n[e.index]);{let r=zD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=dr(n[Ut]);return Aa(i,r)}else return Aa(n,e.next)}}}return null}function zD(n,e){if(e!==null){let r=n[Ut][jt],i=e.projection;return r.projection[i]}return null}function Rg(n,e){let t=wt+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return Aa(r,i)}return e[mr]}function em(n,e,t,r,i,o,s){for(;t!=null;){let a=r[gr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Lo(Bt(u),r),t.flags|=2),!Hg(t))if(l&8)em(n,e,t.child,r,i,o,!1),xo(e,n,a,i,u,t,o,r);else if(l&32){let h=Kg(t,r),p;for(;p=h();)xo(e,n,a,i,p,t,o,r);xo(e,n,a,i,u,t,o,r)}else l&16?Bk(n,e,r,t,i,o):xo(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Wl(n,e,t,r,i,o){em(t,r,n.firstChild,e,i,o,!1)}function Bk(n,e,t,r,i,o){let s=t[Ut],u=s[jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];xo(e,n,t[gr],i,h,r,o,t)}else{let l=u,h=s[et];vD(r)&&(l.flags|=128),em(n,e,l,h,i,o,!0)}}function $k(n,e,t,r,i,o,s){let a=r[mr],u=Bt(r);a!==u&&xo(e,n,t,o,a,i,s);for(let l=wt;l<r.length;l++){let h=r[l];Wl(h[ee],h,n,e,o,a)}}function Hk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:hn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hn.Important),n.setStyle(t,r,i,o))}}function GD(n,e,t,r,i){let o=hi(),s=r&2;try{vr(-1),s&&e.length>ct&&FD(n,e,ct,!1),Ie(s?2:0,i,t),t(r,i)}finally{vr(o),Ie(s?3:1,i,t)}}function tm(n,e,t){Yk(n,e,t),(t.flags&64)===64&&Zk(n,e,t)}function WD(n,e,t=Yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function qk(n,e,t,r){let o=r.get(bD,DD)||t===Fn.ShadowDom,s=n.selectRootElement(e,o);return zk(s),s}function zk(n){Gk(n)}var Gk=()=>null;function Wk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function KD(n,e,t,r,i,o){let s=e[ee];if(nm(n,s,e,t,r)){yr(n)&&Qk(e,n.index);return}n.type&3&&(t=Wk(t)),Kk(n,e,t,r,i,o)}function Kk(n,e,t,r,i,o){if(n.type&3){let s=Yt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Qk(n,e){let t=$t(e,n);t[J]&16||(t[J]|=64)}function Yk(n,e,t){let r=t.directiveStart,i=t.directiveEnd;yr(t)&&_k(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Al(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Rl(e,n,s,t);if(Lo(u,e),o!==null&&tx(e,s-r,u,a,t,o),un(a)){let l=$t(t.index,e);l[at]=Rl(e,n,s,t)}}}function Zk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=mT();try{vr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];fl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Jk(u,l)}}finally{vr(-1),fl(s)}}function Jk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function QD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];sk(e,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function Xk(n,e,t,r,i,o){let s=Yt(n,e);ex(e[Ae],s,o,n.value,t,r,i)}function ex(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ha(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function tx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Cg(r,t,u,l)}}function nx(n,e,t,r,i){let o=ct+t,s=e[ee],a=i(s,e,n,r,t);e[o]=a,No(n,!0);let u=n.type===2;return u?(xD(e[Ae],a,n),(eT()===0||wa(n))&&Lo(a,e),tT()):Lo(a,e),yl()&&(!u||!Hg(n))&&Xg(s,e,a,n),n}function rx(n){let e=n;return Zp()?uT():(e=e.parent,No(e,!1)),e}function ix(n,e){let t=n[gr];if(!t)return;let r;try{r=t.get(mt,null)}catch{r=null}r?.(e)}function nm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Cg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Cg(h,l,r,i),a=!0}return a}function ox(n,e){let t=$t(e,n),r=t[ee];sx(r,t);let i=t[Kt];i!==null&&t[ma]===null&&(t[ma]=CD(i,t[gr])),Ie(18),rm(r,t,t[at]),Ie(19,t[at])}function sx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function rm(n,e,t){pl(e);try{let r=n.viewQuery;r!==null&&Dg(1,r,t);let i=n.template;i!==null&&GD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[li]?.finishViewCreation(n),n.staticContentQueries&&SD(n,e),n.staticViewQueries&&Dg(2,n.viewQuery,t);let o=n.components;o!==null&&ax(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,gl()}}function ax(n,e){for(let t=0;t<e.length;t++)ox(n,e[t])}function cx(n,e,t,r){let i=ne(null);try{let o=e.tView,a=n[J]&4096?4096:16,u=Gg(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ci]=l;let h=n[li];return h!==null&&(u[li]=h.createEmbeddedView(o)),rm(o,u,t),u}finally{ne(i)}}function BT(n,e){return!e||e.firstChild===null||vD(n)}function Ma(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Bt(o)),Qt(o)&&YD(o,r);let s=t.type;if(s&8)Ma(n,e,t.child,r);else if(s&32){let a=Kg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zD(e,t);if(Array.isArray(a))r.push(...a);else{let u=dr(e[Ut]);Ma(u[ee],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YD(n,e){for(let t=wt;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&Ma(r[ee],r,i,e)}n[mr]!==n[Kt]&&e.push(n[mr])}function ZD(n){if(n[ul]!==null){for(let e of n[ul])e.impl.addSequence(e);n[ul].length=0}}var JD=[];function ux(n){return n[Nt]??lx(n)}function lx(n){let e=JD.pop()??Object.create(hx);return e.lView=n,e}function dx(n){n.lView[Nt]!==n&&(n.lView=null,JD.push(n))}var hx=me(V({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ba(n.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function fx(n){let e=n[Nt]??Object.create(px);return e.lView=n,e}var px=me(V({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=dr(n.lView);for(;e&&!XD(e[ee]);)e=dr(e);e&&Wp(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function XD(n){return n.type!==2}function eb(n){if(n[va]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[va])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var gx=100;function tb(n,e=0){let r=n[Ln].rendererFactory,i=!1;i||r.begin?.();try{mx(n,e)}finally{i||r.end?.()}}function mx(n,e){let t=Jp();try{Xp(!0),Ng(n,e);let r=0;for(;Da(n);){if(r===gx)throw new j(103,!1);r++,Ng(n,1)}}finally{Xp(t)}}function yx(n,e,t,r){if(di(e))return;let i=e[J],o=!1,s=!1;pl(e);let a=!0,u=null,l=null;o||(XD(n)?(l=ux(e),u=co(l)):Du()===null?(a=!1,l=fx(e),u=co(l)):e[Nt]&&(ia(e[Nt]),e[Nt]=null));try{Gp(e),hT(n.bindingStartIndex),t!==null&&GD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Il(e,y,null)}else{let y=n.preOrderHooks;y!==null&&wl(e,y,0,null),ug(e,0)}if(s||vx(e),eb(e),nb(e,0),n.contentQueries!==null&&SD(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Il(e,y)}else{let y=n.contentHooks;y!==null&&wl(e,y,1),ug(e,1)}Ex(n,e);let p=n.components;p!==null&&ib(e,p,0);let m=n.viewQuery;if(m!==null&&Dg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Il(e,y)}else{let y=n.viewHooks;y!==null&&wl(e,y,2),ug(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cl]){for(let y of e[cl])y();e[cl]=null}o||(ZD(e),e[J]&=-73)}catch(h){throw o||ba(e),h}finally{l!==null&&(na(l,u),a&&dx(l)),gl()}}function nb(n,e){for(let t=ED(n);t!==null;t=ID(t))for(let r=wt;r<t.length;r++){let i=t[r];rb(i,e)}}function vx(n){for(let e=ED(n);e!==null;e=ID(e)){if(!(e[J]&2))continue;let t=e[Ia];for(let r=0;r<t.length;r++){let i=t[r];Wp(i)}}}function _x(n,e,t){Ie(18);let r=$t(e,n);rb(r,t),Ie(19,r[at])}function rb(n,e){dl(n)&&Ng(n,e)}function Ng(n,e){let r=n[ee],i=n[J],o=n[Nt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ra(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)yx(r,n,r.template,n[at]);else if(i&8192){let a=ne(null);try{eb(n),nb(n,1);let u=r.components;u!==null&&ib(n,u,1),ZD(n)}finally{ne(a)}}}function ib(n,e,t){for(let r=0;r<e.length;r++)_x(n,e[r],t)}function Ex(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)vr(~i);else{let o=i,s=t[++r],a=t[++r];gT(s,o);let u=e[o];Ie(24,u),a(2,u),Ie(25,u)}}}finally{vr(-1)}}function im(n,e){let t=Jp()?64:1088;for(n[Ln].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=dr(n);if(Ro(n)&&!r)return n;n=r}return null}function ob(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Ix(n,e,t,r=!0){let i=e[ee];if(wx(i,e,n,t),r){let s=Rg(t,n),a=e[Ae],u=a.parentNode(n[mr]);u!==null&&Mk(i,n[jt],a,e,u,s)}let o=e[ma];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mg(n,e){if(n.length<=wt)return;let t=wt+e,r=n[t];if(r){let i=r[ci];i!==null&&i!==n&&Jg(i,r),e>0&&(n[t-1][Vt]=r[Vt]);let o=fa(n,wt+e);Nk(r[ee],r);let s=o[li];s!==null&&s.detachView(o[ee]),r[et]=null,r[Vt]=null,r[J]&=-129}return r}function wx(n,e,t,r){let i=wt+r,o=t.length;r>0&&(t[i-1][Vt]=e),r<o-wt?(e[Vt]=t[i],Pp(t,wt+r,e)):(t.push(e),e[Vt]=null),e[et]=t;let s=e[ci];s!==null&&t!==s&&sb(s,e);let a=e[li];a!==null&&a.insertView(n),hl(e),e[J]|=128}function sb(n,e){let t=n[Ia],r=e[et];if(cn(r))n[J]|=2;else{let i=r[et][Ut];e[Ut]!==i&&(n[J]|=2)}t===null?n[Ia]=[e]:t.push(e)}var Er=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ee];return Ma(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return di(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Qt(e)){let t=e[Ea],r=t?t.indexOf(this):-1;r>-1&&(Mg(e,r),fa(t,r))}this._attachedToViewContainer=!1}qD(this._lView[ee],this._lView)}onDestroy(e){Kp(this._lView,e)}markForCheck(){im(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){hl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,tb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ro(this._lView),t=this._lView[ci];t!==null&&!e&&Jg(t,this._lView),HD(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=Ro(this._lView),r=this._lView[ci];r!==null&&!t&&sb(r,this._lView),hl(this._lView)}};var Oa=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Tx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=cx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Er(o)}}return n})();function Tx(){return ab(Dt(),ye())}function ab(n,e){return n.type&4?new Oa(e,n,Bl(n,e)):null}function om(n,e,t,r,i){let o=n.data[e];if(o===null)o=Dx(n,e,t,r,i),pT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cT();o.injectorIndex=s===null?-1:s.injectorIndex}return No(o,!0),o}function Dx(n,e,t,r,i){let o=Yp(),s=Zp(),a=s?o:o&&o.parent,u=n.data[e]=Cx(n,a,t,e,r,i);return bx(n,u,o,s),u}function bx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Cx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return rT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PW=new RegExp(`^(\\d+)*(${ZP}|${YP})*(.*)`);var Sx=()=>null;function $T(n,e){return Sx(n,e)}var cb=class{},Kl=class{},Pg=class{resolveComponentFactory(e){throw new j(917,!1)}},La=class{static NULL=new Pg},gi=class{},ub=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ax()}return n})();function Ax(){let n=ye(),e=Dt(),t=$t(e.index,n);return(cn(t)?t:n)[Ae]}var lb=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Tl={},kg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Tl,r);return i!==Tl||t===Tl?i:this.parentInjector.get(e,t,r)}};function HT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wp(i,a);else if(o==2){let u=a,l=e[++s];r=wp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ht(n,e=0){let t=ye();if(t===null)return re(n,e);let r=Dt();return gD(r,t,Xe(n),e)}function db(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}Mx(n,e,t,a,o,u,l)}o!==null&&r!==null&&Rx(t,r,o)}function Rx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function Nx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Mx(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&un(y)&&(u=!0,Nx(n,t,m)),Eg(Al(t,e),n,y.type)}Fx(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=LD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Na(t.mergedAttrs,y.hostAttrs),kx(n,t,e,p,y),Lx(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Px(n,t,o)}function Px(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qT(0,e,i,r),qT(1,e,i,r),GT(e,r,!1);else{let o=t.get(i);zT(0,e,o,r),zT(1,e,o,r),GT(e,r,!0)}}}function qT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),hb(e,o)}}function zT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),hb(e,s)}}function hb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function GT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||qg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function kx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=lr(i.type,!0)),s=new pi(o,un(i),Ht,null);n.blueprint[r]=s,t[r]=s,xx(n,e,r,LD(n,t,i.hostVars,fn),i)}function xx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Ox(s)!=a&&s.push(a),s.push(t,r,o)}}function Ox(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Lx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;un(e)&&(t[""]=n)}}function Fx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fb(n,e,t,r,i,o,s,a){let u=e[ee],l=u.consts,h=Ta(l,s),p=om(u,n,t,r,h);return o&&db(u,e,p,Ta(l,a),i),p.mergedAttrs=Na(p.mergedAttrs,p.attrs),p.attrs!==null&&HT(p,p.attrs,!1),p.mergedAttrs!==null&&HT(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function pb(n,e){aD(n,e),$p(e)&&n.queries.elementEnd(e)}function sm(n){return mb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function gb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function mb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Vx(n,e,t){return n[e]=t}function vi(n,e,t){if(t===fn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function hg(n,e,t){return function r(i){let o=yr(n)?$t(n.index,e):e;im(o,5);let s=e[at],a=WT(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=WT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function WT(n,e,t,r){let i=ne(null);try{return Ie(6,e,t),t(r)!==!1}catch(o){return ix(n,o),!1}finally{Ie(7,e,t),ne(i)}}function jx(n,e,t,r,i,o,s,a){let u=wa(n),l=!1,h=null;if(!r&&u&&(h=Bx(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Yt(n,t),m=r?r(p):p;XP(t,m,o,a);let y=i.listen(m,o,a);if(!Ux(o)){let S=r?M=>r(Bt(M[n.index])):n.index;yb(S,e,t,o,a,y,!1)}}return l}function Ux(n){return n.startsWith("animation")||n.startsWith("transition")}function Bx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[So],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function yb(n,e,t,r,i,o,s){let a=e.firstCreatePass?Xw(e):null,u=Jw(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function KT(n,e,t,r,i,o){let s=e[t],a=e[ee],l=a.data[t].outputs[r],p=s[l].subscribe(o);yb(n.index,a,e,i,o,p,!0)}var xg=Symbol("BINDING");var kl=class extends La{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=pr(e);return new Vo(t,this.ngModule)}};function $x(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&zl.SignalBased)!==0};return i&&(o.transform=i),o})}function Hx(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function qx(n,e,t){let r=e instanceof je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new kg(t,r):t}function zx(n){let e=n.get(gi,null);if(e===null)throw new j(407,!1);let t=n.get(lb,null),r=n.get(hr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Gx(n,e){let t=vb(n);return PD(e,t,t==="svg"?Ww:t==="math"?Kw:null)}function vb(n){return(n.selectors[0][0]||"div").toLowerCase()}var Vo=class extends Kl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$x(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Hx(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=lk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ie(22);let a=ne(null);try{let u=this.componentDef,l=Wx(r,u,s,o),h=qx(u,i||this.ngModule,e),p=zx(h),m=p.rendererFactory.createRenderer(null,u),y=r?qk(m,r,u.encapsulation,h):Gx(u,m),S=s?.some(QT)||o?.some(O=>typeof O!="function"&&O.bindings.some(QT)),M=Gg(null,l,null,512|OD(u),null,null,p,m,h,null,CD(y,h,!0));M[ct]=y,pl(M);let R=null;try{let O=fb(ct,M,2,"#host",()=>l.directiveRegistry,!0,0);xD(m,y,O),Lo(y,M),tm(l,M,O),AD(l,O,M),pb(l,O),t!==void 0&&Qx(O,this.ngContentSelectors,t),R=$t(O.index,M),M[at]=R[at],rm(l,M,null)}catch(O){throw R!==null&&wg(R),wg(M),O}finally{Ie(23),gl()}return new xl(this.componentType,M,!!S)}finally{ne(a)}}};function Wx(n,e,t,r){let i=n?["ng-version","20.3.9"]:dk(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[xg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[xg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Lp(p);u.push(m)}return zg(0,null,Kx(o,s),1,a,u,null,null,null,[i],null)}function Kx(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function QT(n){let e=n[xg].kind;return e==="input"||e==="twoWay"}var xl=class extends cb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ll(t[ee],ct),this.location=Bl(this._tNode,t),this.instance=$t(this._tNode.index,t)[at],this.hostView=this.changeDetectorRef=new Er(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=nm(r,i[ee],i,e,t);this.previousInputValues.set(e,t);let s=$t(r.index,i);im(s,1)}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Qx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var _i=(()=>{class n{static __NG_ELEMENT_ID__=Yx}return n})();function Yx(){let n=Dt();return Jx(n,ye())}var Zx=_i,_b=class extends Zx{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=jg(this._hostTNode,this._hostLView);if(uD(e)){let t=Cl(e,this._hostLView),r=bl(e),i=t[ee].data[r+8];return new fi(i,t)}else return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$T(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,BT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!bP(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Vo(pr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(je,null);O&&(o=O)}let m=pr(h.componentType??{}),y=$T(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,BT(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Qw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[et],l=new _b(u,u[jt],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ix(s,i,o,r),e.attachToViewContainerRef(),Pp(fg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mg(this._lContainer,t);r&&(fa(fg(this._lContainer),t),qD(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mg(this._lContainer,t);return r&&fa(fg(this._lContainer),t)!=null?new Er(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YT(n){return n[Ea]}function fg(n){return n[Ea]||(n[Ea]=[])}function Jx(n,e){let t,r=e[n.index];return Qt(r)?t=r:(t=ob(r,e,null,n),e[n.index]=t,Wg(e,t)),eO(t,e,n,r),new _b(t,n,e)}function Xx(n,e){let t=n[Ae],r=t.createComment(""),i=Yt(e,n),o=t.parentNode(i);return Nl(t,o,r,t.nextSibling(i),!1),r}var eO=rO,tO=()=>!1;function nO(n,e,t){return tO(n,e,t)}function rO(n,e,t,r){if(n[mr])return;let i;t.type&8?i=Bt(r):i=Xx(e,t),n[mr]=i}var mi=class{},Ql=class{};var Ol=class extends mi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new kl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Op(e);this._bootstrapComponents=ND(o.bootstrap),this._r3Injector=rg(e,t,[{provide:mi,useValue:this},{provide:La,useValue:this.componentFactoryResolver},...r],xn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ll=class extends Ql{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ol(this.moduleType,e,[])}};var Pa=class extends mi{injector;componentFactoryResolver=new kl(this);instance=null;constructor(e){super();let t=new oi([...e.providers,{provide:mi,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],e.parent||ga(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fa(n,e,t=null){return new Pa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var iO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Fp(!1,t.type),i=r.length>0?Fa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(re(je))})}return n})();function am(n){return Uo(()=>{let e=Eb(n),t=me(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Bg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Fn.Emulated,styles:n.styles||At,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Gl("NgStandalone"),Ib(t);let r=n.dependencies;return t.directiveDefs=ZT(r,oO),t.pipeDefs=ZT(r,jw),t.id=cO(t),t})}function oO(n){return pr(n)||Lp(n)}function Va(n){return Uo(()=>({type:n.type,bootstrap:n.bootstrap||At,declarations:n.declarations||At,imports:n.imports||At,exports:n.exports||At,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sO(n,e){if(n==null)return fr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=zl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function aO(n){if(n==null)return fr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Bo(n){return Uo(()=>{let e=Eb(n);return Ib(e),e})}function cm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Eb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||fr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||At,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:sO(n.inputs,e),outputs:aO(n.outputs),debugInfo:null}}function Ib(n){n.features?.forEach(e=>e(n))}function ZT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function cO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uO(n){return Object.getPrototypeOf(n.prototype).constructor}function wb(n){let e=uO(n.type),t=!0,r=[n];for(;e;){let i;if(un(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=pg(n.inputs),s.declaredInputs=pg(n.declaredInputs),s.outputs=pg(n.outputs);let a=i.hostBindings;a&&pO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&hO(n,u),l&&fO(n,l),lO(n,i),Mw(n.outputs,i.outputs),un(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wb&&(t=!1)}}e=Object.getPrototypeOf(e)}dO(r)}function lO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function dO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,t=Na(t,i.hostAttrs))}}function pg(n){return n===fr?{}:n===At?[]:n}function hO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function fO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function pO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function gO(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Na(n.mergedAttrs,n.attrs);let h=n.tView=zg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),No(n,!1);let u=yO(t,e,n,r);yl()&&Xg(t,e,u,n),Lo(u,e);let l=ob(u,e,u,n);e[r+ct]=l,Wg(e,l),nO(l,n,e)}function mO(n,e,t,r,i,o,s,a,u,l,h){let p=t+ct,m;return e.firstCreatePass?(m=om(e,p,4,s||null,a||null),Qp()&&db(e,n,m,Ta(e.consts,l),QD),aD(e,m)):m=e.data[p],gO(m,n,e,t,r,i,o,u),wa(m)&&tm(e,n,m),l!=null&&WD(n,m,h),m}function Tb(n,e,t,r,i,o,s,a){let u=ye(),l=Tt(),h=Ta(l.consts,o);return mO(u,l,n,e,t,r,i,h,void 0,s,a),Tb}var yO=vO;function vO(n,e,t,r){return vl(!0),e[Ae].createComment("")}var um=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var lm=new U("");function Ei(n){return!!n&&typeof n.then=="function"}function Yl(n){return!!n&&typeof n.subscribe=="function"}var Db=new U("");var dm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(Db,{optional:!0})??[];injector=P($e);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(Ei(o))t.push(o);else if(Yl(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zl=new U("");function bb(){Jf(()=>{let n="";throw new j(600,n)})}function Cb(n){return n.isBoundToModule}var _O=10;var Ii=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(mt);afterRenderManager=P(BD);zonelessEnabled=P(Ca);rootEffectScheduler=P(cg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(ln);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){P(xa,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=$e.NULL){return this._injector.get(ve).run(()=>{Ie(10);let s=t instanceof Kl;if(!this._injector.get(dm).done){let S="";throw new j(405,S)}let u;s?u=t:u=this._injector.get(La).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Cb(u)?void 0:this._injector.get(mi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(lm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ra(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ie(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Qg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<_O;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Da(i))continue;let o=r&&!this.zonelessEnabled?0:1;tb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Da(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ra(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Zl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ra(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ra(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sb(n,e,t,r){let i=ye(),o=Mo();if(vi(i,o,e)){let s=Tt(),a=ml();Xk(a,i,n,e,t,r)}return Sb}var jW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ab(n,e,t){let r=ye(),i=Mo();if(vi(r,i,e)){let o=Tt(),s=ml();KD(s,r,n,e,r[Ae],t)}return Ab}function JT(n,e,t,r,i){nm(e,n,t,i?"class":"style",r)}function hm(n,e,t,r){let i=ye(),o=i[ee],s=n+ct,a=o.firstCreatePass?fb(s,i,2,e,QD,Qp(),t,r):o.data[s];if(nx(a,i,n,e,EO),wa(a)){let u=i[ee];tm(u,i,a),AD(u,a,i)}return r!=null&&WD(i,a),hm}function fm(){let n=Tt(),e=Dt(),t=rx(e);return n.firstCreatePass&&pb(n,t),iT(t)&&oT(),nT(),t.classesWithoutHost!=null&&MP(t)&&JT(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&PP(t)&&JT(n,t,ye(),t.stylesWithoutHost,!1),fm}function Jl(n,e,t,r){return hm(n,e,t,r),fm(),Jl}var EO=(n,e,t,r,i)=>(vl(!0),PD(e[Ae],r,wT()));function IO(){return ye()}var ja="en-US";var wO=ja;function Rb(n){typeof n=="string"&&(wO=n.toLowerCase().replace(/_/g,"-"))}function Nb(n,e,t){let r=ye(),i=Tt(),o=Dt();return Mb(i,r,r[Ae],o,n,e,t),Nb}function Mb(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=hg(r,e,o),jx(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=hg(r,e,o),KT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=hg(r,e,o),KT(r,e,p,i,i,u)}}function TO(n=1){return IT(n)}function DO(n){let e=lT();return qp(e,ct+n)}function El(n,e){return n<<17|e<<2}function yi(n){return n>>17&32767}function bO(n){return(n&2)==2}function CO(n,e){return n&131071|e<<17}function Og(n){return n|2}function jo(n){return(n&131068)>>2}function gg(n,e){return n&-131069|e<<2}function SO(n){return(n&1)===1}function Lg(n){return n|1}function AO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yi(s),u=jo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Co(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=yi(n[a+1]);n[r+1]=El(m,a),m!==0&&(n[m+1]=gg(n[m+1],r)),n[a+1]=CO(n[a+1],r)}else n[r+1]=El(a,0),a!==0&&(n[a+1]=gg(n[a+1],r)),a=r;else n[r+1]=El(u,0),a===0?a=r:n[u+1]=gg(n[u+1],r),u=r;l&&(n[r+1]=Og(n[r+1])),XT(n,h,r,!0),XT(n,h,r,!1),RO(e,h,n,r,o),s=El(a,u),o?e.classBindings=s:e.styleBindings=s}function RO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Co(o,e)>=0&&(t[r+1]=Lg(t[r+1]))}function XT(n,e,t,r){let i=n[t+1],o=e===null,s=r?yi(i):jo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];NO(u,e)&&(a=!0,n[s+1]=r?Lg(l):Og(l)),s=r?yi(l):jo(l)}a&&(n[t+1]=r?Og(i):Lg(i))}function NO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Co(n,e)>=0:!1}function Pb(n,e,t){return xb(n,e,t,!1),Pb}function kb(n,e){return xb(n,e,null,!0),kb}function xb(n,e,t,r){let i=ye(),o=Tt(),s=fT(2);if(o.firstUpdatePass&&PO(o,n,s,r),e!==fn&&vi(i,s,e)){let a=o.data[hi()];FO(o,a,i,i[Ae],n,i[s+1]=VO(e,t),r,s)}}function MO(n,e){return e>=n.expandoStartIndex}function PO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[hi()],s=MO(n,t);jO(o,r)&&e===null&&!s&&(e=!1),e=kO(i,o,e,r),AO(i,o,e,t,s,r)}}function kO(n,e,t,r){let i=yT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=mg(null,n,e,t,r),t=ka(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=mg(i,n,e,t,r),o===null){let u=xO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=mg(null,n,e,u[1],r),u=ka(u,e.attrs,r),OO(n,e,r,u))}else o=LO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function xO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(jo(r)!==0)return n[yi(r)]}function OO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[yi(i)]=r}function LO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ka(r,s,t)}return ka(r,e.attrs,t)}function mg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ka(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ka(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Vw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function FO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=SO(l)?eD(u,e,t,i,jo(l),s):void 0;if(!Fl(h)){Fl(o)||bO(l)&&(o=eD(u,null,t,i,a,s));let p=Hp(hi(),t);Hk(r,s,p,i,o)}}function eD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===fn&&(m=p?At:void 0);let y=p?al(m,r):h===r?m:void 0;if(l&&!Fl(y)&&(y=al(u,r)),Fl(y)&&(a=y,s))return a;let S=n[i+1];i=s?yi(S):jo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=al(u,r))}return a}function Fl(n){return n!==void 0}function VO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xn(RD(n)))),n}function jO(n,e){return(n.flags&(e?8:16))!==0}function UO(n,e=""){let t=ye(),r=Tt(),i=n+ct,o=r.firstCreatePass?om(r,i,1,e,null):r.data[i],s=BO(r,t,o,e,n);t[i]=s,yl()&&Xg(r,t,s,o),No(o,!1)}var BO=(n,e,t,r,i)=>(vl(!0),hk(e[Ae],r));function Ob(n,e,t,r=""){return vi(n,Mo(),t)?e+ha(t)+r:fn}function Lb(n){return pm("",n),Lb}function pm(n,e,t){let r=ye(),i=Ob(r,n,e,t);return i!==fn&&$O(r,hi(),i),pm}function $O(n,e,t){let r=Hp(e,n);fk(n[Ae],r,t)}function Fb(n,e,t){og(e)&&(e=e());let r=ye(),i=Mo();if(vi(r,i,e)){let o=Tt(),s=ml();KD(s,r,n,e,r[Ae],t)}return Fb}function HO(n,e){let t=og(n);return t&&n.set(e),t}function Vb(n,e){let t=ye(),r=Tt(),i=Dt();return Mb(r,t,t[Ae],i,n,e),Vb}function qO(n){return vi(ye(),Mo(),n)?ha(n):fn}function zO(n,e,t=""){return Ob(ye(),n,e,t)}function GO(n,e,t){let r=Tt();if(r.firstCreatePass){let i=un(n);Fg(t,r.data,r.blueprint,i,!0),Fg(e,r.data,r.blueprint,i,!1)}}function Fg(n,e,t,r,i){if(n=Xe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Fg(n[o],e,t,r,i);else{let o=Tt(),s=ye(),a=Dt(),u=ii(n)?n:Xe(n.provide),l=jp(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ii(n)||!n.multi){let y=new pi(l,i,Ht,null),S=vg(u,e,i?h:h+m,p);S===-1?(Eg(Al(a,s),o,u),yg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=vg(u,e,h+m,p),S=vg(u,e,h,h+m),M=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!M){Eg(Al(a,s),o,u);let O=QO(i?KO:WO,t.length,i,r,l,n);!i&&R&&(t[S].providerFactory=O),yg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=jb(t[i?S:y],l,!i&&r);yg(o,n,y>-1?y:S,O)}!i&&r&&R&&t[S].componentProviders++}}}function yg(n,e,t,r){let i=ii(e),o=qw(e);if(i||o){let u=(o?Xe(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function jb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function WO(n,e,t,r,i){return Vg(this.multi,[])}function KO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Rl(r,r[ee],this.providerFactory.index,i);s=u.slice(0,a),Vg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Vg(o,s);return s}function Vg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function QO(n,e,t,r,i,o){let s=new pi(n,t,Ht,null);return s.multi=[],s.index=e,s.componentProviders=0,jb(s,i,r&&!t),s}function YO(n,e=[]){return t=>{t.providersResolver=(r,i)=>GO(r,i?i(n):n,e)}}function ZO(n,e){let t=n[e];return t===fn?void 0:t}function JO(n,e,t,r,i,o){let s=e+t;return vi(n,s,i)?Vx(n,s+1,o?r.call(o,i):r(i)):ZO(n,s+1)}function XO(n,e){let t=Tt(),r,i=n+ct;t.firstCreatePass?(r=e1(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=lr(r.type,!0)),s,a=gt(Ht);try{let u=Sl(!1),l=o();return Sl(u),zp(t,ye(),i,l),l}finally{gt(a)}}function e1(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function t1(n,e,t){let r=n+ct,i=ye(),o=qp(i,r);return n1(i,r)?JO(i,dT(),e,o.transform,t,o):o.transform(t)}function n1(n,e){return n[ee].data[e].pure}function r1(n,e){return ab(n,e)}var Vl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gm=(()=>{class n{compileModuleSync(t){return new Ll(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Op(t),o=ND(i.declarations).reduce((s,a)=>{let u=pr(a);return u&&s.push(new Vo(u)),s},[]);return new Vl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var i1=(()=>{class n{zone=P(ve);changeDetectionScheduler=P(hr);applicationRef=P(Ii);applicationErrorHandler=P(mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ub=new U("",{factory:()=>!1});function mm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(me(V({},ym()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:On,multi:!0,useFactory:()=>{let r=P(i1,{optional:!0});return()=>r.initialize()}},{provide:On,multi:!0,useFactory:()=>{let r=P(s1);return()=>{r.initialize()}}},e===!0?{provide:sg,useValue:!0}:[],{provide:ag,useValue:t??VD},{provide:mt,useFactory:()=>{let r=P(ve),i=P(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(an),o.handleError(s))})}}}]}function o1(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=mm({ngZoneFactory:()=>{let i=ym(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Gl("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Rt([{provide:Ub,useValue:!0},{provide:Ca,useValue:!1},r])}function ym(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var s1=(()=>{class n{subscription=new Ce;initialized=!1;zone=P(ve);pendingTasks=P(ln);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bb=(()=>{class n{applicationErrorHandler=P(mt);appRef=P(Ii);taskService=P(ln);ngZone=P(ve);zonelessEnabled=P(Ca);tracing=P(xa,{optional:!0});disableScheduling=P(sg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ml):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(ag,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OT:jD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ml+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a1(){return typeof $localize<"u"&&$localize.locale||ja}var Xl=new U("",{providedIn:"root",factory:()=>P(Xl,{optional:!0,skipSelf:!0})||a1()});function Jt(n){return Aw(n)}function c1(n,e){return Au(n,e?.equal)}var $b=class{[st];constructor(e){this[st]=e}destroy(){this[st].destroy()}};var Gb=Symbol("InputSignalNode#UNSET"),b1=me(V({},Ru),{transformFn:void 0,applyValueToInputSignal(n,e){lo(n,e)}});function Wb(n,e){let t=Object.create(b1);t.value=n,t.transformFn=e?.transform;function r(){if(ao(t),t.value===Gb){let i=null;throw new j(-950,i)}return t.value}return r[st]=t,r}var C1=new U("");C1.__NG_ELEMENT_ID__=n=>{let e=Dt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function Hb(n,e){return Wb(n,e)}function S1(n){return Wb(Gb,n)}var Kb=(Hb.required=S1,Hb);var vm=new U(""),A1=new U("");function Ua(n){return!n.moduleRef}function R1(n){let e=Ua(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{Ua(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(mt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ua(n)){let o=()=>e.destroy(),s=n.platformInjector.get(vm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(vm);s.add(o),n.moduleRef.onDestroy(()=>{Ra(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return M1(r,t,()=>{let o=e.get(ln),s=o.add(),a=e.get(dm);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Xl,ja);if(Rb(u||ja),!e.get(A1,!0))return Ua(n)?e.get(Ii):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ua(n)){let h=e.get(Ii);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return N1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var N1;function M1(n,e,t){try{let r=t();return Ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var ed=null;function P1(n=[],e){return $e.create({name:e,providers:[{provide:pa,useValue:"platform"},{provide:vm,useValue:new Set([()=>ed=null])},...n]})}function k1(n=[]){if(ed)return ed;let e=P1(n);return ed=e,bb(),x1(e),e}function x1(n){let e=n.get(Hl,null);Ue(n,()=>{e?.forEach(t=>t())})}function Tm(){return!1}var nd=(()=>{class n{static __NG_ELEMENT_ID__=O1}return n})();function O1(n){return L1(Dt(),ye(),(n&16)===16)}function L1(n,e,t){if(yr(n)&&!t){let r=$t(n.index,e);return new Er(r,r)}else if(n.type&175){let r=e[Ut];return new Er(r,e)}return null}var _m=class{constructor(){}supports(e){return sm(e)}create(e){return new Em(e)}},F1=(n,e)=>e,Em=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||F1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<qb(r,i,o)?t:r,a=qb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sm(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,gb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Im(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new td),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new td),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Im=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},wm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},td=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new wm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function zb(){return new Dm([new _m])}var Dm=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:zb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=P(n,{optional:!0,skipSelf:!0});return n.create(t,r||zb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function Qb(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ie(8);try{let o=i?.injector??k1(r),s=[mm({}),{provide:hr,useExisting:Bb},DT,...t||[]],a=new Pa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return R1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ie(9)}}function V1(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Jb=null;function Vn(){return Jb}function bm(n){Jb??=n}var Ba=class{},Cm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(Xb),providedIn:"platform"})}return n})();var Xb=(()=>{class n extends Cm{_location;_history;_doc=P(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(t){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function eC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Yb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Tr(n){return n&&n[0]!=="?"?`?${n}`:n}var rd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(nC),providedIn:"root"})}return n})(),tC=new U(""),nC=(()=>{class n extends rd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(re(Cm),re(tC,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$o=(()=>{class n{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=B1(Yb(Zb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tr(r))}normalize(t){return n.stripTrailingSlash(U1(this._basePath,Zb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tr;static joinWithSlash=eC;static stripTrailingSlash=Yb;static \u0275fac=function(r){return new(r||n)(re(rd))};static \u0275prov=B({token:n,factory:()=>j1(),providedIn:"root"})}return n})();function j1(){return new $o(re(rd))}function U1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Zb(n){return n.replace(/\/index.html$/,"")}function B1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var id=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},oC=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new id(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),rC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ht(_i),Ht(Oa),Ht(Dm))};static \u0275dir=Bo({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function rC(n,e){n.context.$implicit=e.item}var $1=(()=>{class n{_viewContainer;_context=new od;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ht(_i),Ht(Oa))};static \u0275dir=Bo({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),od=class{$implicit=null;ngIf=null};function iC(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}function H1(n,e){return new j(2100,!1)}var Sm=class{createSubscription(e,t,r){return Jt(()=>e.subscribe({next:t,error:r}))}dispose(e){Jt(()=>e.unsubscribe())}},Am=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},q1=new Am,z1=new Sm,G1=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(mt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ei(t))return q1;if(Yl(t))return z1;throw H1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Ht(nd,16))};static \u0275pipe=cm({name:"async",type:n,pure:!1})}return n})();var sC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Va({type:n});static \u0275inj=bo({})}return n})();function Rm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $a=class{};var aC="browser";var Ha=class{_doc;constructor(e){this._doc=e}manager},sd=(()=>{class n extends Ha{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(re(He))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),cd=new U(""),xm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof sd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof sd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(re(cd),re(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Nm="ng-app-id";function cC(n){for(let e of n)e.remove()}function uC(n,e){let t=e.createElement("style");return t.textContent=n,t}function W1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Nm}="${e}"],link[${Nm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Nm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Pm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Om=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,W1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,uC);r?.forEach(i=>this.addUsage(i,this.external,Pm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(cC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])cC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,uC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Pm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(re(He),re($l),re(ql,8),re(Ir))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Mm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lm=/%COMP%/g;var dC="%COMP%",K1=`_nghost-${dC}`,Q1=`_ngcontent-${dC}`,Y1=!0,Z1=new U("",{providedIn:"root",factory:()=>Y1});function J1(n){return Q1.replace(Lm,n)}function X1(n){return K1.replace(Lm,n)}function hC(n,e){return e.map(t=>t.replace(Lm,n))}var Fm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new qa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ad?i.applyToHost(t):i instanceof za&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Fn.Emulated:o=new ad(u,l,r,this.appId,h,s,a,p,m);break;case Fn.ShadowDom:return new km(u,l,t,r,s,a,this.nonce,p,m);default:o=new za(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(re(xm),re(Om),re($l),re(Z1),re(He),re(Ir),re(ve),re(ql),re(xa,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),qa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Mm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(lC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Mm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Mm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hn.DashCase|hn.Important)?e.style.setProperty(t,r,i&hn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Vn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function lC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var km=class extends qa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=hC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Pm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},za=class extends qa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?hC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Fo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ad=class extends za{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=J1(h),this.hostAttr=X1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ud=class n extends Ba{supportsDOMEvents=!0;static makeCurrent(){bm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=eL();return t==null?null:tL(t)}resetBaseElement(){Ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rm(document.cookie,e)}},Ga=null;function eL(){return Ga=Ga||document.head.querySelector("base"),Ga?Ga.getAttribute("href"):null}function tL(n){return new URL(n,document.baseURI).pathname}var nL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),fC=["alt","control","meta","shift"],rL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},pC=(()=>{class n extends Ha{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=rL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fC.forEach(s=>{if(s!==i){let a=iL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(re(He))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function oL(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},sL(e));return Qb(r)}function sL(n){return{appProviders:[...dL,...n?.providers??[]],platformProviders:lL}}function aL(){ud.makeCurrent()}function cL(){return new an}function uL(){return $g(document),document}var lL=[{provide:Ir,useValue:aC},{provide:Hl,useValue:aL,multi:!0},{provide:He,useFactory:uL}];var dL=[{provide:pa,useValue:"root"},{provide:an,useFactory:cL},{provide:cd,useClass:sd,multi:!0,deps:[He]},{provide:cd,useClass:pC,multi:!0,deps:[He]},Fm,Om,xm,{provide:gi,useExisting:Fm},{provide:$a,useClass:nL},[]];var gC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(re(He))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",ac=Symbol("RouteTitle"),$m=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Di(n){return new $m(n)}function TC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pn(n[t],e[t]))return!1;return!0}function pn(n,e){let t=n?Hm(n):void 0,r=e?Hm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!DC(n[i],e[i]))return!1;return!0}function Hm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function DC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function bC(n){return n.length>0?n[n.length-1]:null}function Bn(n){return sp(n)?n:Ei(n)?Se(Promise.resolve(n)):q(n)}var pL={exact:SC,subset:AC},CC={exact:gL,subset:mL,ignored:()=>!0};function mC(n,e,t){return pL[t.paths](n.root,e.root,t.matrixParams)&&CC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gL(n,e){return pn(n,e)}function SC(n,e,t){if(!wi(n.segments,e.segments)||!hd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!SC(n.children[r],e.children[r],t))return!1;return!0}function mL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DC(n[t],e[t]))}function AC(n,e,t){return RC(n,e,e.segments,t)}function RC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!wi(i,t)||e.hasChildren()||!hd(i,t,r))}else if(n.segments.length===t.length){if(!wi(n.segments,t)||!hd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!AC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!wi(n.segments,i)||!hd(n.segments,i,r)||!n.children[Q]?!1:RC(n.children[Q],e,o,r)}}function hd(n,e,t){return e.every((r,i)=>CC[t](n[i].parameters,r.parameters))}var mn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){return _L.serialize(this)}},he=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fd(this)}},Dr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Di(this.parameters),this._parameterMap}toString(){return MC(this)}};function yL(n,e){return wi(n,e)&&n.every((t,r)=>pn(t.parameters,e[r].parameters))}function wi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var cc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new bi,providedIn:"root"})}return n})(),bi=class{parse(e){let t=new zm(e);return new mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wa(e.root,!0)}`,r=wL(e.queryParams),i=typeof e.fragment=="string"?`#${EL(e.fragment)}`:"";return`${t}${r}${i}`}},_L=new bi;function fd(n){return n.segments.map(e=>MC(e)).join("/")}function Wa(n,e){if(!n.hasChildren())return fd(n);if(e){let t=n.children[Q]?Wa(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Wa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vL(n,(r,i)=>i===Q?[Wa(n.children[Q],!1)]:[`${i}:${Wa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${fd(n)}/${t[0]}`:`${fd(n)}/(${t.join("//")})`}}function NC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ld(n){return NC(n).replace(/%3B/gi,";")}function EL(n){return encodeURI(n)}function qm(n){return NC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pd(n){return decodeURIComponent(n)}function yC(n){return pd(n.replace(/\+/g,"%20"))}function MC(n){return`${qm(n.path)}${IL(n.parameters)}`}function IL(n){return Object.entries(n).map(([e,t])=>`;${qm(e)}=${qm(t)}`).join("")}function wL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ld(t)}=${ld(i)}`).join("&"):`${ld(t)}=${ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var TL=/^[^\/()?;#]+/;function Vm(n){let e=n.match(TL);return e?e[0]:""}var DL=/^[^\/()?;=#]+/;function bL(n){let e=n.match(DL);return e?e[0]:""}var CL=/^[^=?&#]+/;function SL(n){let e=n.match(CL);return e?e[0]:""}var AL=/^[^&#]+/;function RL(n){let e=n.match(AL);return e?e[0]:""}var zm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new he(e,t)),r}parseSegment(){let e=Vm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Dr(pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=bL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Vm(this.remaining);i&&(r=i,this.capture(r))}e[pd(t)]=pd(r)}parseQueryParam(e){let t=SL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=RL(this.remaining);s&&(r=s,this.capture(r))}let i=yC(t),o=yC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o??Q]=Object.keys(s).length===1&&s[Q]?s[Q]:new he([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function PC(n){return n.segments.length>0?new he([],{[Q]:n}):n}function kC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=kC(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new he(n.segments,e);return NL(t)}function NL(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new he(n.segments.concat(e.segments),e.children)}return n}function Wo(n){return n instanceof mn}function xC(n,e,t=null,r=null){let i=OC(n);return LC(i,e,t,r)}function OC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new he(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=PC(r);return e??i}function LC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return jm(i,i,i,t,r);let o=ML(e);if(o.toRoot())return jm(i,i,new he([],{}),t,r);let s=PL(o,i,n),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):VC(s.segmentGroup,s.index,o.commands);return jm(i,s.segmentGroup,a,t,r)}function gd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ja(n){return typeof n=="object"&&n!=null&&n.outlets}function jm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=FC(n,e,t);let a=PC(kC(s));return new mn(a,o,i)}function FC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=FC(o,e,t)}),new he(n.segments,r)}var md=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gd(r[0]))throw new j(4003,!1);let i=r.find(Ja);if(i&&i!==bC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ML(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new md(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new md(t,e,r)}var zo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function PL(n,e,t){if(n.isAbsolute)return new zo(e,!0,0);if(!t)return new zo(e,!1,NaN);if(t.parent===null)return new zo(t,!0,0);let r=gd(n.commands[0])?0:1,i=t.segments.length-1+r;return kL(t,i,n.numberOfDoubleDots)}function kL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new zo(r,!1,i-o)}function xL(n){return Ja(n[0])?n[0].outlets:{[Q]:n}}function VC(n,e,t){if(n??=new he([],{}),n.segments.length===0&&n.hasChildren())return Qa(n,e,t);let r=OL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new he(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new he(n.segments.slice(r.pathIndex),n.children),Qa(o,0,i)}else return r.match&&i.length===0?new he(n.segments,{}):r.match&&!n.hasChildren()?Gm(n,e,t):r.match?Qa(n,0,i):Gm(n,e,t)}function Qa(n,e,t){if(t.length===0)return new he(n.segments,{});{let r=xL(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=Qa(n.children[Q],e,t);return new he(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new he(n.segments,i)}}function OL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ja(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_C(u,l,s))return o;r+=2}else{if(!_C(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ja(o)){let u=LL(o.outlets);return new he(r,u)}if(i===0&&gd(t[0])){let u=n.segments[e];r.push(new Dr(u.path,vC(t[0]))),i++;continue}let s=Ja(o)?o.outlets[Q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gd(a)?(r.push(new Dr(s,vC(a))),i+=2):(r.push(new Dr(s,{})),i++)}return new he(r,{})}function LL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Gm(new he([],{}),0,r))}),e}function vC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _C(n,e,t){return n==t.path&&pn(e,t.parameters)}var Ya="imperative",qe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(qe||{}),kt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ci=class extends kt{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jn=class extends kt{urlAfterRedirects;type=qe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vt||{}),Xa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Xa||{}),gn=class extends kt{reason;code;type=qe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends kt{reason;code;type=qe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ko=class extends kt{error;target;type=qe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ec=class extends kt{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class extends kt{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends kt{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_d=class extends kt{urlAfterRedirects;state;type=qe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ed=class extends kt{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class{route;type=qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wd=class{route;type=qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Td=class{snapshot;type=qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{snapshot;type=qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cd=class{snapshot;type=qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var tc=class{},Qo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function FL(n){return!(n instanceof tc)&&!(n instanceof Qo)}function VL(n,e){return n.providers&&!n._injector&&(n._injector=Fa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xt(n){return n.outlet||Q}function jL(n,e){let t=n.filter(r=>Xt(r)===e);return t.push(...n.filter(r=>Xt(r)!==e)),t}function Jo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Xo(this.rootInjector)}},Xo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(re(je))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ad=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Wm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Wm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Km(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Km(e,this._root).map(t=>t.value)}};function Wm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Wm(n,t);if(r)return r}return null}function Km(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Km(n,t);if(r.length)return r.unshift(e),r}return[]}var Pt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var nc=class extends Ad{snapshot;constructor(e,t){super(e),this.snapshot=t,ny(this,e)}toString(){return this.snapshot.toString()}};function jC(n){let e=UL(n),t=new Ze([new Dr("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new br(t,r,o,s,i,Q,n,e.root);return a.snapshot=e.root,new nc(new Pt(a,[]),e)}function UL(n){let e={},t={},r={},o=new Ti([],e,r,"",t,Q,n,null,{});return new rc("",new Pt(o,[]))}var br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[ac]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Di(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Di(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&BC(i)&&(r.resolve[ac]=i.title),r}var Ti=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ac]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},rc=class extends Ad{url;constructor(e,t){super(t),this.url=e,ny(this,t)}toString(){return UC(this._root)}};function ny(n,e){e.value._routerState=n,e.children.forEach(t=>ny(n,t))}function UC(n){let e=n.children.length>0?` { ${n.children.map(UC).join(", ")} } `:"";return`${n.value}${e}`}function Um(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),pn(e.params,t.params)||n.paramsSubject.next(t.params),fL(e.url,t.url)||n.urlSubject.next(t.url),pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qm(n,e){let t=pn(n.params,e.params)&&yL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Qm(n.parent,e.parent))}function BC(n){return typeof n.title=="string"||n.title===null}var $C=new U(""),ry=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new yt;deactivateEvents=new yt;attachEvents=new yt;detachEvents=new yt;routerOutletData=Kb();parentContexts=P(Xo);location=P(_i);changeDetector=P(nd);inputBinder=P(kd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ym(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Bo({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jl]})}return n})(),Ym=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===br?this.route:e===Xo?this.childContexts:e===$C?this.outletData:this.parent.get(e,t)}},kd=new U("");var iy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=am({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Jl(0,"router-outlet")},dependencies:[ry],encapsulation:2})}return n})();function oy(n){let e=n.children&&n.children.map(oy),t=e?me(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=iy),t}function BL(n,e,t){let r=ic(n,e._root,t?t._root:void 0);return new nc(r,e)}function ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$L(n,e,t);return new Pt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ic(n,a)),s}}let r=HL(e.value),i=e.children.map(o=>ic(n,o));return new Pt(r,i)}}function $L(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ic(n,r,i);return ic(n,r)})}function HL(n){return new br(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var Yo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},HC="ngNavigationCancelingError";function Nd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qC(!1,vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function qC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[HC]=!0,t.cancellationCode=e,t}function qL(n){return zC(n)&&Wo(n.url)}function zC(n){return!!n&&n[HC]}var zL=(n,e,t,r)=>te(i=>(new Zm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Zm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Um(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=qo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Um(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Um(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Md=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{component;route;constructor(e,t){this.component=e,this.route=t}};function GL(n,e,t){let r=n._root,i=e?e._root:null;return Ka(r,i,t,[r.value])}function WL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Dp(n)?n:e.get(n):r}function Ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qo(e);return n.children.forEach(s=>{KL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Za(a,t.getContext(s),i)),i}function KL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=QL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ka(n,e,a?a.children:null,r,i):Ka(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&Za(e,a,i),i.canActivateChecks.push(new Md(r)),o.component?Ka(n,null,a?a.children:null,r,i):Ka(n,null,t,r,i);return i}function QL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!wi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(n.url,e.url)||!pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qm(n,e)||!pn(n.queryParams,e.queryParams);case"paramsChange":default:return!Qm(n,e)}}function Za(n,e,t){let r=qo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Za(s,e.children.getContext(o),t):Za(s,null,t):Za(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Go(e.outlet.component,i)):t.canDeactivateChecks.push(new Go(null,i)):t.canDeactivateChecks.push(new Go(null,i))}function uc(n){return typeof n=="function"}function YL(n){return typeof n=="boolean"}function ZL(n){return n&&uc(n.canLoad)}function JL(n){return n&&uc(n.canActivate)}function XL(n){return n&&uc(n.canActivateChild)}function eF(n){return n&&uc(n.canDeactivate)}function tF(n){return n&&uc(n.canMatch)}function GC(n){return n instanceof Nn||n?.name==="EmptyError"}var dd=Symbol("INITIAL_VALUE");function Zo(){return Je(n=>Qu(n.map(e=>e.pipe(Mn(1),Ju(dd)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===dd)return dd;if(t===!1||nF(t))return t}return!0}),St(e=>e!==dd),Mn(1)))}function nF(n){return Wo(n)||n instanceof Yo}function rF(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(me(V({},t),{guardsResult:!0})):iF(s,r,i,n).pipe(Ve(a=>a&&YL(a)?oF(r,o,n,e):q(a)),te(a=>me(V({},t),{guardsResult:a})))})}function iF(n,e,t,r){return Se(n).pipe(Ve(i=>lF(i.component,i.route,t,e,r)),Pn(i=>i!==!0,!0))}function oF(n,e,t,r){return Se(e).pipe(Eo(i=>_o(aF(i.route.parent,r),sF(i.route,r),uF(n,i.path,t),cF(n,i.route,t))),Pn(i=>i!==!0,!0))}function sF(n,e){return n!==null&&e&&e(new bd(n)),q(!0)}function aF(n,e){return n!==null&&e&&e(new Td(n)),q(!0)}function cF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>sa(()=>{let s=Jo(e)??t,a=es(o,s),u=JL(a)?a.canActivate(e,n):Ue(s,()=>a(e,n));return Bn(u).pipe(Pn())}));return q(i).pipe(Zo())}function uF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WL(s)).filter(s=>s!==null).map(s=>sa(()=>{let a=s.guards.map(u=>{let l=Jo(s.node)??t,h=es(u,l),p=XL(h)?h.canActivateChild(r,n):Ue(l,()=>h(r,n));return Bn(p).pipe(Pn())});return q(a).pipe(Zo())}));return q(o).pipe(Zo())}function lF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=Jo(e)??i,l=es(a,u),h=eF(l)?l.canDeactivate(n,e,t,r):Ue(u,()=>l(n,e,t,r));return Bn(h).pipe(Pn())});return q(s).pipe(Zo())}function dF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=es(s,n),u=ZL(a)?a.canLoad(e,t):Ue(n,()=>a(e,t));return Bn(u)});return q(o).pipe(Zo(),WC(r))}function WC(n){return Nu(Be(e=>{if(typeof e!="boolean")throw Nd(n,e)}),te(e=>e===!0))}function hF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=es(s,n),u=tF(a)?a.canMatch(e,t):Ue(n,()=>a(e,t));return Bn(u)});return q(o).pipe(Zo(),WC(r))}var oc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},sc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ho(n){return vo(new oc(n))}function fF(n){return vo(new j(4e3,!1))}function pF(n){return vo(qC(!1,vt.GuardRejected))}var Jm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[Q])return fF(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return gF(t,i,o).pipe(te(s=>{if(s instanceof mn)throw new sc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new sc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new mn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new he(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function gF(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Bn(Ue(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mF(n,e,t,r,i){let o=KC(n,e,t);return o.matched?(r=VL(e,r),hF(r,e,t,i).pipe(te(s=>s===!0?o:V({},Xm)))):q(o)}function KC(n,e,t){if(e.path==="**")return yF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},Xm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TC)(t,n,e);if(!i)return V({},Xm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yF(n){return{matched:!0,parameters:n.length>0?bC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function EC(n,e,t,r){return t.length>0&&EF(n,t,r)?{segmentGroup:new he(e,_F(r,new he(t,n.children))),slicedSegments:[]}:t.length===0&&IF(n,t,r)?{segmentGroup:new he(n.segments,vF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new he(n.segments,n.children),slicedSegments:t}}function vF(n,e,t,r){let i={};for(let o of t)if(xd(n,e,o)&&!r[Xt(o)]){let s=new he([],{});i[Xt(o)]=s}return V(V({},r),i)}function _F(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&Xt(r)!==Q){let i=new he([],{});t[Xt(r)]=i}return t}function EF(n,e,t){return t.some(r=>xd(n,e,r)&&Xt(r)!==Q)}function IF(n,e,t){return t.some(r=>xd(n,e,r))}function xd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wF(n,e,t){return e.length===0&&!n.children[t]}var ey=class{};function TF(n,e,t,r,i,o,s="emptyOnly"){return new ty(n,e,t,r,i,s,o).recognize()}var DF=31,ty=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=EC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new Pt(r,t),o=new rc("",i),s=xC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ti([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(te(r=>({children:r,rootSnapshot:t})),cr(r=>{if(r instanceof sc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof Pt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Eo(s=>{let a=r.children[s],u=jL(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Zu((s,a)=>(s.push(...a),s)),ur(null),ap(),Ve(s=>{if(s===null)return Ho(r);let a=QC(s);return bF(a),q(a)}))}processSegment(e,t,r,i,o,s,a){return Se(t).pipe(Eo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(cr(l=>{if(l instanceof oc)return q(null);throw l}))),Pn(u=>!!u),cr(u=>{if(GC(u))return wF(r,i,o)?q(new ey):Ho(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Xt(r)!==s&&(s===Q||!xd(i,o,r))?Ho(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ho(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=KC(t,i,o);if(!u)return Ho(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DF&&(this.allowRedirects=!1));let y=new Ti(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,IC(i),Xt(i),i.component??i._loadedComponent??null,i,wC(i)),S=Rd(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Je(R=>this.applyRedirects.lineralizeSegments(i,R)),Ve(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=mF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Je(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Je(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Ti(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,IC(r),Xt(r),r.component??r._loadedComponent??null,r,wC(r)),M=Rd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=EC(t,m,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(te(W=>new Pt(S,W)));if(l.length===0&&O.length===0)return q(new Pt(S,[]));let G=Xt(r)===o;return this.processSegment(h,l,R,O,G?Q:o,!0,S).pipe(te(W=>new Pt(S,W instanceof Pt?[W]:[])))}))):Ho(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):dF(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(Be(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):pF(t))):q({routes:[],injector:e})}};function bF(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function CF(n){let e=n.value.routeConfig;return e&&e.path===""}function QC(n){let e=[],t=new Set;for(let r of n){if(!CF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=QC(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!t.has(r))}function IC(n){return n.data||{}}function wC(n){return n.resolve||{}}function SF(n,e,t,r,i,o){return Ve(s=>TF(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>me(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function AF(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of YC(u))s.add(l);let a=0;return Se(s).pipe(Eo(u=>o.has(u)?RF(u,r,n,e):(u.data=Rd(u,u.parent,n).resolve,q(void 0))),Be(()=>a++),Io(1),Ve(u=>a===s.size?q(t):Et))})}function YC(n){let e=n.children.map(t=>YC(t)).flat();return[n,...e]}function RF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!BC(i)&&(o[ac]=i.title),sa(()=>(n.data=Rd(n,n.parent,t).resolve,NF(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function NF(n,e,t,r){let i=Hm(n);if(i.length===0)return q({});let o={};return Se(i).pipe(Ve(s=>MF(n[s],e,t,r).pipe(Pn(),Be(a=>{if(a instanceof Yo)throw Nd(new bi,a);o[s]=a}))),Io(1),te(()=>o),cr(s=>GC(s)?Et:vo(s)))}function MF(n,e,t,r){let i=Jo(e)??r,o=es(n,i),s=o.resolve?o.resolve(e,t):Ue(i,()=>o(e,t));return Bn(s)}function Bm(n){return Je(e=>{let t=n(e);return t?Se(t).pipe(te(()=>e)):q(e)})}var sy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[ac]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(ZC),providedIn:"root"})}return n})(),ZC=(()=>{class n extends sy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(re(gC))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lc=new U("",{providedIn:"root",factory:()=>({})}),dc=new U(""),JC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(gm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Bn(Ue(t,()=>r.loadComponent())).pipe(te(eS),Je(tS),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),aa(()=>{this.componentLoaders.delete(r)})),o=new po(i,()=>new Ye).pipe(fo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=XC(r,this.compiler,t,this.onLoadEndListener).pipe(aa(()=>{this.childrenLoaders.delete(r)})),s=new po(o,()=>new Ye).pipe(fo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XC(n,e,t,r){return Bn(Ue(t,()=>n.loadChildren())).pipe(te(eS),Je(tS),Ve(i=>i instanceof Ql||Array.isArray(i)?q(i):Se(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(dc,[],{optional:!0,self:!0}).flat()),{routes:s.map(oy),injector:o}}))}function PF(n){return n&&typeof n=="object"&&"default"in n}function eS(n){return PF(n)?n.default:n}function tS(n){return q(n)}var Od=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(kF),providedIn:"root"})}return n})(),kF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nS=new U("");var rS=new U(""),iS=(()=>{class n{currentNavigation=Po(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=P(JC);environmentInjector=P(je);destroyRef=P(_r);urlSerializer=P(cc);rootContexts=P(Xo);location=P($o);inputBindingEnabled=P(kd,{optional:!0})!==null;titleStrategy=P(sy);options=P(lc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Od);createViewTransition=P(nS,{optional:!0});navigationErrorHandler=P(rS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Id(i)),r=i=>this.events.next(new wd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Jt(()=>{this.transitions?.next(me(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(St(r=>r!==null),Je(r=>{let i=!1;return q(r).pipe(Je(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.rawUrl),"",Xa.IgnoredSameUrlNavigation)),o.resolve(!1),Et;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(Je(u=>(this.events.next(new Ci(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Et:Promise.resolve(u))),SF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new ec(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ci(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=jC(this.rootComponentType).snapshot;return this.currentTransition=r=me(V({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:me(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),q(r)}else return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Xa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Et}),Be(o=>{let s=new yd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=me(V({},o),{guards:GL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),rF(this.environmentInjector,o=>this.events.next(o)),Be(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Nd(this.urlSerializer,o.guardsResult);let s=new vd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),St(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vt.GuardRejected),!1)),Bm(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(Be(s=>{let a=new _d(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Je(s=>{let a=!1;return q(s).pipe(AF(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vt.NoDataFromResolver)}}))}),Be(s=>{let a=new Ed(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Bm(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Jo(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Be(h=>{a.component=h}),te(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Qu(s(o.targetSnapshot.root)).pipe(ur(null),Mn(1))}),Bm(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Se(a).pipe(te(()=>r)):q(r)}),te(o=>{let s=BL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Be(()=>{this.events.next(new tc)}),zL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Mn(1),Xu(new K(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(St(()=>!i&&!r.targetRouterState),Be(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vt.Aborted)}))),Be({next:o=>{i=!0,this.lastSuccessfulNavigation=Jt(this.currentNavigation),this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Xu(this.transitionAbortWithErrorSubject.pipe(Be(o=>{throw o}))),aa(()=>{i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),cr(o=>{if(this.destroyed)return r.resolve(!1),Et;if(i=!0,zC(o))this.events.next(new gn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),qL(o)?this.events.next(new Qo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ko(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Yo){let{message:u,cancellationCode:l}=Nd(this.urlSerializer,a);this.events.next(new gn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Qo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new gn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Jt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xF(n){return n!==Ya}var oS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(OF),providedIn:"root"})}return n})(),Pd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},OF=(()=>{class n extends Pd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ul(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=(()=>{class n{urlSerializer=P(cc);options=P(lc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P($o);urlHandlingStrategy=P(Od);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof mn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=jC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(LF),providedIn:"root"})}return n})(),LF=(()=>{class n extends sS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ci?this.updateStateMemento():t instanceof Un?this.commitTransition(r):t instanceof ec?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof tc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof gn&&t.code!==vt.SupersededByNewNavigation&&t.code!==vt.Redirect?this.restoreHistory(r):t instanceof Ko?this.restoreHistory(r,!0):t instanceof jn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ul(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ay(n,e){n.events.pipe(St(t=>t instanceof jn||t instanceof gn||t instanceof Ko||t instanceof Un),te(t=>t instanceof jn||t instanceof Un?0:(t instanceof gn?t.code===vt.Redirect||t.code===vt.SupersededByNewNavigation:!1)?2:1),St(t=>t!==2),Mn(1)).subscribe(()=>{e()})}var FF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ld=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(um);stateManager=P(sS);options=P(lc,{optional:!0})||{};pendingTasks=P(ln);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(iS);urlSerializer=P(cc);location=P($o);urlHandlingStrategy=P(Od);injector=P(je);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(oS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(dc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(kd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Jt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jn)this.navigated=!0;else if(r instanceof Qo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xF(i.source)},s);this.scheduleNavigation(a,Ya,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}FL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(mt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Jt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=OC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return LC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ya,null,r)}navigate(t,r={skipLocationChange:!1}){return jF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Do(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},FF):r===!1?i=V({},VF):i=r,Wo(t))return mC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return mC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ay(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var BF=new U("");function $F(n,...e){return Rt([{provide:dc,multi:!0,useValue:n},[],{provide:br,useFactory:HF,deps:[Ld]},{provide:Zl,multi:!0,useFactory:qF},e.map(t=>t.\u0275providers)])}function HF(n){return n.routerState.root}function qF(){let n=P($e);return e=>{let t=n.get(Ii);if(e!==t.components[0])return;let r=n.get(Ld),i=n.get(zF);n.get(GF)===1&&r.initialNavigation(),n.get(WF,null,{optional:!0})?.setUpPreloading(),n.get(BF,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zF=new U("",{factory:()=>new Ye}),GF=new U("",{providedIn:"root",factory:()=>1});var WF=new U("");var aS=()=>{};var lS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new uy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YF=function(n){let e=lS(n);return Fd.encodeByteArray(e,!0)},fc=function(n){return YF(n).replace(/\./g,"")},Vd=function(n){try{return Fd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZF=()=>dy().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vd(n[1]);return e&&JSON.parse(e)},jd=()=>{try{return aS()||ZF()||JF()||XF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hy=n=>{var e,t;return(t=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dS=n=>{let e=hy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fy=()=>{var n;return(n=jd())===null||n===void 0?void 0:n.config},py=n=>{var e;return(e=jd())===null||e===void 0?void 0:e[`_${n}`]};var Si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Cr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ud(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function hS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(s)),""].join(".")}var hc={};function eV(){let n={prod:[],emulator:[]};for(let e of Object.keys(hc))hc[e]?n.emulator.push(e):n.prod.push(e);return n}function tV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var cS=!1;function Bd(n,e){if(typeof window>"u"||typeof document>"u"||!Cr(window.location.host)||hc[n]===e||hc[n]||cS)return;hc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=eV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{cS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=tV(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),O=t("preprendIcon"),G=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;a(W),h(R,M);let _e=l();u(G,O),W.append(G,S,R,_e),document.body.appendChild(W)}o?(S.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function nV(){var n;let e=(n=jd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){let n=ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vS(){return!nV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pc(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var rV="FirebaseError",xt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}},en=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xt(i,a,r)}};function iV(n,e){return n.replace(oV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oV=/\{\$([^}]+)}/g;function ES(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uS(o)&&uS(s)){if(!yn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uS(n){return n!==null&&typeof n=="object"}function gc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ts(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ns(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IS(n,e){let t=new ly(n,e);return t.subscribe.bind(t)}var ly=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cy(){}var Lee=14400*1e3;function Me(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ai="[DEFAULT]";var gy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Si;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cV(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aV(n){return n===Ai?void 0:n}function cV(n){return n.instantiationMode==="EAGER"}var $d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var uV=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),lV={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},dV=se.INFO,hV={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},fV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=hV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vn=class{constructor(e){this.name=e,this._logLevel=dV,this._logHandler=fV,this._userLogHandler=null,uV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var pV=(n,e)=>e.some(t=>n instanceof t),wS,TS;function gV(){return wS||(wS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mV(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DS=new WeakMap,yy=new WeakMap,bS=new WeakMap,my=new WeakMap,_y=new WeakMap;function yV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(_n(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&DS.set(t,n)}).catch(()=>{}),_y.set(e,n),e}function vV(n){if(yy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});yy.set(n,e)}var vy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CS(n){vy=n(vy)}function _V(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hd(this),e,...t);return bS.set(r,e.sort?e.sort():[e]),_n(r)}:mV().includes(n)?function(...e){return n.apply(Hd(this),e),_n(DS.get(this))}:function(...e){return _n(n.apply(Hd(this),e))}}function EV(n){return typeof n=="function"?_V(n):(n instanceof IDBTransaction&&vV(n),pV(n,gV())?new Proxy(n,vy):n)}function _n(n){if(n instanceof IDBRequest)return yV(n);if(my.has(n))return my.get(n);let e=EV(n);return e!==n&&(my.set(n,e),_y.set(e,n)),e}var Hd=n=>_y.get(n);function AS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=_n(s);return r&&s.addEventListener("upgradeneeded",u=>{r(_n(s.result),u.oldVersion,u.newVersion,_n(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var IV=["get","getKey","getAll","getAllKeys","count"],wV=["put","add","delete","clear"],Ey=new Map;function SS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ey.get(e))return Ey.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=wV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IV.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Ey.set(e,o),o}CS(n=>me(V({},n),{get:(e,t,r)=>SS(e,t)||n.get(e,t,r),has:(e,t)=>!!SS(e,t)||n.has(e,t)}));var wy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function TV(n){let e=n.getComponent();return e?.type==="VERSION"}var Ty="@firebase/app",RS="0.13.2";var $n=new vn("@firebase/app"),DV="@firebase/app-compat",bV="@firebase/analytics-compat",CV="@firebase/analytics",SV="@firebase/app-check-compat",AV="@firebase/app-check",RV="@firebase/auth",NV="@firebase/auth-compat",MV="@firebase/database",PV="@firebase/data-connect",kV="@firebase/database-compat",xV="@firebase/functions",OV="@firebase/functions-compat",LV="@firebase/installations",FV="@firebase/installations-compat",VV="@firebase/messaging",jV="@firebase/messaging-compat",UV="@firebase/performance",BV="@firebase/performance-compat",$V="@firebase/remote-config",HV="@firebase/remote-config-compat",qV="@firebase/storage",zV="@firebase/storage-compat",GV="@firebase/firestore",WV="@firebase/ai",KV="@firebase/firestore-compat",QV="firebase",YV="11.10.0";var Dy="[DEFAULT]",ZV={[Ty]:"fire-core",[DV]:"fire-core-compat",[CV]:"fire-analytics",[bV]:"fire-analytics-compat",[AV]:"fire-app-check",[SV]:"fire-app-check-compat",[RV]:"fire-auth",[NV]:"fire-auth-compat",[MV]:"fire-rtdb",[PV]:"fire-data-connect",[kV]:"fire-rtdb-compat",[xV]:"fire-fn",[OV]:"fire-fn-compat",[LV]:"fire-iid",[FV]:"fire-iid-compat",[VV]:"fire-fcm",[jV]:"fire-fcm-compat",[UV]:"fire-perf",[BV]:"fire-perf-compat",[$V]:"fire-rc",[HV]:"fire-rc-compat",[qV]:"fire-gcs",[zV]:"fire-gcs-compat",[GV]:"fire-fst",[KV]:"fire-fst-compat",[WV]:"fire-vertex","fire-js":"fire-js",[QV]:"fire-js-all"};var mc=new Map,JV=new Map,by=new Map;function NS(n,e){try{n.container.addComponent(e)}catch(t){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tn(n){let e=n.name;if(by.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,n);for(let t of mc.values())NS(t,n);for(let t of JV.values())NS(t,n);return!0}function rs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ot(n){return n==null?!1:n.settings!==void 0}var XV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new en("app","Firebase",XV);var Cy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}};var Ar=YV;function Ry(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(t||(t=fy()),!t)throw Sr.create("no-options");let o=mc.get(i);if(o){if(yn(t,o.options)&&yn(r,o.config))return o;throw Sr.create("duplicate-app",{appName:i})}let s=new $d(i);for(let u of by.values())s.addComponent(u);let a=new Cy(t,r,s);return mc.set(i,a),a}function Ri(n=Dy){let e=mc.get(n);if(!e&&n===Dy&&fy())return Ry();if(!e)throw Sr.create("no-app",{appName:n});return e}function qd(){return Array.from(mc.values())}function Re(n,e,t){var r;let i=(r=ZV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}tn(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ej="firebase-heartbeat-database",tj=1,yc="firebase-heartbeat-store",Iy=null;function xS(){return Iy||(Iy=AS(ej,tj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sr.create("idb-open",{originalErrorMessage:n.message})})),Iy}function nj(n){return _(this,null,function*(){try{let t=(yield xS()).transaction(yc),r=yield t.objectStore(yc).get(OS(n));return yield t.done,r}catch(e){if(e instanceof xt)$n.warn(e.message);else{let t=Sr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(t.message)}}})}function MS(n,e){return _(this,null,function*(){try{let r=(yield xS()).transaction(yc,"readwrite");yield r.objectStore(yc).put(e,OS(n)),yield r.done}catch(t){if(t instanceof xt)$n.warn(t.message);else{let r=Sr.create("idb-set",{originalErrorMessage:t?.message});$n.warn(r.message)}}})}function OS(n){return`${n.name}!${n.options.appId}`}var rj=1024,ij=30,Sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ay(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ij){let s=sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=PS(),{heartbeatsToSend:r,unsentEntries:i}=oj(this._heartbeatsCache.heartbeats),o=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $n.warn(t),""}})}};function PS(){return new Date().toISOString().substring(0,10)}function oj(n,e=rj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ay=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return pc()?_S().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield nj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kS(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function sj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aj(n){tn(new _t("platform-logger",e=>new wy(e),"PRIVATE")),tn(new _t("heartbeat",e=>new Sy(e),"PRIVATE")),Re(Ty,RS,n),Re(Ty,RS,"esm2017"),Re("fire-js","")}aj("");var cj="firebase",uj="11.10.0";Re(cj,uj,"app");function LS(n){n===void 0&&(n=P($e));let e=n.get(ko);return t=>new K(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Rr=new To("ANGULARFIRE2_VERSION");function vc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var os=(n,e)=>{let t=e?[e]:qd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},is=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(is||{}),FS=Tm()&&typeof Zone<"u"?is.WARN:is.SILENT;var zd=class{zone;delegate;constructor(e,t=ip){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Nr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(ve);this.outsideAngular=t.runOutsideAngular(()=>new zd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new zd(typeof Zone>"u"?void 0:Zone.current,rp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VS=!1;function lj(n,e){!VS&&(FS>is.SILENT||Tm())&&(VS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),FS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function dj(n){let e=P(ve,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ni(n){let e=P(ve,{optional:!0});return e?e.run(()=>n()):n()}var hj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ue(t,()=>Ni(()=>n.apply(void 0,r)))),ut=(n,e,t)=>(t||=e?is.WARN:is.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Nr),s=P(ko),a=P(je)}catch{return lj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ni(()=>s.add())),i[l]=hj(i[l],r,a));let u=dj(()=>n.apply(this,i));return e?u instanceof K?u.pipe(ar(o.outsideAngular),sr(o.insideAngular),LS(a)):u instanceof Promise?Ni(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ue(a,()=>Ni(()=>h(m))),m=>Ue(a,()=>Ni(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ni(()=>u):u instanceof K?u.pipe(ar(o.outsideAngular),sr(o.insideAngular)):Ni(()=>u)});var Hn=class{constructor(e){return e}},Mi=class{constructor(){return qd()}};function fj(n){return n&&n.length===1?n[0]:new Hn(Ri())}var Ny=new U("angularfire2._apps"),pj={provide:Hn,useFactory:fj,deps:[[new Mt,Ny]]},gj={provide:Mi,deps:[[new Mt,Ny]]};function mj(n){return(e,t)=>{let r=t.get(Ir);Re("angularfire",Rr.full,"core"),Re("angularfire",Rr.full,"app"),Re("angular",Ep.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hn(i)}}function Mte(n,...e){return Rt([pj,gj,{provide:Ny,useFactory:mj(n),multi:!0,deps:[ve,$e,Nr,...e]}])}var Pte=ut(Ry,!0);var yj=new Map,vj={activated:!1,tokenObservers:[]},_j={initialized:!1,enabled:!1};function nn(n){return yj.get(n)||Object.assign({},vj)}function $S(){return _j}var Ej="https://content-firebaseappcheck.googleapis.com/v1";var Ij="exchangeDebugToken",jS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Bte=1440*60*1e3;var ky=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Si,this.pending.promise.catch(t=>{}),yield wj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Si,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function wj(n){return new Promise(e=>{setTimeout(e,n)})}var Tj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mr=new en("appCheck","AppCheck",Tj);function HS(n){if(!nn(n).activated)throw Mr.create("use-before-activation",{appName:n.name})}function qS(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Mr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Mr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Mr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function zS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ej}/projects/${t}/apps/${r}:${Ij}?key=${i}`,body:{debug_token:e}}}var Dj="firebase-app-check-database",bj=1,xy="firebase-app-check-store";var Gd=null;function Cj(){return Gd||(Gd=new Promise((n,e)=>{try{let t=indexedDB.open(Dj,bj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xy,{keyPath:"compositeKey"})}}}catch(t){e(Mr.create("storage-open",{originalErrorMessage:t?.message}))}}),Gd)}function Sj(n,e){return Aj(Rj(n),e)}function Aj(n,e){return _(this,null,function*(){let r=(yield Cj()).transaction(xy,"readwrite"),o=r.objectStore(xy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Mr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Rj(n){return`${n.options.appId}-${n.name}`}var _c=new vn("@firebase/app-check");function My(n,e){return pc()?Sj(n,e).catch(t=>{_c.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GS(){return $S().enabled}function WS(){return _(this,null,function*(){let n=$S();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Nj={error:"UNKNOWN_ERROR"};function Mj(n){return Fd.encodeString(JSON.stringify(n),!1)}function Oy(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;HS(r);let i=nn(r),o=i.token,s;if(o&&!Ec(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ec(l)?o=l:yield My(r,void 0))}if(!e&&o&&Ec(o))return{token:o.token};let a=!1;if(GS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qS(zS(r,yield WS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield My(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?_c.warn(l.message):t&&_c.error(l),Py(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield nn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?_c.warn(l.message):t&&_c.error(l),s=l}let u;return o?s?Ec(o)?u={token:o.token,internalError:s}:u=Py(s):(u={token:o.token},i.token=o,yield My(r,o)):u=Py(s),a&&Oj(r,u),u})}function Pj(n){return _(this,null,function*(){let e=n.app;HS(e);let{provider:t}=nn(e);if(GS()){let r=yield WS(),{token:i}=yield qS(zS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function kj(n,e,t,r){let{app:i}=n,o=nn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ec(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),US(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>US(n))}function KS(n,e){let t=nn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function US(n){let{app:e}=n,t=nn(e),r=t.tokenRefresher;r||(r=xj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xj(n){let{app:e}=n;return new ky(()=>_(null,null,function*(){let t=nn(e),r;if(t.token?r=yield Oy(n,!0):r=yield Oy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=nn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},jS.RETRIAL_MIN_WAIT,jS.RETRIAL_MAX_WAIT)}function Oj(n,e){let t=nn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ec(n){return n.expireTimeMillis-Date.now()>0}function Py(n){return{token:Mj(Nj),error:n}}var Ly=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=nn(this.app);for(let t of e)KS(this.app,t.next);return Promise.resolve()}};function Lj(n,e){return new Ly(n,e)}function Fj(n){return{getToken:e=>Oy(n,e),getLimitedUseToken:()=>Pj(n),addTokenListener:e=>kj(n,"INTERNAL",e),removeTokenListener:e=>KS(n.app,e)}}var Vj="@firebase/app-check",jj="0.10.1";var Uj="app-check",BS="app-check-internal";function Bj(){tn(new _t(Uj,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Lj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BS).initialize()})),tn(new _t(BS,n=>{let e=n.getProvider("app-check").getImmediate();return Fj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(Vj,jj)}Bj();var $j="app-check";var ss=class{constructor(){return os($j)}};var Hj=["localhost","0.0.0.0","127.0.0.1"],ene=typeof window<"u"&&Hj.includes(window.location.hostname);function dA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hA=dA,fA=new en("auth","Firebase",dA());var Jd=new vn("@firebase/auth");function qj(n,...e){Jd.logLevel<=se.WARN&&Jd.warn(`Auth (${Ar}): ${n}`,...e)}function Kd(n,...e){Jd.logLevel<=se.ERROR&&Jd.error(`Auth (${Ar}): ${n}`,...e)}function In(n,...e){throw sv(n,...e)}function Pi(n,...e){return sv(n,...e)}function pA(n,e,t){let r=Object.assign(Object.assign({},hA()),{[e]:t});return new en("auth","Firebase",r).create(e,{appName:n.name})}function xr(n){return pA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fA.create(n,...e)}function z(n,e,...t){if(!n)throw sv(e,...t)}function qn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kd(e),new Error(e)}function Or(n,e){n||qn(e)}function Uy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zj(){return QS()==="http:"||QS()==="https:"}function QS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zj()||gS()||"connection"in navigator)?navigator.onLine:!0}function Wj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ki=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=fS()||mS()}get(){return Gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function av(n,e){Or(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Kj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yj=new ki(3e4,6e4);function Oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Lr(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return gA(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return pS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Cr(n.emulatorConfig.host)&&(y.credentials="include"),Xd.fetch()(yield mA(n,n.config.apiHost,t,p),y)}))})}function gA(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Kj),e);try{let i=new By(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pA(n,h,l);In(n,h)}}catch(i){if(i instanceof xt)throw i;In(n,"network-request-failed",{message:String(i)})}})}function lh(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Lr(n,e,t,r,i);return"mfaPendingCredential"in l&&In(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function mA(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?av(n.config,i):`${n.config.apiScheme}://${i}`;return Qj.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Zj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var By=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),Yj.get())})}};function Wd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Pi(n,e,r);return i.customData._tokenResponse=t,i}function YS(n){return n!==void 0&&n.enterprise!==void 0}var $y=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Jj(n,e){return _(this,null,function*(){return Lr(n,"GET","/v2/recaptchaConfig",Oi(n,e))})}function Xj(n,e){return _(this,null,function*(){return Lr(n,"POST","/v1/accounts:delete",e)})}function eh(n,e){return _(this,null,function*(){return Lr(n,"POST","/v1/accounts:lookup",e)})}function wc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cv(n,e=!1){return _(this,null,function*(){let t=Me(n),r=yield t.getIdToken(e),i=uv(r);z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wc(Fy(i.auth_time)),issuedAtTime:wc(Fy(i.iat)),expirationTime:wc(Fy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Fy(n){return Number(n)*1e3}function uv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vd(t);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZS(n){let e=uv(n);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Dc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof xt&&e2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function e2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Hy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function th(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Dc(n,eh(t,{idToken:r}));z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yA(o.providerUserInfo):[],a=t2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function lv(n){return _(this,null,function*(){let e=Me(n);yield th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function t2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yA(n){return n.map(e=>{var{providerId:t}=e,r=op(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function n2(n,e){return _(this,null,function*(){let t=yield gA(n,{},()=>_(null,null,function*(){let r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield mA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Cr(n.emulatorConfig.host)&&(u.credentials="include"),Xd.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function r2(n,e){return _(this,null,function*(){return Lr(n,"POST","/v2/accounts:revokeToken",Oi(n,e))})}var Tc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){z(e.length!==0,"internal-error");let t=ZS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield n2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qn("not implemented")}};function Pr(n,e){z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var kr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Dc(this,this.stsTokenManager.getToken(this.auth,e));return z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return cv(this,e)}reload(){return lv(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield th(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Ot(this.auth.app))return Promise.reject(xr(this.auth));let e=yield this.getIdToken();return yield Dc(this,Xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:_e,isAnonymous:ht,providerData:ge,stsTokenManager:T}=t;z(W&&T,e,"internal-error");let v=Tc.fromJSON(this.name,T);z(typeof W=="string",e,"internal-error"),Pr(p,e.name),Pr(m,e.name),z(typeof _e=="boolean",e,"internal-error"),z(typeof ht=="boolean",e,"internal-error"),Pr(y,e.name),Pr(S,e.name),Pr(M,e.name),Pr(R,e.name),Pr(O,e.name),Pr(G,e.name);let I=new n({uid:W,auth:e,email:m,emailVerified:_e,displayName:p,isAnonymous:ht,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:O,lastLoginAt:G});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Tc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield th(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?yA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Tc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var JS=new Map;function zn(n){Or(n instanceof Function,"Expected a class definition");let e=JS.get(n);return e?(Or(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JS.set(n,e),e)}var i2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qy=i2;function Qd(n,e,t){return`firebase:${n}:${e}:${t}`}var nh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield eh(this.auth,{idToken:e}).catch(()=>{});return t?kr._fromGetAccountInfoResponse(this.auth,t,e):null}return kr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(zn(qy),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zn(qy),s=Qd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield eh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield kr._fromGetAccountInfoResponse(e,m,h)}else p=kr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function XS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(DA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||EA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vA(n=ze()){return/firefox\//i.test(n)}function _A(n=ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EA(n=ze()){return/crios\//i.test(n)}function IA(n=ze()){return/iemobile/i.test(n)}function wA(n=ze()){return/android/i.test(n)}function TA(n=ze()){return/blackberry/i.test(n)}function DA(n=ze()){return/webos/i.test(n)}function dv(n=ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function o2(n=ze()){var e;return dv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s2(){return yS()&&document.documentMode===10}function bA(n=ze()){return dv(n)||wA(n)||DA(n)||TA(n)||/windows phone/i.test(n)||IA(n)}function CA(n,e=[]){let t;switch(n){case"Browser":t=XS(ze());break;case"Worker":t=`${XS(ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ar}/${r}`}var zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function a2(t){return _(this,arguments,function*(n,e={}){return Lr(n,"GET","/v2/passwordPolicy",Oi(n,e))})}var c2=6,Gy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:c2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Wy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rh(this),this.idTokenSubscription=new rh(this),this.beforeStateQueue=new zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zn(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield nh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield eh(this,{idToken:e}),r=yield kr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Ot(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield th(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Wj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Ot(this.app))return Promise.reject(xr(this));let t=e?Me(e):null;return t&&z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Ot(this.app)?Promise.reject(xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ot(this.app)?Promise.reject(xr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield a2(this),t=new Gy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new en("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield r2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&zn(e)||this._popupRedirectResolver;z(t,this,"argument-error"),this.redirectPersistenceManager=yield nh.create(this,[zn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function as(n){return Me(n)}var rh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(t=>this.observer=t)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(n){dh=n}function SA(n){return dh.loadJS(n)}function l2(){return dh.recaptchaEnterpriseScript}function d2(){return dh.gapiScript}function AA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Ky=class{constructor(){this.enterprise=new Qy}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Qy=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var h2="recaptcha-enterprise",RA="NO_RECAPTCHA",Yy=class{constructor(e){this.type=h2,this.auth=as(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Jj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new $y(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;YS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(RA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ky().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&YS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=l2();u.length!==0&&(u+=a),SA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Ic(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new Yy(n),s;if(i)s=RA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function eA(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ic(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Ic(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ic(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Ic(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Ic(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function hv(n,e){let t=rs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(yn(o,e??{}))return i;In(i,"already-initialized")}return t.initialize({options:e})}function f2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function fv(n,e,t){let r=as(n);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=NA(e),{host:s,port:a}=p2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(yn(l,r.config.emulator)&&yn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Cr(s)?(Ud(`${o}//${s}${u}`),Bd("Auth",!0)):i||g2()}function NA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function p2(n){let e=NA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:tA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:tA(s)}}}function tA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function g2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Cc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,t){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function m2(n,e){return _(this,null,function*(){return Lr(n,"POST","/v1/accounts:signUp",e)})}function y2(n,e){return _(this,null,function*(){return lh(n,"POST","/v1/accounts:signInWithPassword",Oi(n,e))})}function v2(n,e){return _(this,null,function*(){return lh(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}function _2(n,e){return _(this,null,function*(){return lh(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}var Sc=class n extends Cc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(e,t,"signInWithPassword",y2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v2(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eA(e,r,"signUpPassword",m2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _2(e,{idToken:t,email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Vy(n,e){return _(this,null,function*(){return lh(n,"POST","/v1/accounts:signInWithIdp",Oi(n,e))})}function E2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I2(n){let e=ts(ns(n)).link,t=e?ts(ns(e)).deep_link_id:null,r=ts(ns(n)).deep_link_id;return(r?ts(ns(r)).link:null)||r||t||e||n}var ih=class n{constructor(e){var t,r,i,o,s,a;let u=ts(ns(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=E2((i=u.mode)!==null&&i!==void 0?i:null);z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=I2(e);try{return new n(t)}catch{return null}}};var MA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Sc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ih.parseLink(r);return z(i,"argument-error"),Sc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),oh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zy=class extends oh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ac=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield kr._fromIdTokenResponse(e,r,i),s=nA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=nA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function nA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Jy=class n extends xt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function PA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jy._fromErrorAndOperation(n,o,e,r):o})}function w2(n,e,t=!1){return _(this,null,function*(){let r=yield Dc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ac._forOperation(n,"link",r)})}function T2(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Ot(r.app))return Promise.reject(xr(r));let i="reauthenticate";try{let o=yield Dc(n,PA(r,i,e,n),t);z(o.idToken,r,"internal-error");let s=uv(o.idToken);z(s,r,"internal-error");let{sub:a}=s;return z(n.uid===a,r,"user-mismatch"),Ac._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&In(r,"user-mismatch"),o}})}function kA(n,e,t=!1){return _(this,null,function*(){if(Ot(n.app))return Promise.reject(xr(n));let r="signIn",i=yield PA(n,r,e),o=yield Ac._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function pv(n,e){return _(this,null,function*(){return kA(as(n),e)})}function D2(n){return _(this,null,function*(){let e=as(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gv(n,e,t){return Ot(n.app)?Promise.reject(xr(n)):pv(Me(n),MA.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&D2(n),r}))}function hh(n,e,t,r){return Me(n).onIdTokenChanged(e,t,r)}function mv(n,e,t){return Me(n).beforeAuthStateChanged(e,t)}function fh(n,e,t,r){return Me(n).onAuthStateChanged(e,t,r)}var sh="__sak";var ah=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var b2=1e3,C2=10,S2=(()=>{class n extends ah{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);s2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,C2):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield ir(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield ir(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield ir(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xA=S2;var A2=(()=>{class n extends ah{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),yv=A2;function R2(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var N2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield R2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Xy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function En(){return window}function M2(n){En().location.href=n}function LA(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}function P2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function k2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function x2(){return LA()?self:null}var FA="firebaseLocalStorageDb",O2=1,ch="firebaseLocalStorage",VA="fbase_key",xi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ph(n,e){return n.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function L2(){let n=indexedDB.deleteDatabase(FA);return new xi(n).toPromise()}function ev(){let n=indexedDB.open(FA,O2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ch,{keyPath:VA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),yield L2(),e(yield ev()))}))})}function rA(n,e,t){return _(this,null,function*(){let r=ph(n,!0).put({[VA]:e,value:t});return new xi(r).toPromise()})}function F2(n,e){return _(this,null,function*(){let t=ph(n,!1).get(e),r=yield new xi(t).toPromise();return r===void 0?null:r.value})}function iA(n,e){let t=ph(n,!0).delete(e);return new xi(t).toPromise()}var V2=800,j2=3,U2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield ev(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>j2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return LA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=N2._getInstance(x2()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield P2(),!this.activeServiceWorker)return;this.sender=new Xy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||k2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ev();return yield rA(t,sh,"1"),yield iA(t,sh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>rA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>F2(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>iA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=ph(o,!1).getAll();return new xi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),jA=U2;var cne=AA("rcb"),une=new ki(3e4,6e4);function B2(n,e){return e?zn(e):(z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Rc=class extends Cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function $2(n){return kA(n.auth,new Rc(n),n.bypassAuthState)}function H2(n){let{auth:e,user:t}=n;return z(t,e,"internal-error"),T2(t,new Rc(n),n.bypassAuthState)}function q2(n){return _(this,null,function*(){let{auth:e,user:t}=n;return z(t,e,"internal-error"),w2(t,new Rc(n),n.bypassAuthState)})}var tv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:In(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lne=new ki(2e3,1e4);var z2="pendingRedirect",Yd=new Map,nv=class n extends tv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Yd.get(this.auth._key());if(!e){try{let r=(yield G2(this.resolver,this.auth))?yield ir(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ir(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ir(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function G2(n,e){return _(this,null,function*(){let t=Q2(e),r=K2(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function W2(n,e){Yd.set(n._key(),e)}function K2(n){return zn(n._redirectPersistence)}function Q2(n){return Qd(z2,n.config.apiKey,n.name)}function Y2(n,e,t=!1){return _(this,null,function*(){if(Ot(n.app))return Promise.reject(xr(n));let r=as(n),i=B2(r,e),s=yield new nv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Z2=600*1e3,rv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(oA(e))}saveEventToCache(e){this.cachedEventUids.add(oA(e)),this.lastProcessedEventTime=Date.now()}};function oA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function J2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(n);default:return!1}}function X2(t){return _(this,arguments,function*(n,e={}){return Lr(n,"GET","/v1/projects",e)})}var eU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tU=/^https?/;function nU(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield X2(n);for(let t of e)try{if(rU(t))return}catch{}In(n,"unauthorized-domain")})}function rU(n){let e=Uy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!tU.test(t))return!1;if(eU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var iU=new ki(3e4,6e4);function sA(){let n=En().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oU(n){return new Promise((e,t)=>{var r,i,o;function s(){sA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sA(),t(Pi(n,"network-request-failed"))},timeout:iU.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=En().gapi)===null||o===void 0)&&o.load)s();else{let a=AA("iframefcb");return En()[a]=()=>{gapi.load?s():t(Pi(n,"network-request-failed"))},SA(`${d2()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Zd=null,e})}var Zd=null;function sU(n){return Zd=Zd||oU(n),Zd}var aU=new ki(5e3,15e3),cU="__/auth/iframe",uU="emulator/auth/iframe",lU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hU(n){let e=n.config;z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?av(e,uU):`https://${n.config.authDomain}/${cU}`,r={apiKey:e.apiKey,appName:n.name,v:Ar},i=dU.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gc(r).slice(1)}`}function fU(n){return _(this,null,function*(){let e=yield sU(n),t=En().gapi;return z(t,n,"internal-error"),e.open({where:document.body,url:hU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lU,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Pi(n,"network-request-failed"),a=En().setTimeout(()=>{o(s)},aU.get());function u(){En().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var pU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gU=500,mU=600,yU="_blank",vU="http://localhost",uh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _U(n,e,t,r=gU,i=mU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},pU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ze().toLowerCase();t&&(a=EA(l)?yU:t),vA(l)&&(e=e||vU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(o2(l)&&a!=="_self")return EU(e||"",a),new uh(null);let p=window.open(e||"",a,h);z(p,n,"popup-blocked");try{p.focus()}catch{}return new uh(p)}function EU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var IU="__/auth/handler",wU="emulator/auth/handler",TU=encodeURIComponent("fac");function aA(n,e,t,r,i,o){return _(this,null,function*(){z(n.config.authDomain,n,"auth-domain-config-required"),z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ar,eventId:i};if(e instanceof oh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",ES(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Zy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${TU}=${encodeURIComponent(u)}`:"";return`${DU(n)}?${gc(a).slice(1)}${l}`})}function DU({config:n}){return n.emulator?av(n,wU):`https://${n.authDomain}/${IU}`}var jy="webStorageSupport",iv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yv,this._completeRedirectFn=Y2,this._overrideRedirectResult=W2}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Or((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield aA(e,t,r,Uy(),i);return _U(e,s,OA())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield aA(e,t,r,Uy(),i);return M2(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Or(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield fU(e),r=new rv(e);return t.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jy,{type:jy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[jy];s!==void 0&&t(!!s),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bA()||_A()||dv()}},BA=iv;var cA="@firebase/auth",uA="1.10.8";var ov=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function bU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CU(n){tn(new _t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(n)},l=new Wy(r,i,o,u);return f2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tn(new _t("auth-internal",e=>{let t=as(e.getProvider("auth").getImmediate());return(r=>new ov(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(cA,uA,bU(n)),Re(cA,uA,"esm2017")}var SU=300,AU=py("authIdTokenMaxAge")||SU,lA=null,RU=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AU)return;let i=t?.token;lA!==i&&(lA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function vv(n=Ri()){let e=rs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=hv(n,{popupRedirectResolver:BA,persistence:[jA,xA,yv]}),r=py("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=RU(o.toString());mv(t,s,()=>s(t.currentUser)),hh(t,a=>s(a))}}let i=hy("auth");return i&&fv(t,`http://${i}`),t}function NU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}u2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Pi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",NU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CU("Browser");function HA(n){return new K(function(e){var t=fh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var qA="auth",Li=class{constructor(e){return e}},Nc=class{constructor(){return os(qA)}};var _v=new U("angularfire2.auth-instances");function _B(n,e){let t=vc(qA,n,e);return t&&new Li(t)}function EB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Li(r)}}var IB={provide:Nc,deps:[[new Mt,_v]]},wB={provide:Li,useFactory:_B,deps:[[new Mt,_v],Hn]};function nre(n,...e){return Re("angularfire",Rr.full,"auth"),Rt([wB,IB,{provide:_v,useFactory:EB(n),multi:!0,deps:[ve,$e,Nr,Mi,[new Mt,ss],...e]}])}var zA=ut(HA,!0);var rre=ut(vv,!0);var ire=ut(gv,!0,2);var GA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},WA={};var Gn,Ev;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,C){for(var E=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)E[Sn-2]=arguments[Sn];return v.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var C=T.g[3],E=v+(C^I&(D^C))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[2]+606105819&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[6]+2821735955&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[10]+4294925233&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[14]+2792965006&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^C&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[11]+643717713&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[15]+3634488961&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[3]+4107603335&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[7]+1735328473&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^C)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[11]+1839030562&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[7]+4139469664&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[3]+3572445317&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[15]+530742520&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~C))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[14]+2878612391&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[10]+4293915773&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[6]+2734768916&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[2]+718787259&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<v;)if(w[D++]=T[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;w&&C==v||(I[D]=C,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(M(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=_e(I,v).g;I=O(I,D.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function M(T){return T.h==-1}n.l=function(T){return T=O(this,T),M(T)?-1:S(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var C=w+(this.i(D)&65535)+(T.i(D)&65535),E=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,C&=65535,E&=65535,I[D]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(T,v){return T.add(R(v))}n.j=function(T){if(S(this)||S(T))return p;if(M(this))return M(T)?R(this).j(R(T)):R(R(this).j(T));if(M(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var C=this.i(w)>>>16,E=this.i(w)&65535,Sn=T.i(D)>>>16,Os=T.i(D)&65535;I[2*w+2*D]+=E*Os,G(I,2*w+2*D),I[2*w+2*D+1]+=C*Os,G(I,2*w+2*D+1),I[2*w+2*D+1]+=E*Sn,G(I,2*w+2*D+1),I[2*w+2*D+2]+=C*Sn,G(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function G(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function W(T,v){this.g=T,this.h=v}function _e(T,v){if(S(v))throw Error("division by zero");if(S(T))return new W(p,p);if(M(T))return v=_e(R(T),v),new W(R(v.g),R(v.h));if(M(v))return v=_e(T,R(v)),new W(R(v.g),v.h);if(30<T.g.length){if(M(T)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=ht(I),w=ht(w);var D=ge(I,1),C=ge(w,1);for(w=ge(w,2),I=ge(I,2);!S(w);){var E=C.add(w);0>=E.l(T)&&(D=D.add(I),C=E),w=ge(w,1),I=ge(I,1)}return v=O(T,D.j(v)),new W(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(v);M(E)||0<E.l(T);)I-=w,C=l(I),E=C.j(v);S(C)&&(C=m),D=D.add(C),T=O(T,E)}return new W(D,T)}n.A=function(T){return _e(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function ht(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function ge(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],C=0;C<w;C++)D[C]=0<v?T.i(C+I)>>>v|T.i(C+I+1)<<32-v:T.i(C+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ev=WA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Gn=WA.Integer=s}).apply(typeof GA<"u"?GA:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var Iv,TB,cs,wv,Mc,mh,Tv,Dv,bv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var x=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)x[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,x)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let x=0;x<A;x++)c[b+x]=g[x]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var ht=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ge(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function E(){var c=gf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,f){let g=Os.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Os=new O(()=>new RN,c=>c.reset());class RN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ls,Fs=!1,gf=new Sn,GE=()=>{let c=a.Promise.resolve(void 0);Ls=()=>{c.then(NN)}};var NN=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){C(f)}var d=Os;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fs=!1};function er(){this.s=this.s,this.C=this.C}er.prototype.s=!1,er.prototype.ma=function(){this.s||(this.s=!0,this.N())},er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var MN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Vs(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ht){e:{try{_e(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:PN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vs.aa.h.call(this)}}S(Vs,tt);var PN={2:"touch",3:"pen",4:"mouse"};Vs.prototype.h=function(){Vs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var js="closure_listenable_"+(1e6*Math.random()|0),kN=0;function xN(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++kN,this.da=this.fa=!1}function Jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xc(c){this.src=c,this.g={},this.h=0}Xc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var x=yf(c,d,g,b);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new xN(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function mf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function yf(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var vf="closure_lm_"+(1e6*Math.random()|0),_f={};function WE(c,d,f,g,b){if(g&&g.once)return QE(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)WE(c,d[A],f,g,b);return null}return f=Tf(f),c&&c[js]?c.K(d,f,l(g)?!!g.capture:!!g,b):KE(c,d,f,!1,g,b)}function KE(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,Ee=If(c);if(Ee||(c[vf]=Ee=new Xc(c)),f=Ee.add(d,f,g,x,A),f.proxy)return f;if(g=ON(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)MN||(b=x),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(ZE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ON(){function c(f){return d.call(c.src,c.listener,f)}let d=LN;return c}function QE(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)QE(c,d[A],f,g,b);return null}return f=Tf(f),c&&c[js]?c.L(d,f,l(g)?!!g.capture:!!g,b):KE(c,d,f,!0,g,b)}function YE(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)YE(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Tf(f),c&&c[js]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=yf(A,f,g,b),-1<f&&(Jc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=If(c))&&(d=c.g[d.toString()],c=-1,d&&(c=yf(d,f,g,b)),(f=-1<c?d[c]:null)&&Ef(f))}function Ef(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[js])mf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(ZE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=If(d))?(mf(f,c),f.h==0&&(f.src=null,d[vf]=null)):Jc(c)}}}function ZE(c){return c in _f?_f[c]:_f[c]="on"+c}function LN(c,d){if(c.da)c=!0;else{d=new Vs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Ef(c),c=f.call(g,d)}return c}function If(c){return c=c[vf],c instanceof Xc?c:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(c){return typeof c=="function"?c:(c[wf]||(c[wf]=function(d){return c.handleEvent(d)}),c[wf])}function nt(){er.call(this),this.i=new Xc(this),this.M=this,this.F=null}S(nt,er),nt.prototype[js]=!0,nt.prototype.removeEventListener=function(c,d,f,g){YE(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var b=d;d=new tt(g,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var x=d.g=f[A];b=eu(x,g,!0,d)&&b}if(x=d.g=c,b=eu(x,g,!0,d)&&b,b=eu(x,g,!1,d)&&b,f)for(A=0;A<f.length;A++)x=d.g=f[A],b=eu(x,g,!1,d)&&b}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Jc(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function eu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==f){var Ee=x.listener,Qe=x.ha||x.src;x.fa&&mf(c.i,x),b=Ee.call(Qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function JE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function XE(c){c.g=JE(()=>{c.g=null,c.i&&(c.i=!1,XE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class FN extends er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:XE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(c){er.call(this),this.h=c,this.g={}}S(Us,er);var eI=[];function tI(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ef(d)},c),c.g={}}Us.prototype.N=function(){Us.aa.N.call(this),tI(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=a.JSON.stringify,VN=a.JSON.parse,jN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bf(){}bf.prototype.h=null;function nI(c){return c.h||(c.h=c.i())}function rI(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cf(){tt.call(this,"d")}S(Cf,tt);function Sf(){tt.call(this,"c")}S(Sf,tt);var Kr={},iI=null;function tu(){return iI=iI||new nt}Kr.La="serverreachability";function oI(c){tt.call(this,Kr.La,c)}S(oI,tt);function $s(c){let d=tu();ft(d,new oI(d))}Kr.STAT_EVENT="statevent";function sI(c,d){tt.call(this,Kr.STAT_EVENT,c),this.stat=d}S(sI,tt);function pt(c){let d=tu();ft(d,new sI(d,c))}Kr.Ma="timingevent";function aI(c,d){tt.call(this,Kr.Ma,c),this.size=d}S(aI,tt);function Hs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function UN(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var x="",Ee=A.split("&"),Qe=0;Qe<Ee.length;Qe++){var de=Ee[Qe].split("=");if(1<de.length){var rt=de[0];de=de[1];var it=rt.split("_");x=2<=it.length&&it[1]=="type"?x+(rt+"="+de+"&"):x+(rt+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function BN(c,d,f,g,b,A,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+x})}function Zi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+HN(c,f)+(g?" "+g:"")})}function $N(c,d){c.info(function(){return"TIMEOUT: "+d})}qs.prototype.info=function(){};function HN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return Df(f)}catch{return d}}var nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Af;function ru(){}S(ru,bf),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},Af=new ru;function tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uI}function uI(){this.i=null,this.g="",this.h=!1}var lI={},Rf={};function Nf(c,d,f){c.L=1,c.v=au(An(d)),c.m=f,c.P=!0,dI(c,null)}function dI(c,d){c.F=Date.now(),iu(c),c.A=An(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),bI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new uI,c.g=HI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new FN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(eI[0]=b.toString()),b=eI);for(var A=0;A<b.length;A++){var x=WE(f,b[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$s(),UN(c.i,c.u,c.A,c.l,c.R,c.m)}tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Rn(c)==3?d.j():this.Y(c)},tr.prototype.Y=function(c){try{if(c==this.g)e:{let it=Rn(this.g);var d=this.g.Ba();let eo=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||PI(this.g)))){this.J||it!=4||d==7||(d==8||0>=eo?$s(3):$s(2)),Mf(this);var f=this.g.Z();this.X=f;t:if(hI(this)){var g=PI(this.g);c="";var b=g.length,A=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),zs(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,BN(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Qe=this.g;if((Ee=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ee)){var de=Ee;break t}}de=null}if(f=de)Zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pf(this,f);else{this.o=!1,this.s=3,pt(12),Qr(this),zs(this);break e}}if(this.P){f=!0;let Gt;for(;!this.J&&this.C<x.length;)if(Gt=qN(this,x),Gt==Rf){it==4&&(this.s=4,pt(14),f=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==lI){this.s=4,pt(15),Zi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Zi(this.i,this.l,Gt,null),Pf(this,Gt);if(hI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||x.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)Zi(this.i,this.l,x,"[Invalid Chunked Response]"),Qr(this),zs(this);else if(0<x.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Vf(rt),rt.M=!0,pt(11))}}else Zi(this.i,this.l,x,null),Pf(this,x);it==4&&Qr(this),this.o&&!this.J&&(it==4?jI(this.j,this):(this.o=!1,iu(this)))}else aM(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Qr(this),zs(this)}}}catch{}finally{}};function hI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Rf:(f=Number(d.substring(f,g)),isNaN(f)?lI:(g+=1,g+f>d.length?Rf:(d=d.slice(g,g+f),c.C=g+f,d)))}tr.prototype.cancel=function(){this.J=!0,Qr(this)};function iu(c){c.S=Date.now()+c.I,fI(c,c.I)}function fI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hs(m(c.ba,c),d)}function Mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?($N(this.i,this.A),this.L!=2&&($s(),pt(17)),Qr(this),this.s=2,zs(this)):fI(this,this.S-c)};function zs(c){c.j.G==0||c.J||jI(c.j,c)}function Qr(c){Mf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,tI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Pf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||kf(f.h,c))){if(!c.K&&kf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)hu(f),lu(f);else break e;Ff(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Hs(m(f.Za,f),6e3));if(1>=mI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Zr(f,11)}else if((c.K||f.g==c)&&hu(f),!G(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let de=b[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let rt=de[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=de[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let eo=de[5];eo!=null&&typeof eo=="number"&&0<eo&&(g=1.5*eo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Gt=c.g;if(Gt){let pu=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var A=g.h;A.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(xf(A,A.h),A.h=null))}if(g.D){let jf=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(g.ya=jf,we(g.I,g.D,jf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=$I(g,g.J?g.ia:null,g.W),x.K){yI(g.h,x);var Ee=x,Qe=g.L;Qe&&(Ee.I=Qe),Ee.B&&(Mf(Ee),iu(Ee)),g.g=x}else FI(g);0<f.i.length&&du(f)}else de[0]!="stop"&&de[0]!="close"||Zr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Zr(f,7):Lf(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}$s(4)}catch{}}var zN=class{constructor(c,d){this.g=c,this.map=d}};function pI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mI(c){return c.h?1:c.g?c.g.size:0}function kf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xf(c,d){c.g?c.g.add(d):c.h=d}function yI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}pI.prototype.cancel=function(){if(this.i=vI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function vI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function GN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function WN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function _I(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=WN(c),g=GN(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var EI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,ou(this,c.j),this.o=c.o,this.g=c.g,su(this,c.s),this.l=c.l;var d=c.i,f=new Ks;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),II(this,f),this.m=c.m}else c&&(d=String(c).match(EI))?(this.h=!1,ou(this,d[1]||"",!0),this.o=Gs(d[2]||""),this.g=Gs(d[3]||"",!0),su(this,d[4]),this.l=Gs(d[5]||"",!0),II(this,d[6]||"",!0),this.m=Gs(d[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ws(d,wI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ws(d,wI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ws(f,f.charAt(0)=="/"?ZN:YN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ws(f,XN)),c.join("")};function An(c){return new Yr(c)}function ou(c,d,f){c.j=f?Gs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function su(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function II(c,d,f){d instanceof Ks?(c.i=d,eM(c.i,c.h)):(f||(d=Ws(d,JN)),c.i=new Ks(d,c.h))}function we(c,d,f){c.i.set(d,f)}function au(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ws(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,QN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wI=/[#\/\?@]/g,YN=/[#\?:]/g,ZN=/[#\?]/g,JN=/[#\?@]/g,XN=/#/g;function Ks(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&KN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ks.prototype,n.add=function(c,d){nr(this),this.i=null,c=Ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function TI(c,d){nr(c),d=Ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function DI(c,d){return nr(c),d=Ji(c,d),c.g.has(d)}n.forEach=function(c,d){nr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){nr(this);let d=[];if(typeof c=="string")DI(this,c)&&(d=d.concat(this.g.get(Ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return nr(this),this.i=null,c=Ji(this,c),DI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function bI(c,d,f){TI(c,d),0<f.length&&(c.i=null,c.g.set(Ji(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=A;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),c.push(b)}}return this.i=c.join("&")};function Ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function eM(c,d){d&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(TI(this,g),bI(this,b,f))},c)),c.j=d}function tM(c,d){let f=new qs;if(a.Image){let g=new Image;g.onload=y(rr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(rr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(rr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(rr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function nM(c,d){let f=new qs,g=new AbortController,b=setTimeout(()=>{g.abort(),rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?rr(f,"TestPingServer: ok",!0,d):rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),rr(f,"TestPingServer: error",!1,d)})}function rr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function rM(){this.g=new jN}function iM(c,d,f){let g=f||"";try{_I(c,function(b,A){let x=b;l(b)&&(x=Df(b)),d.push(g+A+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Qs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Qs,bf),Qs.prototype.g=function(){return new cu(this.l,this.j)},Qs.prototype.i=(function(c){return function(){return c}})({});function cu(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(cu,nt),n=cu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Zs(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function CI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ys(this):Zs(this),this.readyState==3&&CI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ys(this))},n.Qa=function(c){this.g&&(this.response=c,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zs(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Zs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function SI(c){let d="";return ge(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Of(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=SI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function be(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(be,nt);var oM=/^https?$/i,sM=["POST","PUT"];n=be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Af.g(),this.v=this.o?nI(this.o):nI(Af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){AI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sM,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of f)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{MI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){AI(this,A)}};function AI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,RI(c),uu(c)}function RI(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),uu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uu(this,!0)),be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?NI(this):this.bb())},n.bb=function(){NI(this)};function NI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)JE(c.Ea,0,c);else if(ft(c,"readystatechange"),Rn(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var b=String(c.D).match(EI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!oM.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var A=2<Rn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",RI(c)}}finally{uu(c)}}}}function uu(c,d){if(c.g){MI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function MI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),VN(d)}};function PI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function aM(c){let d={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function kI(c){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,c),this.cb=Js("retryDelaySeedMs",1e4,c),this.Wa=Js("forwardChannelMaxRetries",2,c),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pI(c&&c.concurrentRequestLimit),this.Da=new rM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=kI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=$I(this,null,this.W),du(this)};function Lf(c){if(xI(c),c.G==3){var d=c.U++,f=An(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),Xs(c,f),d=new tr(c,c.j,d),d.L=2,d.v=au(An(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=HI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),iu(d)}BI(c)}function lu(c){c.g&&(Vf(c),c.g.cancel(),c.g=null)}function xI(c){lu(c),c.u&&(a.clearTimeout(c.u),c.u=null),hu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function du(c){if(!gI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ls||GE(),Fs||(Ls(),Fs=!0),gf.add(d,c),c.B=0}}function cM(c,d){return mI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hs(m(c.Ga,c,d),UI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=LI(this,b,d),f=An(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Xs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(SI(A)))+"&"+d:this.m&&Of(f,this.m,A)),xf(this.h,b),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),b.T=!0,Nf(b,f,null)):Nf(b,f,d),this.G=2}}else this.G==3&&(c?OI(this,c):this.i.length==0||gI(this.h)||OI(this))};function OI(c,d){var f;d?f=d.l:f=c.U++;let g=An(c.I);we(g,"SID",c.K),we(g,"RID",f),we(g,"AID",c.T),Xs(c,g),c.m&&c.o&&Of(g,c.m,c.o),f=new tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=LI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xf(c.h,f),Nf(f,g,d)}function Xs(c,d){c.H&&ge(c.H,function(f,g){we(d,g,f)}),c.l&&_I({},function(f,g){we(d,g,f)})}function LI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let x=["count="+f];A==-1?0<f?(A=b[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let Ee=!0;for(let Qe=0;Qe<f;Qe++){let de=b[Qe].g,rt=b[Qe].map;if(de-=A,0>de)A=Math.max(0,b[Qe].g-100),Ee=!1;else try{iM(rt,x,"req"+de+"_")}catch{g&&g(rt)}}if(Ee){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function FI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ls||GE(),Fs||(Ls(),Fs=!0),gf.add(d,c),c.v=0}}function Ff(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hs(m(c.Fa,c),UI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,VI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hs(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),lu(this),VI(this))};function Vf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function VI(c){c.g=new tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=An(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),Xs(c,d),c.m&&c.o&&Of(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=au(An(d)),f.m=null,f.P=!0,dI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,lu(this),Ff(this),pt(19))};function hu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function jI(c,d){var f=null;if(c.g==d){hu(c),Vf(c),c.g=null;var g=2}else if(kf(c.h,d))f=d.D,yI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=tu(),ft(g,new aI(g,f)),du(c)}else FI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&cM(c,d)||g==2&&Ff(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function UI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Zr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Yr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ou(g,"https"),au(g),b?tM(g.toString(),f):nM(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),BI(c),xI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function BI(c){if(c.G=0,c.ka=[],c.l){let d=vI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function $I(c,d,f){var g=f instanceof Yr?An(f):new Yr(f);if(g.g!="")d&&(g.g=d+"."+g.g),su(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Yr(null);g&&ou(A,g),d&&(A.g=d),b&&su(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&we(g,f,d),we(g,"VER",c.la),Xs(c,g),g}function HI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new be(new Qs({eb:f})):new be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qI(){}n=qI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fu(){}fu.prototype.g=function(c,d){return new bt(c,d)};function bt(c,d){nt.call(this),this.g=new kI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Xi(this)}S(bt,nt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Lf(this.g)},bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Df(c),c=f);d.i.push(new zN(d.Ya++,c)),d.G==3&&du(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,Lf(this.g),delete this.g,bt.aa.N.call(this)};function zI(c){Cf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(zI,Cf);function GI(){Sf.call(this),this.status=1}S(GI,Sf);function Xi(c){this.g=c}S(Xi,qI),Xi.prototype.ua=function(){ft(this.g,"a")},Xi.prototype.ta=function(c){ft(this.g,new zI(c))},Xi.prototype.sa=function(c){ft(this.g,new GI)},Xi.prototype.ra=function(){ft(this.g,"b")},fu.prototype.createWebChannel=fu.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,bv=Wn.createWebChannelTransport=function(){return new fu},Dv=Wn.getStatEventTarget=function(){return tu()},Tv=Wn.Event=Kr,mh=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nu.NO_ERROR=0,nu.TIMEOUT=8,nu.HTTP_ERROR=6,Mc=Wn.ErrorCode=nu,cI.COMPLETE="complete",wv=Wn.EventType=cI,rI.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",nt.prototype.listen=nt.prototype.K,cs=Wn.WebChannel=rI,TB=Wn.FetchXmlHttpFactory=Qs,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Iv=Wn.XhrIo=be}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});var KA="@firebase/firestore",QA="4.8.0";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var Ms="11.10.0";var Bi=new vn("@firebase/firestore");function us(){return Bi.logLevel}function F(n,...e){if(Bi.logLevel<=se.DEBUG){let t=e.map(gE);Bi.debug(`Firestore (${Ms}): ${n}`,...t)}}function Qn(n,...e){if(Bi.logLevel<=se.ERROR){let t=e.map(gE);Bi.error(`Firestore (${Ms}): ${n}`,...t)}}function Hr(n,...e){if(Bi.logLevel<=se.WARN){let t=e.map(gE);Bi.warn(`Firestore (${Ms}): ${n}`,...t)}}function gE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function H(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$0(n,r,t)}function $0(n,e,t){let r=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qn(r),new Error(r)}function pe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$0(e,i,r)}function Y(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Th=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ge.UNAUTHENTICATED))}shutdown(){}},Mv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Pv=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new Th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}},kv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},xv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new kv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ov=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function DB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function H0(){return new TextEncoder}var Fc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=DB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function Lv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=H0(),s=bB(o.encode(YA(n,t)),o.encode(YA(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function YA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function bB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function ys(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ZA="__name__",bh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&H(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&H(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Lv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gn.fromString(e.substring(4,e.length-2))}},De=class n extends bh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},CB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=class n extends bh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return CB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZA}static keyField(){return new n([ZA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var $=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};function q0(n,e,t){if(!t)throw new L(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SB(n,e,t,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JA(n){if(!$.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XA(n){if($.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function z0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":H(12329,{type:typeof n})}function Fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=rf(n);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Le(n,e){let t={typeString:n};return e&&(t.value=e),t}function Kc(n,e){if(!z0(n))throw new L(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new L(N.INVALID_ARGUMENT,t);return!0}var e0=-62135596800,t0=1e6,Fe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*t0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<e0)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Le("string",Fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Fe(0,0))}static max(){return new n(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vc=-1,Fv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Fv.UNKNOWN_ID=-1;function AB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Fe(t+1,0):new Fe(t,r));return new $i(i,$.empty(),e)}function RB(n){return new $i(n.readTime,n.key,Vc)}var $i=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),$.empty(),Vc)}static max(){return new n(X.max(),$.empty(),Vc)}};function NB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var MB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ps(n){return _(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==MB)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function PB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ks(n){return n.name==="IndexedDbTransactionError"}var mE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),yE=-1;function of(n){return n==null}function jc(n){return n===0&&1/n==-1/0}function kB(n){return typeof n=="number"&&Number.isInteger(n)&&!jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var G0="";function xB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=n0(e)),e=OB(n.get(t),e);return n0(e)}function OB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case G0:t+="";break;default:t+=o}}return t}function n0(n){return n+G0+""}var LB="remoteDocuments",W0="owner";var K0="mutationQueues";var Q0="mutations";var Y0="documentMutations",FB="remoteDocumentsV14";var Z0="remoteDocumentGlobal";var J0="targets";var X0="targetDocuments";var eR="targetGlobal",tR="collectionParents";var nR="clientMetadata";var rR="bundles";var iR="namedQueries";var VB="indexConfiguration";var jB="indexState";var UB="indexEntries";var oR="documentOverlays";var BB="globals";var $B=[K0,Q0,Y0,LB,J0,W0,eR,X0,nR,Z0,tR,rR,iR],_re=[...$B,oR],HB=[K0,Q0,Y0,FB,J0,W0,eR,X0,nR,Z0,tR,rR,iR,oR],qB=HB,zB=[...qB,VB,jB,UB];var Ere=[...zB,BB];function r0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ne=class n{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class n{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ch(this.data.getIterator())}getIteratorFrom(e){return new Ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ch=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zt=class n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new n([])}unionWith(e){let t=new We(Ft.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Sh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var GB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(n){if(pe(!!n,39018),typeof n=="string"){let e=0,t=GB.exec(n);if(pe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zn(n){return typeof n=="string"?dt.fromBase64String(n):dt.fromUint8Array(n)}var aR="server_timestamp",cR="__type__",uR="__previous_value__",lR="__local_write_time__";function vE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cR])===null||t===void 0?void 0:t.stringValue)===aR}function sf(n){let e=n.mapValue.fields[uR];return vE(e)?sf(e):e}function Uc(n){let e=Yn(n.mapValue.fields[lR].timestampValue);return new Fe(e.seconds,e.nanos)}var jv=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ah="(default)",Rh=class n{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var _E="__type__",dR="__max__",yh={mapValue:{fields:{__type__:{stringValue:dR}}}},EE="__vector__",vs="value";function qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vE(n)?4:fR(n)?9007199254740991:hR(n)?10:11:H(28295,{value:n})}function bn(n,e){if(n===e)return!0;let t=qr(n);if(t!==qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uc(n).isEqual(Uc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yn(i.timestampValue),a=Yn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Zn(i.bytesValue).isEqual(Zn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),a=Te(o.doubleValue);return s===a?jc(s)===jc(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(r0(s)!==r0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!bn(s[u],a[u])))return!1;return!0})(n,e);default:return H(52216,{left:n})}}function Bc(n,e){return(n.values||[]).find(t=>bn(t,e))!==void 0}function _s(n,e){if(n===e)return 0;let t=qr(n),r=qr(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return i0(n.timestampValue,e.timestampValue);case 4:return i0(Uc(n),Uc(e));case 5:return Lv(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Zn(o),u=Zn(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ie(Te(o.latitude),Te(s.latitude));return a!==0?a:ie(Te(o.longitude),Te(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return o0(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[vs])===null||a===void 0?void 0:a.arrayValue,S=(u=m[vs])===null||u===void 0?void 0:u.arrayValue,M=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:o0(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===yh.mapValue&&s===yh.mapValue)return 0;if(o===yh.mapValue)return 1;if(s===yh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Lv(u[p],h[p]);if(m!==0)return m;let y=_s(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)})(n.mapValue,e.mapValue);default:throw H(23264,{le:t})}}function i0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=Yn(n),r=Yn(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function o0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=_s(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function Es(n){return Uv(n)}function Uv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Yn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return $.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Uv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Uv(t.fields[s])}`;return i+"}"})(n.mapValue):H(61005,{value:n})}function Eh(n){switch(qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sf(n);return e?16+Eh(e):16;case 5:return 2*n.stringValue.length;case 6:return Zn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Eh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Wr(r.fields,(o,s)=>{i+=o.length+Eh(s)}),i})(n.mapValue);default:throw H(13486,{value:n})}}function s0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bv(n){return!!n&&"integerValue"in n}function IE(n){return!!n&&"arrayValue"in n}function a0(n){return!!n&&"nullValue"in n}function c0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ih(n){return!!n&&"mapValue"in n}function hR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[_E])===null||t===void 0?void 0:t.stringValue)===EE}function kc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Wr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}var wre={mapValue:{fields:{[_E]:{stringValue:EE},[vs]:{arrayValue:{}}}}};var Lt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=Ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=kc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wr(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(kc(this.value))}};function pR(n){let e=[];return Wr(n.fields,(t,r)=>{let i=new Ft([t]);if(Ih(r)){let o=pR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new zt(e)}var rn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Lt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,t){this.position=e,this.inclusive=t}};function u0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=$.comparator($.fromName(s.referenceValue),t.key):r=_s(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function l0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bn(n.position[t],e.position[t]))return!1;return!0}var ws=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function WB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Nh=class{},Oe=class n extends Nh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Hv(e,t,r):t==="array-contains"?new Gv(e,r):t==="in"?new Wv(e,r):t==="not-in"?new Kv(e,r):t==="array-contains-any"?new Qv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qv(e,r):new zv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_s(t,this.value)):t!==null&&qr(this.value)===qr(t)&&this.matchesComparison(_s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},on=class n extends Nh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return gR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function gR(n){return n.op==="and"}function mR(n){return KB(n)&&gR(n)}function KB(n){for(let e of n.filters)if(e instanceof on)return!1;return!0}function $v(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+Es(n.value);if(mR(n))return n.filters.map(e=>$v(e)).join(",");{let e=n.filters.map(t=>$v(t)).join(",");return`${n.op}(${e})`}}function yR(n,e){return n instanceof Oe?(function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&bn(r.value,i.value)})(n,e):n instanceof on?(function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yR(s,i.filters[a]),!0):!1})(n,e):void H(19439)}function vR(n){return n instanceof Oe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Es(t.value)}`})(n):n instanceof on?(function(t){return t.op.toString()+" {"+t.getFilters().map(vR).join(" ,")+"}"})(n):"Filter"}var Hv=class extends Oe{constructor(e,t,r){super(e,t,r),this.key=$.fromName(r.referenceValue)}matches(e){let t=$.comparator(e.key,this.key);return this.matchesComparison(t)}},qv=class extends Oe{constructor(e,t){super(e,"in",t),this.keys=_R("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},zv=class extends Oe{constructor(e,t){super(e,"not-in",t),this.keys=_R("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _R(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$.fromName(r.referenceValue))}var Gv=class extends Oe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return IE(t)&&Bc(t.arrayValue,this.value)}},Wv=class extends Oe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Bc(this.value.arrayValue,t)}},Kv=class extends Oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bc(this.value.arrayValue,t)}},Qv=class extends Oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!IE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}};var Yv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function d0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Yv(n,e,t,r,i,o,s)}function wE(n){let e=Y(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$v(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Es(r)).join(",")),e.Pe=t}return e.Pe}function TE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l0(n.startAt,e.startAt)&&l0(n.endAt,e.endAt)}function Zv(n){return $.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function QB(n,e,t,r,i,o,s,a){return new Hi(n,e,t,r,i,o,s,a)}function DE(n){return new Hi(n)}function h0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ER(n){return n.collectionGroup!==null}function xc(n){let e=Y(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new We(Ft.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ws(o,r))}),t.has(Ft.keyField().canonicalString())||e.Te.push(new ws(Ft.keyField(),r))}return e.Te}function Tn(n){let e=Y(n);return e.Ie||(e.Ie=YB(e,xc(n))),e.Ie}function YB(n,e){if(n.limitType==="F")return d0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ws(i.field,o)});let t=n.endAt?new Is(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Is(n.startAt.position,n.startAt.inclusive):null;return d0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Jv(n,e){let t=n.filters.concat([e]);return new Hi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xv(n,e,t){return new Hi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return TE(Tn(n),Tn(e))&&n.limitType===e.limitType}function IR(n){return`${wE(Tn(n))}|lt:${n.limitType}`}function ls(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>vR(i)).join(", ")}]`),of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Es(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`})(Tn(n))}; limitType=${n.limitType})`}function cf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=u0(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,xc(r),i)||r.endAt&&!(function(s,a,u){let l=u0(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,xc(r),i))})(n,e)}function ZB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wR(n){return(e,t)=>{let r=!1;for(let i of xc(n)){let o=JB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JB(n,e,t){let r=n.field.isKeyField()?$.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?_s(u,l):H(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:n.dir})}}var Jn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return sR(this.inner)}size(){return this.innerSize}};var XB=new Ne($.comparator);function Xn(){return XB}var TR=new Ne($.comparator);function Pc(...n){let e=TR;for(let t of n)e=e.insert(t.key,t);return e}function DR(n){let e=TR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fi(){return Oc()}function bR(){return Oc()}function Oc(){return new Jn(n=>n.toString(),(n,e)=>n.isEqual(e))}var e$=new Ne($.comparator),t$=new We($.comparator);function ce(...n){let e=t$;for(let t of n)e=e.add(t);return e}var n$=new We(ie);function r$(){return n$}function bE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function CR(n){return{integerValue:""+n}}function i$(n,e){return kB(e)?CR(e):bE(n,e)}var Ts=class{constructor(){this._=void 0}};function o$(n,e,t){return n instanceof Ds?(function(i,o){let s={fields:{[cR]:{stringValue:aR},[lR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vE(o)&&(o=sf(o)),o&&(s.fields[uR]=o),{mapValue:s}})(t,e):n instanceof qi?AR(n,e):n instanceof zi?RR(n,e):(function(i,o){let s=SR(i,o),a=f0(s)+f0(i.Ee);return Bv(s)&&Bv(i.Ee)?CR(a):bE(i.serializer,a)})(n,e)}function s$(n,e,t){return n instanceof qi?AR(n,e):n instanceof zi?RR(n,e):t}function SR(n,e){return n instanceof bs?(function(r){return Bv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ds=class extends Ts{},qi=class extends Ts{constructor(e){super(),this.elements=e}};function AR(n,e){let t=NR(e);for(let r of n.elements)t.some(i=>bn(i,r))||t.push(r);return{arrayValue:{values:t}}}var zi=class extends Ts{constructor(e){super(),this.elements=e}};function RR(n,e){let t=NR(e);for(let r of n.elements)t=t.filter(i=>!bn(i,r));return{arrayValue:{values:t}}}var bs=class extends Ts{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function f0(n){return Te(n.integerValue||n.doubleValue)}function NR(n){return IE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function a$(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof qi&&i instanceof qi||r instanceof zi&&i instanceof zi?ys(r.elements,i.elements,bn):r instanceof bs&&i instanceof bs?bn(r.Ee,i.Ee):r instanceof Ds&&i instanceof Ds})(n.transform,e.transform)}var e_=class{constructor(e,t){this.version=e,this.transformResults=t}},Vr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Cs=class{};function MR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mh(n.key,Vr.none()):new Gi(n.key,n.data,Vr.none());{let t=n.data,r=Lt.empty(),i=new We(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Cn(n.key,r,new zt(i.toArray()),Vr.none())}}function c$(n,e,t){n instanceof Gi?(function(i,o,s){let a=i.value.clone(),u=g0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Cn?(function(i,o,s){if(!wh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=g0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(PR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Lc(n,e,t,r){return n instanceof Gi?(function(o,s,a,u){if(!wh(o.precondition,s))return a;let l=o.value.clone(),h=m0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Cn?(function(o,s,a,u){if(!wh(o.precondition,s))return a;let l=m0(o.fieldTransforms,u,s),h=s.data;return h.setAll(PR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return wh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function u$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=SR(r.transform,i||null);o!=null&&(t===null&&(t=Lt.empty()),t.set(r.field,o))}return t||null}function p0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(o,s)=>a$(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Gi=class extends Cs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cn=class extends Cs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function PR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function g0(n,e,t){let r=new Map;pe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,s$(s,a,t[i]))}return r}function m0(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,o$(o,s,e))}return r}var Mh=class extends Cs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},t_=class extends Cs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var n_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&c$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Lc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=bR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=MR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,r)=>p0(t,r))&&ys(this.baseMutations,e.baseMutations,(t,r)=>p0(t,r))}},r_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return e$})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var i_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var o_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ke,le;function l$(n){switch(n){case N.OK:return H(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return H(15467,{code:n})}}function kR(n){if(n===void 0)return Qn("GRPC error has no .code"),N.UNKNOWN;switch(n){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return H(39323,{code:n})}}(le=ke||(ke={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var y0=null;var d$=new Gn([4294967295,4294967295],0);function v0(n){let e=H0().encode(n),t=new Ev;return t.update(e),new Uint8Array(t.digest())}function _0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gn([t,r],0),new Gn([i,o],0)]}var s_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vi(`Invalid padding: ${t}`);if(r<0)throw new Vi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Gn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Gn.fromNumber(r)));return i.compare(d$)===1&&(i=new Gn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=v0(e),[r,i]=_0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=v0(e),[r,i]=_0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Vi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ph=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Ne(ie),Xn(),ce())}},$c=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var ps=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},kh=class{constructor(e,t){this.targetId=e,this.De=t}},xh=class{constructor(e,t,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Oh=class{constructor(){this.ve=0,this.Ce=E0(),this.Fe=dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ce(),t=ce(),r=ce();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new $c(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=E0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},a_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xn(),this.je=vh(),this.Je=vh(),this.He=new Ne(ie)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Zv(o))if(r===0){let s=new $(o.path);this.Xe(t,s,rn.newNoDocument(s,X.min()))}else pe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}y0?.ct((function(h,p,m,y,S){var M,R,O,G,W,_e;let ht={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ge=p.unchangedNames;return ge&&(ht.bloomFilter={applied:S===0,hashCount:(M=ge?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(O=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&G!==void 0?G:0,padding:(_e=(W=ge?.bits)===null||W===void 0?void 0:W.padding)!==null&&_e!==void 0?_e:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),ht})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Zn(r).toUint8Array()}catch(u){if(u instanceof Sh)return Hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new s_(s,i,o)}catch(u){return Hr(u instanceof Vi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Zv(a.target)){let u=new $(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,rn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Ph(e,t,this.He,this.ze,r);return this.ze=Xn(),this.je=vh(),this.Je=vh(),this.He=new Ne(ie),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Oh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new We(ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new We(ie),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Oh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function vh(){return new Ne($.comparator)}function E0(){return new Ne($.comparator)}var h$={asc:"ASCENDING",desc:"DESCENDING"},f$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"},c_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function u_(n,e){return n.useProto3Json||of(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g$(n,e){return Lh(n,e.toTimestamp())}function Dn(n){return pe(!!n,49232),X.fromTimestamp((function(t){let r=Yn(t);return new Fe(r.seconds,r.nanos)})(n))}function CE(n,e){return l_(n,e).canonicalString()}function l_(n,e){let t=(function(i){return new De(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function OR(n){let e=De.fromString(n);return pe(UR(e),10190,{key:e.toString()}),e}function d_(n,e){return CE(n.databaseId,e.path)}function Cv(n,e){let t=OR(e);if(t.get(1)!==n.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(FR(t))}function LR(n,e){return CE(n.databaseId,e)}function m$(n){let e=OR(n);return e.length===4?De.emptyPath():FR(e)}function h_(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FR(n){return pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function I0(n,e,t){return{name:d_(n,e),fields:t.value.mapValue.fields}}function y$(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(pe(h===void 0||typeof h=="string",58123),dt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:kR(l.code);return new L(h,l.message||"")})(s);t=new xh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Cv(n,r.document.name),o=Dn(r.document.updateTime),s=r.document.createTime?Dn(r.document.createTime):X.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Cv(n,r.document),o=r.readTime?Dn(r.readTime):X.min(),s=rn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Cv(n,r.document),o=r.removedTargetIds||[];t=new ps([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new o_(i,o),a=r.targetId;t=new kh(a,s)}}return t}function v$(n,e){let t;if(e instanceof Gi)t={update:I0(n,e.key,e.value)};else if(e instanceof Mh)t={delete:d_(n,e.key)};else if(e instanceof Cn)t={update:I0(n,e.key,e.data),updateMask:S$(e.fieldMask)};else{if(!(e instanceof t_))return H(16599,{Rt:e.type});t={verify:d_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:g$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)})(n,e.precondition)),t}function _$(n,e){return n&&n.length>0?(pe(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Dn(i.updateTime):Dn(o);return s.isEqual(X.min())&&(s=Dn(o)),new e_(s,i.transformResults||[])})(t,e))):[]}function E$(n,e){return{documents:[LR(n,e.path)]}}function I$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LR(n,i);let o=(function(l){if(l.length!==0)return jR(on.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ds(m.field),direction:D$(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=u_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function w$(n){let e=m$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){pe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=VR(p);return m instanceof on&&mR(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new ws(hs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,of(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Is(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Is(y,m)})(t.endAt)),QB(e,i,s,o,a,"F",u,l)}function T$(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hs(t.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(t.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(t.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(t.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Oe.create(hs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return on.create(t.compositeFilter.filters.map(r=>VR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(t.compositeFilter.op))})(n):H(30097,{filter:n})}function D$(n){return h$[n]}function b$(n){return f$[n]}function C$(n){return p$[n]}function ds(n){return{fieldPath:n.canonicalString()}}function hs(n){return Ft.fromServerFormat(n.fieldPath)}function jR(n){return n instanceof Oe?(function(t){if(t.op==="=="){if(c0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NAN"}};if(a0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NAN"}};if(a0(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(t.field),op:b$(t.op),value:t.value}}})(n):n instanceof on?(function(t){let r=t.getFilters().map(i=>jR(i));return r.length===1?r[0]:{compositeFilter:{op:C$(t.op),filters:r}}})(n):H(54877,{filter:n})}function S$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Hc=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var f_=class{constructor(e){this.gt=e}};function A$(n){let e=w$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xv(e,e.limit,"L"):e}var Fh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),jc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Yn(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Zn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?fR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):hR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):H(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Te(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),$.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Fh.Ut=new Fh;var p_=class{constructor(){this.Dn=new g_}addToCollectionParentIndex(e,t){return this.Dn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve($i.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},g_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new We(De.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(De.comparator)).toArray()}};var Tre=new Uint8Array(0);var w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BR=41943040,qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(BR,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);var qc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var T0="LruGarbageCollector",R$=1048576;function D0([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var m_=class{constructor(e){this.Tr=e,this.buffer=new We(D0),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();D0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},y_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(T0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ks(t)?F(T0,"Ignoring IndexedDB error during garbage collection: ",t):yield Ps(t)}yield this.Rr(3e5)}))}},v_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(mE.ue);let r=new m_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(w0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),us()<=se.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function N$(n,e){return new v_(n,e)}var __=class{constructor(){this.changes=new Jn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var E_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var I_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lc(r.mutation,i,zt.empty(),Fe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=Fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Pc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Xn(),s=Oc(),a=(function(){return Oc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Cn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Lc(h.mutation,l,h.mutation.getFieldMask(),Fe.now())):s.set(l.key,zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new E_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Oc(),i=new Ne((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=bR();h.forEach(m=>{if(!o.has(m)){let y=MR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ER(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Fi()),a=Vc,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(h=>({batchId:a,changes:DR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Pc();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=(function(p,m){return new Hi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,rn.newInvalidDocument(h)))});let a=Pc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Lc(h.mutation,l,zt.empty(),Fe.now()),cf(t,l)&&(a=a.insert(u,l))}),a})}};var w_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return k.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:A$(i.bundledQuery),readTime:Dn(i.readTime)}})(t)),k.resolve()}};var T_=class{constructor(){this.overlays=new Ne($.comparator),this.kr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Fi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Fi(),o=t.length+1,s=new $(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ne((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Fi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Fi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new i_(t,r));let o=this.kr.get(t);o===void 0&&(o=ce(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var D_=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var zc=class{constructor(){this.qr=new We(xe.Qr),this.$r=new We(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new xe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new xe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new $(new De([])),r=new xe(t,e),i=new xe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new $(new De([])),r=new xe(t,e),i=new xe(t,e+1),o=ce();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new xe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return $.comparator(e.key,t.key)||ie(e.Hr,t.Hr)}static Ur(e,t){return ie(e.Hr,t.Hr)||$.comparator(e.key,t.key)}};var b_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new We(xe.Qr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new n_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?yE:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new xe(t,0),i=new xe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(ie);return t.forEach(i=>{let o=new xe(i,0),s=new xe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));let s=new xe(new $(o),0),a=new We(ie);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),k.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(t.mutations,i=>{let o=new xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new xe(t,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var C_=class{constructor(e){this.ni=e,this.docs=(function(){return new Ne($.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Xn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Xn(),s=t.path,a=new $(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||NB(RB(h),r)<=0||(i.has(h.key)||cf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){H(9500)}ri(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new S_(this)}getSize(e){return k.resolve(this.size)}},S_=class extends __{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var A_=class{constructor(e){this.persistence=e,this.ii=new Jn(t=>wE(t),TE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.si=0,this.oi=new zc,this.targetCount=0,this._i=qc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),k.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.hr(t),k.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.oi.containsKey(t))}};var Vh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new mE(0),this.ci=!1,this.ci=!0,this.li=new D_,this.referenceDelegate=e(this),this.hi=new A_(this),this.indexManager=new p_,this.remoteDocumentCache=(function(i){return new C_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new f_(t),this.Ti=new w_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new b_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new R_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},R_=class extends Vv{constructor(e){super(),this.currentSequenceNumber=e}},N_=class n{constructor(e){this.persistence=e,this.Ai=new zc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{let i=$.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return k.or([()=>k.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},jh=class n{constructor(e,t){this.persistence=e,this.gi=new Jn(r=>xB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=N$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}Sr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var M_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var P_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var k_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return vS()?8:PB(ze())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new P_;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(us()<=se.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(us()<=se.DEBUG&&F("QueryEngine","Query:",ls(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(us()<=se.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(t))):k.resolve())}ps(e,t){if(h0(t))return k.resolve(null);let r=Tn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Xv(t,null,"F"),r=Tn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Xv(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return h0(t)||i.isEqual(X.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?k.resolve(null):(us()<=se.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(t)),this.vs(e,s,t,AB(i,Vc)).next(a=>a))})}bs(e,t){let r=new We(wR(e));return t.forEach((i,o)=>{cf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return us()<=se.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ls(t)),this.gs.getDocumentsMatchingQuery(e,t,$i.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var SE="LocalStore",M$=3e8,x_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ne(ie),this.Ms=new Jn(o=>wE(o),TE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function P$(n,e,t,r){return new x_(n,e,t,r)}function $R(n,e){return _(this,null,function*(){let t=Y(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function k$(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=k.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);pe(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function HR(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function x$(n,e){let t=Y(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=M$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Xn(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(X.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function O$(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Xn();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(SE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function L$(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F$(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Hc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function O_(n,e,t){return _(this,null,function*(){let r=Y(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ks(s))throw s;F(SE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function b0(n,e,t){let r=Y(n),i=X.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?k.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:ce())).next(a=>(V$(r,ZB(e),a),{documents:a,qs:o})))}function V$(n,e,t){let r=n.xs.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Uh=class{constructor(){this.activeTargetIds=r$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var L_=class{constructor(){this.Fo=new Uh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Uh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var F_=class{xo(e){}shutdown(){}};var C0="ConnectivityMonitor",Bh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(C0,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(C0,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var _h=null;function V_(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}var Sv="RestConnection",j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},j_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=V_(),a=this.Go(e,t.toUriEncodedString());F(Sv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Cr(l);return this.jo(e,a,u,r,h).then(p=>(F(Sv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Hr(Sv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ms})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=j$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var U_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var lt="WebChannelConnection",B_=class extends j_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=V_();return new Promise((a,u)=>{let l=new Iv;l.setWithCredentials(!0),l.listenOnce(wv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mc.NO_ERROR:let p=l.getResponseJson();F(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Mc.TIMEOUT:F(lt,`RPC '${e}' ${s} timed out`),u(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:let m=l.getStatus();if(F(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(O){let G=O.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(G)>=0?G:N.UNKNOWN})(S.status);u(new L(M,S.message))}else u(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(N.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(lt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=V_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bv(),a=Dv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new U_({Ho:R=>{y?F(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,O,G)=>{R.listen(O,W=>{try{G(W)}catch(_e){setTimeout(()=>{throw _e},0)}})};return M(p,cs.EventType.OPEN,()=>{y||(F(lt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,cs.EventType.CLOSE,()=>{y||(y=!0,F(lt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,cs.EventType.ERROR,R=>{y||(y=!0,Hr(lt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,cs.EventType.MESSAGE,R=>{var O;if(!y){let G=R.data[0];pe(!!G,16349);let W=G,_e=W?.error||((O=W[0])===null||O===void 0?void 0:O.error);if(_e){F(lt,`RPC '${e}' stream ${i} received error:`,_e);let ht=_e.status,ge=(function(I){let w=ke[I];if(w!==void 0)return kR(w)})(ht),T=_e.message;ge===void 0&&(ge=N.INTERNAL,T="Unknown error status: "+ht+" with message "+_e.message),y=!0,S.__(new L(ge,T)),p.close()}else F(lt,`RPC '${e}' stream ${i} received:`,G),S.a_(G)}}),M(a,Tv.STAT_EVENT,R=>{R.stat===mh.PROXY?F(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===mh.NOPROXY&&F(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Av(){return typeof document<"u"?document:null}function uf(n){return new c_(n,!0)}var $h=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var S0="PersistentStream",Hh=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $h(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Qn(t.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(F(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},$_=class extends Hh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=y$(this.serializer,e),r=(function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Dn(s.readTime):X.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=h_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=Zv(u)?{documents:E$(o,u)}:{query:I$(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=xR(o,s.resumeToken);let l=u_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Lh(o,s.snapshotVersion.toTimestamp());let l=u_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=T$(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=h_(this.serializer),t.removeTarget=e,this.k_(t)}},H_=class extends Hh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=_$(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=h_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>v$(this.serializer,r))};this.k_(t)}};var q_=class{},z_=class extends q_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,l_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,l_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},G_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qn(t),this._a=!1):F("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Wi="RemoteStore",W_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Qi(this)&&(F(Wi,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=Y(u);l.Ia.add(4),yield Qc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield lf(l)})})(this))}))}),this.Aa=new G_(r,i)}};function lf(n){return _(this,null,function*(){if(Qi(n))for(let e of n.da)yield e(!0)})}function Qc(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function qR(n,e){let t=Y(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ME(t)?NE(t):xs(t).x_()&&RE(t,e))}function AE(n,e){let t=Y(n),r=xs(t);t.Ta.delete(e),r.x_()&&zR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Qi(t)&&t.Aa.set("Unknown"))}function RE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xs(n).H_(e)}function zR(n,e){n.Ra.$e(e),xs(n).Y_(e)}function NE(n){n.Ra=new a_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),xs(n).start(),n.Aa.aa()}function ME(n){return Qi(n)&&!xs(n).M_()&&n.Ta.size>0}function Qi(n){return Y(n).Ia.size===0}function GR(n){n.Ra=void 0}function U$(n){return _(this,null,function*(){n.Aa.set("Online")})}function B$(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{RE(n,e)})})}function $$(n,e){return _(this,null,function*(){GR(n),ME(n)?(n.Aa.la(e),NE(n)):n.Aa.set("Unknown")})}function H$(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof xh&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){F(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qh(n,r)}else if(e instanceof ps?n.Ra.Ye(e):e instanceof kh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(X.min()))try{let r=yield HR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),zR(o,u);let p=new Hc(h.target,u,l,h.sequenceNumber);RE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){F(Wi,"Failed to raise snapshot:",r),yield qh(n,r)}})}function qh(n,e,t){return _(this,null,function*(){if(!ks(e))throw e;n.Ia.add(1),yield Qc(n),n.Aa.set("Offline"),t||(t=()=>HR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(Wi,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield lf(n)}))})}function WR(n,e){return e().catch(t=>qh(n,t,e))}function df(n){return _(this,null,function*(){let e=Y(n),t=zr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yE;for(;q$(e);)try{let i=yield L$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,z$(e,i)}catch(i){yield qh(e,i)}KR(e)&&QR(e)})}function q$(n){return Qi(n)&&n.Pa.length<10}function z$(n,e){n.Pa.push(e);let t=zr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function KR(n){return Qi(n)&&!zr(n).M_()&&n.Pa.length>0}function QR(n){zr(n).start()}function G$(n){return _(this,null,function*(){zr(n).na()})}function W$(n){return _(this,null,function*(){let e=zr(n);for(let t of n.Pa)e.X_(t.mutations)})}function K$(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=r_.from(r,e,t);yield WR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield df(n)})}function Q$(n,e){return _(this,null,function*(){e&&zr(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return l$(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();zr(r).N_(),yield WR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield df(r)}})})(n,e)),KR(n)&&QR(n)})}function A0(n,e){return _(this,null,function*(){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),F(Wi,"RemoteStore received new credentials");let r=Qi(t);t.Ia.add(3),yield Qc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield lf(t)})}function Y$(n,e){return _(this,null,function*(){let t=Y(n);e?(t.Ia.delete(2),yield lf(t)):e||(t.Ia.add(2),yield Qc(t),t.Aa.set("Unknown"))})}function xs(n){return n.Va||(n.Va=(function(t,r,i){let o=Y(t);return o.ia(),new $_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:U$.bind(null,n),e_:B$.bind(null,n),n_:$$.bind(null,n),J_:H$.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),ME(n)?NE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),GR(n))}))),n.Va}function zr(n){return n.ma||(n.ma=(function(t,r,i){let o=Y(t);return o.ia(),new H_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:G$.bind(null,n),n_:Q$.bind(null,n),ea:W$.bind(null,n),ta:K$.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield df(n)):(yield n.ma.stop(),n.Pa.length>0&&(F(Wi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var K_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PE(n,e){if(Qn("AsyncQueue",`${e}: ${n}`),ks(n))return new L(N.UNAVAILABLE,`${e}: ${n}`);throw n}var zh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$.comparator(t.key,r.key):(t,r)=>$.comparator(t.key,r.key),this.keyedMap=Pc(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gh=class{constructor(){this.fa=new Ne($.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ss=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,zh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Q_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Y_=class{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Y(t),o=i.queries;i.queries=R0(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function R0(){return new Jn(n=>IR(n),af)}function Z$(n,e){return _(this,null,function*(){let t=Y(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Q_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=PE(s,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&kE(t)})}function J$(n,e){return _(this,null,function*(){let t=Y(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function X$(n,e){let t=Y(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&kE(t)}function eH(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function kE(n){n.Da.forEach(e=>{e.next()})}var Z_,N0;(N0=Z_||(Z_={})).Fa="default",N0.Cache="cache";var J_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Z_.Cache}};var Wh=class{constructor(e){this.key=e}},Kh=class{constructor(e){this.key=e}},X_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ce(),this.mutatedKeys=ce(),this.Xa=wR(e),this.eu=new zh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Gh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=cf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:R})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ss(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Kh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Wh(r))}),t}uu(e){this.Ha=e.qs,this.Za=ce();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ss.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},xE="SyncEngine",eE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},tE=class{constructor(e){this.key=e,this.lu=!1}},nE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Jn(a=>IR(a),af),this.Tu=new Map,this.Iu=new Set,this.du=new Ne($.comparator),this.Eu=new Map,this.Au=new zc,this.Ru={},this.Vu=new Map,this.mu=qc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function tH(n,e,t=!0){return _(this,null,function*(){let r=tN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield YR(r,e,t,!0),i})}function nH(n,e){return _(this,null,function*(){let t=tN(n);yield YR(t,e,!0,!1)})}function YR(n,e,t,r){return _(this,null,function*(){let i=yield F$(n.localStore,Tn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield rH(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&qR(n.remoteStore,i),a})}function rH(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,O,G){return _(this,null,function*(){let W=R.view.nu(O);W.Ds&&(W=yield b0(M.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,W)));let _e=G&&G.targetChanges.get(R.targetId),ht=G&&G.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges(W,M.isPrimaryClient,_e,ht);return P0(M,R.targetId,ge._u),ge.snapshot})})(n,p,m,y);let o=yield b0(n.localStore,e,!0),s=new X_(e,o.qs),a=s.nu(o.documents),u=$c.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);P0(n,t,l._u);let h=new eE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function iH(n,e,t){return _(this,null,function*(){let r=Y(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!af(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield O_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&AE(r.remoteStore,i.targetId),rE(r,i.targetId)}).catch(Ps))):(rE(r,i.targetId),yield O_(r.localStore,i.targetId,!0))})}function oH(n,e){return _(this,null,function*(){let t=Y(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),AE(t.remoteStore,r.targetId))})}function sH(n,e,t){return _(this,null,function*(){let r=fH(n);try{let i=yield(function(s,a){let u=Y(s),l=Fe.now(),h=a.reduce((y,S)=>y.add(S.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Xn(),M=ce();return u.Os.getEntries(y,h).next(R=>{S=R,S.forEach((O,G)=>{G.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let O=[];for(let G of a){let W=u$(G,p.get(G.key).overlayedDocument);W!=null&&O.push(new Cn(G.key,W,pR(W.value.mapValue),Vr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:DR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ne(ie)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Yc(r,i.changes),yield df(r.remoteStore)}catch(i){let o=PE(i,"Failed to persist write");t.reject(o)}})}function ZR(n,e){return _(this,null,function*(){let t=Y(n);try{let r=yield x$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?pe(s.lu,14607):i.removedDocuments.size>0&&(pe(s.lu,42227),s.lu=!1))}),yield Yc(t,r,e)}catch(r){yield Ps(r)}})}function M0(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&kE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aH(n,e,t){return _(this,null,function*(){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ne($.comparator);s=s.insert(o,rn.newNoDocument(o,X.min()));let a=ce().add(o),u=new Ph(X.min(),new Map,new Ne(ie),s,a);yield ZR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),OE(r)}else yield O_(r.localStore,e,!1).then(()=>rE(r,e,t)).catch(Ps)})}function cH(n,e){return _(this,null,function*(){let t=Y(n),r=e.batch.batchId;try{let i=yield k$(t.localStore,e);XR(t,r,null),JR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yc(t,i)}catch(i){yield Ps(i)}})}function uH(n,e,t){return _(this,null,function*(){let r=Y(n);try{let i=yield(function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(pe(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);XR(r,e,t),JR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yc(r,i)}catch(i){yield Ps(i)}})}function JR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function XR(n,e,t){let r=Y(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function rE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||eN(n,r)})}function eN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(AE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),OE(n))}function P0(n,e,t){for(let r of t)r instanceof Wh?(n.Au.addReference(r.key,e),lH(n,r)):r instanceof Kh?(F(xE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||eN(n,r.key)):H(19791,{yu:r})}function lH(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(F(xE,"New document in limbo: "+t),n.Iu.add(r),OE(n))}function OE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new $(De.fromString(e)),r=n.mu.next();n.Eu.set(r,new tE(t)),n.du=n.du.insert(t,r),qR(n.remoteStore,new Hc(Tn(DE(t.path)),r,"TargetPurposeLimboResolution",mE.ue))}}function Yc(n,e,t){return _(this,null,function*(){let r=Y(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=M_.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ks(p))throw p;F(SE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function dH(n,e){return _(this,null,function*(){let t=Y(n);if(!t.currentUser.isEqual(e)){F(xE,"User change. New user:",e.toKey());let r=yield $R(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yc(t,r.Bs)}})}function hH(n,e){let t=Y(n),r=t.Eu.get(e);if(r&&r.lu)return ce().add(r.key);{let i=ce(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function tN(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aH.bind(null,e),e.hu.J_=X$.bind(null,e.eventManager),e.hu.pu=eH.bind(null,e.eventManager),e}function fH(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uH.bind(null,e),e}var nN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=uf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return P$(this.persistence,new k_,t.initialUser,this.serializer)}Du(t){return new Vh(N_.Vi,this.serializer)}bu(t){return new L_}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),iE=class extends nN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){pe(this.persistence.referenceDelegate instanceof jh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new y_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new Vh(r=>jh.Vi(r,t),this.serializer)}};var pH=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dH.bind(null,this.syncEngine),yield Y$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Y_})()}createDatastore(t){let r=uf(t.databaseInfo.databaseId),i=(function(s){return new B_(s)})(t.databaseInfo);return(function(s,a,u,l){return new z_(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new W_(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>M0(this.syncEngine,r,0),(function(){return Bh.C()?new Bh:new F_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new nE(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=Y(o);F(Wi,"RemoteStore shutting down."),s.Ia.add(5),yield Qc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var oE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Gr="FirestoreClient",sE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=Fc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){F(Gr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Gr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=PE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Rv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(Gr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield $R(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Hr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function k0(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield gH(n);F(Gr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>A0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>A0(e.remoteStore,i)),n._onlineComponents=e})}function gH(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(Gr,"Using user provided OfflineComponentProvider");try{yield Rv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Hr("Error using user provided cache. Falling back to memory cache: "+t),yield Rv(n,new nN)}}else F(Gr,"Using default OfflineComponentProvider"),yield Rv(n,new iE(void 0));return n._offlineComponents})}function rN(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(Gr,"Using user provided OnlineComponentProvider"),yield k0(n,n._uninitializedComponentsProvider._online)):(F(Gr,"Using default OnlineComponentProvider"),yield k0(n,new pH))),n._onlineComponents})}function mH(n){return rN(n).then(e=>e.syncEngine)}function x0(n){return _(this,null,function*(){let e=yield rN(n),t=e.eventManager;return t.onListen=tH.bind(null,e.syncEngine),t.onUnlisten=iH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oH.bind(null,e.syncEngine),t})}function iN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var O0=new Map;var oN="firestore.googleapis.com",L0=!0,Qh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oN,this.ssl=L0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R$)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Nv;switch(r.type){case"firstParty":return new xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=O0.get(t);r&&(F("ComponentProvider","Removing Datastore"),O0.delete(t),r.terminate())})(this),Promise.resolve()}};function sN(n,e,t,r={}){var i;n=Fr(n,As);let o=Cr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Ud(`https://${u}`),Bd("Firestore",!0)),s.host!==oN&&s.host!==u&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!yn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ge.MOCK_USER;else{h=hS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ge(m)}n._authCredentials=new Mv(new Th(h,p))}}var Rs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ke=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Kc(t,n._jsonSchema))return new n(e,r||null,new $(De.fromString(t.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Le("string",Ke._jsonSchemaVersion),referencePath:Le("string")};var jr=class n extends Rs{constructor(e,t,r){super(e,t,DE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new $(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aN(n,e,...t){if(n=Me(n),q0("collection","path",e),n instanceof As){let r=De.fromString(e,...t);return XA(r),new jr(n,null,r)}{if(!(n instanceof Ke||n instanceof jr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return XA(r),new jr(n.firestore,null,r)}}function cN(n,e,...t){if(n=Me(n),arguments.length===1&&(e=Fc.newId()),q0("doc","path",e),n instanceof As){let r=De.fromString(e,...t);return JA(r),new Ke(n,null,new $(r))}{if(!(n instanceof Ke||n instanceof jr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return JA(r),new Ke(n.firestore,n instanceof jr?n.converter:null,new $(r))}}var F0="AsyncQueue",Yh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $h(this,"async_queue_retry"),this.oc=()=>{let r=Av();r&&F(F0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Av();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Av();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Kn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ks(e))throw e;F(F0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Qn("INTERNAL UNHANDLED ERROR: ",V0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=K_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:V0(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function V0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function j0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Ki=class extends As{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yh(e),this._firestoreClient=void 0,yield e}})}};function uN(n,e){let t=typeof n=="object"?n:Ri(),r=typeof n=="string"?n:e||Ah,i=rs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=dS("firestore");o&&sN(i,...o)}return i}function lN(n){if(n._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yH(n),n._firestoreClient}function yH(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new jv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new sE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Ur=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(dt.fromBase64String(e))}catch(t){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:Le("string",Ur._jsonSchemaVersion),bytes:Le("string")};var Ns=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gc=class{constructor(e){this._methodName=e}};var Br=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Le("string",Br._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};var $r=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new L(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Le("string",$r._jsonSchemaVersion),vectorValues:Le("object")};var vH=/^__.*__$/,aE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gi(e,this.data,t,this.fieldTransforms)}},Zh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:n})}}var cE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Xh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dN(this.Ec)&&vH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},uE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uf(e)}Dc(e,t,r,i=!1){return new cE({Ec:e,methodName:t,bc:r,path:Ft.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function LE(n){let e=n._freezeSettings(),t=uf(n._databaseId);return new uE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _H(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);FE("Data must be an object, but it was:",s,r);let a=hN(r,s),u,l;if(o.merge)u=new zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=lE(e,p,t);if(!s.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pN(h,m)||h.push(m)}u=new zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new aE(new Lt(a),u,l)}var Jh=class n extends Gc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function EH(n,e,t,r){let i=n.Dc(1,e,t);FE("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();Wr(r,(u,l)=>{let h=VE(e,u,t);l=Me(l);let p=i.gc(h);if(l instanceof Jh)o.push(h);else{let m=Zc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new zt(o);return new Zh(s,a,i.fieldTransforms)}function IH(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[lE(e,r,t)],u=[i];if(o.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(lE(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!pN(l,a[m])){let y=a[m],S=u[m];S=Me(S);let M=s.gc(y);if(S instanceof Jh)l.push(y);else{let R=Zc(S,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new zt(l);return new Zh(h,p,s.fieldTransforms)}function wH(n,e,t,r=!1){return Zc(t,n.Dc(r?4:3,e))}function Zc(n,e){if(fN(n=Me(n)))return FE("Unsupported field value:",e,n),hN(n,e);if(n instanceof Gc)return(function(r,i){if(!dN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Zc(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Fe.fromDate(r);return{timestampValue:Lh(i.serializer,o)}}if(r instanceof Fe){let o=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,o)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:xR(i.serializer,r._byteString)};if(r instanceof Ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:CE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return(function(s,a){return{mapValue:{fields:{[_E]:{stringValue:EE},[vs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return bE(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${rf(r)}`)})(n,e)}function hN(n,e){let t={};return sR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(n,(r,i)=>{let o=Zc(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function fN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof Br||n instanceof Ur||n instanceof Ke||n instanceof Gc||n instanceof $r)}function FE(n,e,t){if(!fN(t)||!z0(t)){let r=rf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function lE(n,e,t){if((e=Me(e))instanceof Ns)return e._internalPath;if(typeof e=="string")return VE(n,e);throw Xh("Field path arguments must be of type string or ",n,!1,void 0,t)}var TH=new RegExp("[~\\*/\\[\\]]");function VE(n,e,t){if(e.search(TH)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ns(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+n+u)}function pN(n,e){return n.some(t=>t.isEqual(e))}var ef=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(jE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},dE=class extends ef{data(){return super.data()}};function jE(n,e){return typeof e=="string"?VE(n,e):e instanceof Ns?e._internalPath:e._delegate._internalPath}function DH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wc=class{},hE=class extends Wc{};function gN(n,e,...t){let r=[];e instanceof Wc&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof fE).length,a=o.filter(u=>u instanceof tf).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var tf=class n extends hE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return yN(e._query,t),new Rs(e.firestore,e.converter,Jv(e._query,t))}_parse(e){let t=LE(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){B0(p,h);let S=[];for(let M of p)S.push(U0(u,o,M));m={arrayValue:{values:S}}}else m=U0(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||B0(p,h),m=wH(a,s,p,h==="in"||h==="not-in");return Oe.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function mN(n,e,t){let r=e,i=jE("where",n);return tf._create(i,r,t)}var fE=class n extends Wc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:on.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)yN(s,u),s=Jv(s,u)})(e._query,t),new Rs(e.firestore,e.converter,Jv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function U0(n,e,t){if(typeof(t=Me(t))=="string"){if(t==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ER(e)&&t.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(De.fromString(t));if(!$.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s0(n,new $(r))}if(t instanceof Ke)return s0(n,t._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function B0(n,e){if(!Array.isArray(n)||n.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yN(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var pE=class{convertValue(e,t="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Wr(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new $r(o)}convertGeoPoint(e){return new Br(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){let t=Yn(e);return new Fe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=De.fromString(e);pe(UR(r),9688,{name:e});let i=new Rh(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(t)||Qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function bH(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ji=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ui=class n extends ef{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(jE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};var gs=class extends Ui{data(e={}){return super.data(e)}},ms=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gs(this._firestore,this._userDataWriter,r.key,r,new ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:CH(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function CH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:n})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:Le("string",ms._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};var nf=class extends pE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,t)}};function vN(n,e,t){n=Fr(n,Ke);let r=Fr(n.firestore,Ki),i=bH(n.converter,e,t);return EN(r,[_H(LE(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Vr.none())])}function _N(n,e,t,...r){n=Fr(n,Ke);let i=Fr(n.firestore,Ki),o=LE(i),s;return s=typeof(e=Me(e))=="string"||e instanceof Ns?IH(o,"updateDoc",n._key,e,t,r):EH(o,"updateDoc",n._key,e),EN(i,[s.toMutation(n._key,Vr.exists(!0))])}function UE(n,...e){var t,r,i;n=Me(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||j0(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(j0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ke)l=Fr(n.firestore,Ki),h=DE(n._key.path),u={next:p=>{e[s]&&e[s](SH(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Fr(n,Rs);l=Fr(p.firestore,Ki),h=p._query;let m=new nf(l);u={next:y=>{e[s]&&e[s](new ms(l,m,p,y))},error:e[s+1],complete:e[s+2]},DH(n._query)}return(function(m,y,S,M){let R=new oE(M),O=new J_(y,R,S);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Z$(yield x0(m),O)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return J$(yield x0(m),O)}))}})(lN(l),h,a,u)}function EN(n,e){return(function(r,i){let o=new Kn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return sH(yield mH(r),i,o)})),o.promise})(lN(n),e)}function SH(n,e,t){let r=t.docs.get(e._key),i=new nf(n);return new Ui(n,i,e._key,r,new ji(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ms=i})(Ar),tn(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ki(new Pv(r.getProvider("auth-internal")),new Ov(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Re(KA,QA,e),Re(KA,QA,"esm2017")})();var hf=function(){return hf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hf.apply(this,arguments)};var NH={includeMetadataChanges:!1};function IN(n,e){return e===void 0&&(e=NH),new K(function(t){var r=UE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:hf(hf({},r),(t={},t[e.idField]=n.id,t))}function TN(n){return IN(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function DN(n,e){return e===void 0&&(e={}),TN(n).pipe(te(function(t){return t.map(function(r){return wN(r,e)})}))}var Yi=class{constructor(e){return e}},bN="firestore",BE=class{constructor(){return os(bN)}};var $E=new U("angularfire2.firestore-instances");function MH(n,e){let t=vc(bN,n,e);return t&&new Yi(t)}function PH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Yi(r)}}var kH={provide:BE,deps:[[new Mt,$E]]},xH={provide:Yi,useFactory:MH,deps:[[new Mt,$E],Hn]};function Hie(n,...e){return Re("angularfire",Rr.full,"fst"),Rt([xH,kH,{provide:$E,useFactory:PH(n),multi:!0,deps:[ve,$e,Nr,Mi,[new Mt,Nc],[new Mt,ss],...e]}])}var ff=ut(DN,!0);var pf=ut(aN,!0,2);var HE=ut(cN,!0,2);var qie=ut(uN,!0);var qE=ut(gN,!0,2);var CN=ut(vN,!0,2);var SN=ut(_N,!0,2);var zE=ut(mN,!0,2);var AN=class n{firestore=P(Yi);auth=P(Li);getCharacterByEmail(){return zA(this.auth).pipe(Je(e=>{if(e&&e.email){let t=pf(this.firestore,"dissonancia-db"),r=qE(t,zE("email","==",e.email));return ff(r,{idField:"docId"}).pipe(te(i=>i.length>0?i[0]:null))}else return q(null)}))}saveUserData(e){return _(this,null,function*(){let t=this.auth.currentUser;if(t){let r=HE(this.firestore,`dissonancia-db/${t.uid}`);return CN(r,e,{merge:!0})}return null})}updateCharacter(e,t){return _(this,null,function*(){let r=HE(this.firestore,"dissonancia-db",e);return SN(r,t)})}hasCharacter(e){let t=pf(this.firestore,"dissonancia-db"),r=qE(t,zE("email","==",e));return ff(r).pipe(te(i=>i.length>0))}adminViewPlayers(){let e=pf(this.firestore,"dissonancia-db");return ff(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};export{V as a,me as b,Ye as c,Se as d,te as e,HM as f,rl as g,B as h,bo as i,U as j,P as k,sT as l,aT as m,$e as n,pP as o,Po as p,jl as q,Ul as r,Ug as s,Ek as t,yt as u,ub as v,Ht as w,am as x,Va as y,Bo as z,wb as A,Tb as B,Ei as C,Sb as D,Ab as E,hm as F,fm as G,Jl as H,IO as I,Nb as J,TO as K,DO as L,Pb as M,kb as N,UO as O,Lb as P,pm as Q,Fb as R,HO as S,Vb as T,qO as U,zO as V,YO as W,XO as X,t1 as Y,r1 as Z,o1 as _,Jt as $,c1 as aa,nd as ba,V1 as ca,Vn as da,oC as ea,$1 as fa,G1 as ga,sC as ha,oL as ia,ry as ja,Ld as ka,$F as la,Mte as ma,Pte as na,Li as oa,nre as pa,rre as qa,ire as ra,Yi as sa,Hie as ta,qie as ua,AN as va};
