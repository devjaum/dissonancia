import{a as R}from"./chunk-JWSATTTX.js";import{j as V}from"./chunk-KLQ32EPB.js";import{$ as m,A as f,B as x,Da as B,Ea as H,Fa as N,Ga as D,Ja as F,N as r,S as y,T as I,X as p,_ as C,a as P,aa as n,b as E,ba as t,ca as v,da as O,ea as u,fa as s,ga as M,ia as T,ja as i,ka as c,la as h,n as k,sa as A,ta as z,ua as S,w}from"./chunk-YJ7IANYW.js";function ee(a,o){if(a&1&&(n(0,"div",44)(1,"strong"),i(2),t()()),a&2){let e=o.$implicit;C("data-tooltip",e.description),r(2),c(e.name)}}function te(a,o){if(a&1&&(n(0,"div"),p(1,ee,3,2,"div",43),t()),a&2){let e=s().ngIf;r(),m("ngForOf",e.uniqueSkills)}}function ne(a,o){a&1&&(n(0,"small",45),i(1,"Nenhuma habilidade."),t())}function ie(a,o){if(a&1&&(n(0,"span",46),i(1),t()),a&2){let e=o.$implicit,d=s(2);C("data-tooltip",d.talentoDescricao(e)),r(),h(" ",e," ")}}function ae(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[0])}}function re(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[1])}}function oe(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[2])}}function le(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[3])}}function ce(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[4])}}function de(a,o){if(a&1&&(n(0,"div",50),i(1),t()),a&2){let e=s(2).ngIf;r(),c(e.attrBonuses[5])}}function se(a,o){if(a&1&&(n(0,"div",47)(1,"div",48)(2,"span"),i(3,"FOR"),t(),n(4,"b"),i(5),t(),p(6,ae,2,1,"div",49),t(),n(7,"div",48)(8,"span"),i(9,"DES"),t(),n(10,"b"),i(11),t(),p(12,re,2,1,"div",49),t(),n(13,"div",48)(14,"span"),i(15,"CON"),t(),n(16,"b"),i(17),t(),p(18,oe,2,1,"div",49),t(),n(19,"div",48)(20,"span"),i(21,"INT"),t(),n(22,"b"),i(23),t(),p(24,le,2,1,"div",49),t(),n(25,"div",48)(26,"span"),i(27,"SAB"),t(),n(28,"b"),i(29),t(),p(30,ce,2,1,"div",49),t(),n(31,"div",48)(32,"span"),i(33,"CAR"),t(),n(34,"b"),i(35),t(),p(36,de,2,1,"div",49),t()()),a&2){let e=s().ngIf;r(5),c(e.status[0]),r(),m("ngIf",e.attrBonuses[0]),r(5),c(e.status[1]),r(),m("ngIf",e.attrBonuses[1]),r(5),c(e.status[2]),r(),m("ngIf",e.attrBonuses[2]),r(5),c(e.status[3]),r(),m("ngIf",e.attrBonuses[3]),r(5),c(e.status[4]),r(),m("ngIf",e.attrBonuses[4]),r(5),c(e.status[5]),r(),m("ngIf",e.attrBonuses[5])}}function pe(a,o){if(a&1){let e=O();n(0,"div",5)(1,"h1",6),i(2,"Identidade do Sistema"),t(),n(3,"div",7)(4,"div",8),u("click",function(){f(e);let l=s();return x(l.toggleFlip())}),n(5,"div",9)(6,"div",10)(7,"div",11),i(8),t(),n(9,"div",12)(10,"h2",13),i(11),t(),n(12,"div",14),i(13),t(),n(14,"small",15),i(15),t()()(),n(16,"div",16)(17,"div",17)(18,"div",18)(19,"span",19),i(20,"VIDA"),t(),n(21,"div",20),v(22,"div",21),t(),n(23,"span",22),i(24),t()(),n(25,"div",18)(26,"span",19),i(27,"MANA"),t(),n(28,"div",20),v(29,"div",23),t(),n(30,"span",22),i(31),t()(),n(32,"div",18)(33,"span",19),i(34,"SHINSU"),t(),n(35,"div",20),v(36,"div",24),t(),n(37,"span",22),i(38),t()()(),n(39,"div",25)(40,"h4"),i(41,"Registro de Mem\xF3ria"),t(),n(42,"div",26),i(43),t()(),n(44,"div",27),i(45,"> ACESSAR DADOS DE COMBATE (CLIQUE)"),t()()(),n(46,"div",28)(47,"div",29)(48,"h3"),i(49,"STATUS DE COMBATE"),t(),n(50,"small",30),i(51,"SISTEMA V.1.0"),t()(),n(52,"div",31)(53,"div",32)(54,"div",33)(55,"span",34),i(56,"Habilidades \xDAnicas"),t(),p(57,te,2,1,"div",35)(58,ne,2,0,"ng-template",null,1,S),t(),n(60,"div",33)(61,"span",34),i(62,"Talentos"),t(),n(63,"div",36),p(64,ie,2,2,"span",37),t()()(),n(65,"div",38)(66,"span",34),i(67,"Atributos Base"),t(),p(68,se,37,12,"div",39),t()()()()(),n(69,"div",40)(70,"button",41),u("click",function(){f(e);let l=s();return x(l.editInfo())}),n(71,"span"),i(72,"EDITAR DADOS"),t()(),n(73,"button",42),u("click",function(){f(e);let l=s();return x(l.logout())}),n(74,"span"),i(75,"DESCONECTAR"),t()(),n(76,"button",41),u("click",function(){f(e);let l=s();return x(l.simulator())}),n(77,"span"),i(78,"Simulador de batalha"),t()()()()}if(a&2){let e=o.ngIf,d=M(59),l=s();r(4),T("flipped",l.isFlipped),r(4),h(" ",(e.name==null?null:e.name.charAt(0))||"?"," "),r(3),c(e.name||"Desconhecido"),r(2),c(e.class||"Sem Classe"),r(2),c(e.email),r(9),c(e.vida),r(7),c(e.mana),r(7),c(e.shinsu),r(5),h(" ",e.lore||"Nenhum dado registrado..."," "),r(14),m("ngIf",e.uniqueSkills==null?null:e.uniqueSkills.length)("ngIfElse",d),r(7),m("ngForOf",e.talent),r(4),m("ngIf",e.status)}}function me(a,o){a&1&&(n(0,"div",51),i(1,"INICIALIZANDO SISTEMA..."),t())}var j=class a{constructor(o){this.router=o}dbService=w(V);talent=R;character$=this.dbService.getCharacterByEmail().pipe(k(o=>{if(!o)return null;let e=o.status||[0,0,0,0,0,0],d=o.talent||[],l=Array.isArray(d)?d:[d],g=[0,0,0,0,0,0];l.includes("Prod\xEDgio")&&(g=g.map(_=>_+1)),l.includes("Acrobata Nato")&&(g[1]+=2),l.includes("Resistencia a dor")&&(g[2]+=2),l.includes("Mente afiada")&&(g[3]+=2),l.includes("Conhecimento arcano")&&(g[3]+=2),l.includes("Percep\xE7\xE3o agu\xE7ada")&&(g[4]+=2),l.includes("Persuas\xE3o")&&(g[5]+=2);let U=g.map(_=>_>0?`+${_}`:""),q=Number(e[0])||0,$=Number(e[2])||0,L=Number(e[3])||0,Y=Number(e[4]),G=Number(e[1]),Q=Number(e[5]),Z=l.includes("Vigoroso"),J=o.vidaExtra||0,K=5+$*10+q*5+(Z?10:0)+J,W=4+L*12+Y*6,X=1+G*3+Q*2,b=o.uniqueSkills;return Array.isArray(b)||(b=typeof b=="string"?[{name:"Skill",description:b}]:[]),E(P({},o),{vida:K,uniqueSkills:b,attrBonuses:U,shinsu:W,mana:X})}));isFlipped=!1;ngOnInit(){this.dbService.isAuthenticated().subscribe(o=>{o||this.router.navigate(["/"])})}logout(){this.dbService.logout(),this.router.navigate(["/"])}toggleFlip(){this.isFlipped=!this.isFlipped}talentoDescricao(o){let e;return this.talent.forEach(d=>{d.name===o&&(e=d.description)}),e}monsterPedia(){this.router.navigate(["/monsterpedia"])}editInfo(){this.router.navigate(["/create"])}simulator(){this.router.navigate(["/simulator"])}static \u0275fac=function(e){return new(e||a)(y(F))};static \u0275cmp=I({type:a,selectors:[["app-home"]],decls:7,vars:4,consts:[["loading",""],["noSkills",""],[1,"home-container"],[1,"btnMonster",3,"click"],["class","content-wrapper",4,"ngIf","ngIfElse"],[1,"content-wrapper"],[1,"glitch-title"],[1,"card-container"],[1,"card",3,"click"],[1,"cardFront"],[1,"front-sidebar"],[1,"avatar-placeholder"],[1,"sidebar-text"],[1,"player-name"],[1,"player-class"],[2,"color","#666","display","block","margin-top","5px"],[1,"front-main"],[1,"vitals-container"],[1,"vital-row"],[1,"vital-label"],[1,"bar-bg"],[1,"bar-fill","hp-fill",2,"width","100%"],[1,"vital-value"],[1,"bar-fill","mana-fill",2,"width","100%"],[1,"bar-fill","shinsu-fill",2,"width","100%"],[1,"lore-section"],[1,"lore-text"],[1,"click-hint"],[1,"cardBack"],[1,"back-header"],[2,"color","#666"],[1,"back-body"],[1,"col-left"],[1,"section-box"],[1,"section-title"],[4,"ngIf","ngIfElse"],[1,"talents-flex"],["class","talent-tag",4,"ngFor","ngForOf"],[1,"col-right"],["class","attr-grid",4,"ngIf"],[1,"action-bar"],[1,"action-btn",3,"click"],[1,"action-btn","btn-logout",3,"click"],["class","skill-row",4,"ngFor","ngForOf"],[1,"skill-row"],[2,"color","#555"],[1,"talent-tag"],[1,"attr-grid"],[1,"attr-card"],["class","attr-bonus",4,"ngIf"],[1,"attr-bonus"],[2,"color","var(--accent-color)","font-family","monospace"]],template:function(e,d){if(e&1){let l=O();n(0,"main",2)(1,"button",3),u("click",function(){return f(l),x(d.monsterPedia())}),i(2," MENU MONSTRU\xC1RIO "),t(),p(3,pe,79,14,"div",4),A(4,"async"),p(5,me,2,0,"ng-template",null,0,S),t()}if(e&2){let l=M(6);r(3),m("ngIf",z(4,2,d.character$))("ngIfElse",l)}},dependencies:[D,B,H,N],styles:["[_nghost-%COMP%]{display:block;--card-width: 800px;--card-height: 450px;--card-bg: #121214;--glass-border: rgba(255, 255, 255, .08);--accent-glow: 0 0 20px rgba(98, 0, 234, .15)}*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-user-select:none;user-select:none}.home-container[_ngcontent-%COMP%]{padding:20px;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:radial-gradient(circle at center,#1b1b1f,#000);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.glitch-title[_ngcontent-%COMP%]{font-size:2rem;color:var(--accent-color);text-transform:uppercase;letter-spacing:4px;margin-bottom:40px;text-shadow:0 0 10px var(--accent-color);opacity:.9}.btnMonster[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:transparent;border:1px solid var(--accent-color);color:var(--accent-color);padding:10px 20px;border-radius:4px;cursor:pointer;font-weight:700;transition:all .3s ease;z-index:100}.btnMonster[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:#fff;box-shadow:0 0 15px var(--accent-color)}.content-wrapper[_ngcontent-%COMP%]{perspective:1500px;width:100%;display:flex;flex-direction:column;align-items:center}.card-container[_ngcontent-%COMP%]{width:var(--card-width);height:var(--card-height);position:relative;cursor:pointer;transition:transform .1s}.card[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .8s cubic-bezier(.2,.8,.2,1)}.card.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.cardFront[_ngcontent-%COMP%], .cardBack[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;background:var(--card-bg);border:1px solid var(--glass-border);border-radius:16px;box-shadow:0 20px 50px #00000080;overflow:hidden;display:flex}.cardFront[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a20,#0d0d10)}.front-sidebar[_ngcontent-%COMP%]{width:30%;background:#0003;border-right:1px solid var(--glass-border);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center}.avatar-placeholder[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:linear-gradient(45deg,#333,#555);border:2px solid var(--accent-color);margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#fff;box-shadow:0 0 20px #6200ea4d}.player-name[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:0;font-weight:600}.player-class[_ngcontent-%COMP%]{color:var(--accent-color);font-size:.9rem;text-transform:uppercase;letter-spacing:1px;margin-top:5px;background:#6200ea1a;padding:4px 12px;border-radius:20px}.front-main[_ngcontent-%COMP%]{flex:1;padding:30px;display:flex;flex-direction:column;gap:25px}.vitals-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.vital-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.vital-label[_ngcontent-%COMP%]{width:60px;font-size:.8rem;font-weight:700;color:#888;text-align:right}.bar-bg[_ngcontent-%COMP%]{flex:1;height:8px;background:#333;border-radius:4px;overflow:hidden;position:relative}.bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;position:relative}.hp-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c62828,#ef5350);width:80%}.mana-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1565c0,#42a5f5);width:60%}.shinsu-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6a1b9a,#ab47bc);width:70%}.vital-value[_ngcontent-%COMP%]{width:50px;font-size:.8rem;color:#fff;font-family:monospace}",'.lore-section[_ngcontent-%COMP%]{flex:1;background:#ffffff08;border-radius:8px;padding:15px;border-left:3px solid var(--accent-color)}.lore-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.8rem;color:#666;text-transform:uppercase}.lore-text[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5;color:#ccc;max-height:180px;overflow-y:auto;padding-right:5px}.click-hint[_ngcontent-%COMP%]{text-align:right;font-size:.75rem;color:#555;margin-top:auto}.cardBack[_ngcontent-%COMP%]{transform:rotateY(180deg);background:#151518;flex-direction:column;padding:0}.back-header[_ngcontent-%COMP%]{padding:15px 30px;border-bottom:1px solid var(--glass-border);display:flex;justify-content:space-between;align-items:center;background:#0003}.back-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.1rem;display:flex;align-items:center;gap:10px}.back-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;background:#00e676;border-radius:50%;box-shadow:0 0 10px #00e676}.back-body[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:1.2fr .8fr;padding:20px;gap:20px;overflow:hidden}.col-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;overflow-y:auto;padding-right:10px}.section-box[_ngcontent-%COMP%]{background:#ffffff08;border-radius:8px;padding:12px;border:1px solid rgba(255,255,255,.05)}.section-title[_ngcontent-%COMP%]{font-size:.75rem;color:var(--accent-color);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;display:block;font-weight:700}.skill-row[_ngcontent-%COMP%]{margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,.05)}.skill-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#00e5ff;display:block;font-size:.9rem}.skill-row[_ngcontent-%COMP%]:last-child{border:none}.talents-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.talent-tag[_ngcontent-%COMP%]{background:#333;color:#bbb;font-size:.75rem;padding:4px 8px;border-radius:4px;border:1px solid transparent;transition:.2s}.talent-tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);color:#fff}.col-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.attr-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.attr-card[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff0d,#ffffff03);border:1px solid rgba(255,255,255,.05);border-radius:8px;padding:10px;text-align:center;position:relative}.attr-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.7rem;color:#777;margin-bottom:5px}.attr-card[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff}.attr-bonus[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:var(--accent-color);color:#fff;font-size:.65rem;padding:2px 6px;border-radius:10px;font-weight:700}.action-bar[_ngcontent-%COMP%]{margin-top:40px;display:flex;gap:20px}.action-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.2);color:#aaa;padding:12px 30px;border-radius:30px;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff;border-color:#fff}.btn-logout[_ngcontent-%COMP%]{border-color:#ff174480;color:#ff1744}.btn-logout[_ngcontent-%COMP%]:hover{background:#ff17441a;border-color:#ff1744}.col-left[_ngcontent-%COMP%]::-webkit-scrollbar, .lore-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.col-left[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .lore-text[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#444;border-radius:2px}[data-tooltip][_ngcontent-%COMP%]{position:relative;cursor:help}[data-tooltip][_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);position:fixed;width:320px;max-width:90%;background:#1a1a1d;color:#eee;padding:15px;border:1px solid var(--accent-color);border-radius:8px;box-shadow:0 10px 40px #000000e6;z-index:9999;white-space:pre-wrap;text-align:left;font-size:.85rem;line-height:1.5;pointer-events:none}@media (max-width: 850px){[_nghost-%COMP%]{--card-width: 90vw;--card-height: 600px}.cardFront[_ngcontent-%COMP%]{flex-direction:column}.front-sidebar[_ngcontent-%COMP%]{width:100%;flex-direction:row;gap:20px;padding:15px;border-right:none;border-bottom:1px solid var(--glass-border);justify-content:flex-start}.avatar-placeholder[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.2rem;margin-bottom:0}.sidebar-text[_ngcontent-%COMP%]{text-align:left}.cardBack[_ngcontent-%COMP%]   .back-body[_ngcontent-%COMP%]{grid-template-columns:1fr;overflow-y:auto}.attr-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}']})};export{j as Home};
