var vA=Object.defineProperty,_A=Object.defineProperties;var EA=Object.getOwnPropertyDescriptors;var Zv=Object.getOwnPropertySymbols,IA=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty,TA=Object.prototype.propertyIsEnumerable,DA=Reflect.get;var Jv=(t,e,n)=>e in t?vA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oe=(t,e)=>{for(var n in e||={})wA.call(e,n)&&Jv(t,n,e[n]);if(Zv)for(var n of Zv(e))TA.call(e,n)&&Jv(t,n,e[n]);return t},Fe=(t,e)=>_A(t,EA(e));var Cn=(t,e,n)=>DA(IA(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function H(t){return typeof t=="function"}function Ed(t){return H(t?.lift)}function re(t){return e=>{if(Ed(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var La=li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof La?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){e=e??[],s instanceof La?e=[...e,...s.errors]:e.push(s)}}if(e)throw new La(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&mr(n,e)}remove(e){let{_finalizers:n}=this;n&&mr(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Id=Te.EMPTY;function Va(t){return t instanceof Te||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Xv(t){H(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ja(t){di.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Ho(){}var e_=wd("C",void 0,void 0);function t_(t){return wd("E",void 0,t)}function n_(t){return wd("N",t,void 0)}function wd(t,e,n){return{kind:t,value:e,error:n}}var yr=null;function fi(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!yr;if(e&&(yr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else t()}function r_(t){St.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=t)}var vr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Va(e)&&e.add(this)):this.destination=SA}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?Dd(n_(e),this):this._next(e)}error(e){this.isStopped?Dd(t_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dd(e_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bA=Function.prototype.bind;function Td(t,e){return bA.call(t,e)}var bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ba(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ba(r)}else Ba(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ba(n)}}},hi=class extends vr{constructor(e,n,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&St.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Td(e.next,o),error:e.error&&Td(e.error,o),complete:e.complete&&Td(e.complete,o)}):i=e}this.destination=new bd(i)}};function Ba(t){St.useDeprecatedSynchronousErrorHandling?r_(t):ja(t)}function CA(t){throw t}function Dd(t,e){let{onStoppedNotification:n}=St;n&&di.setTimeout(()=>n(t,e))}var SA={closed:!0,next:Ho,error:CA,complete:Ho};function te(t,e,n,r,i){return new Cd(t,e,n,r,i)}var Cd=class extends vr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function At(t,e){return re((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(t.call(e,o,i++))}))})}var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(t){return t}function i_(...t){return Sd(t)}function Sd(t){return t.length===0?ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=NA(n)?n:new hi(n,r,i);return fi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=o_(r),new r((i,o)=>{let s=new hi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return Sd(n)(this)}toPromise(n){return n=o_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function o_(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function AA(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function NA(t){return t&&t instanceof vr||AA(t)&&Va(t)}function Ad(){return re((t,e)=>{let n=null;t._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Nd=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ed(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ad()(this)}};var s_=li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var on=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ua(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new s_}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Id:(this.currentObservers=null,o.push(n),new Te(()=>{this.currentObservers=null,mr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ua(e,n),t})(),Ua=class extends on{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Id}};var qo=class extends on{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rd={now(){return(Rd.delegate||Date).now()},delegate:void 0};var $a=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var zo={setInterval(t,e,...n){let{delegate:r}=zo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gi=class extends $a{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return zo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mi.now=Rd.now;var yi=class extends mi{constructor(e,n=mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pd=new yi(gi);var Ha=class extends gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var qa=class extends yi{};var Md=new qa(Ha);var Go=new G(t=>t.complete());function a_(t){return t&&H(t.schedule)}function c_(t){return t[t.length-1]}function za(t){return H(c_(t))?t.pop():void 0}function Sn(t){return a_(c_(t))?t.pop():void 0}function kd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function u_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function d_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function c(y,S){r[y]&&(i[y]=function(P){return new Promise(function(R,x){o.push([y,P,R,x])>1||u(y,P)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof _r?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function f_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof u_=="function"?u_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Ga=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wa(t){return H(t?.then)}function Ka(t){return H(t[pi])}function Qa(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function Ya(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=RA();function Ja(t){return H(t?.[Za])}function Xa(t){return d_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function ec(t){return H(t?.getReader)}function De(t){if(t instanceof G)return t;if(t!=null){if(Ka(t))return PA(t);if(Ga(t))return MA(t);if(Wa(t))return kA(t);if(Qa(t))return h_(t);if(Ja(t))return xA(t);if(ec(t))return OA(t)}throw Ya(t)}function PA(t){return new G(e=>{let n=t[pi]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MA(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kA(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ja)})}function xA(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function h_(t){return new G(e=>{FA(t,e).catch(n=>e.error(n))})}function OA(t){return h_(Xa(t))}function FA(t,e){var n,r,i,o;return l_(this,void 0,void 0,function*(){try{for(n=f_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function An(t,e=0){return re((n,r)=>{n.subscribe(te(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function Nn(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function p_(t,e){return De(t).pipe(Nn(e),An(e))}function g_(t,e){return De(t).pipe(Nn(e),An(e))}function m_(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function y_(t,e){return new G(n=>{let r;return rt(n,e,()=>{r=t[Za](),rt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function tc(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function v_(t,e){return tc(Xa(t),e)}function __(t,e){if(t!=null){if(Ka(t))return p_(t,e);if(Ga(t))return m_(t,e);if(Wa(t))return g_(t,e);if(Qa(t))return tc(t,e);if(Ja(t))return y_(t,e);if(ec(t))return v_(t,e)}throw Ya(t)}function Vt(t,e){return e?__(t,e):De(t)}function E_(...t){let e=Sn(t);return Vt(t,e)}function LA(t,e){let n=H(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function VA(t){return!!t&&(t instanceof G||H(t.lift)&&H(t.subscribe))}var Er=li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var{isArray:jA}=Array;function BA(t,e){return jA(e)?t(...e):t(e)}function nc(t){return At(e=>BA(t,e))}var{isArray:UA}=Array,{getPrototypeOf:$A,prototype:HA,keys:qA}=Object;function rc(t){if(t.length===1){let e=t[0];if(UA(e))return{args:e,keys:null};if(zA(e)){let n=qA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function zA(t){return t&&typeof t=="object"&&$A(t)===HA}function ic(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function GA(...t){let e=Sn(t),n=za(t),{args:r,keys:i}=rc(t);if(r.length===0)return Vt([],e);let o=new G(WA(r,e,i?s=>ic(i,s):ct));return n?o.pipe(nc(n)):o}function WA(t,e,n=ct){return r=>{I_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)I_(e,()=>{let l=Vt(t[u],e),h=!1;l.subscribe(te(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function I_(t,e,n){t?rt(n,t,e):e()}function w_(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?S(P):u.push(P),S=P=>{o&&e.next(P),l++;let R=!1;De(n(P,h++)).subscribe(te(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let x=u.shift();s?rt(e,s,()=>S(x)):S(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(te(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Ir(t,e,n=1/0){return H(e)?Ir((r,i)=>At((o,s)=>e(r,o,i,s))(De(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>w_(r,i,t,n)))}function T_(t=1/0){return Ir(ct,t)}function D_(){return T_(1)}function oc(...t){return D_()(Vt(t,Sn(t)))}function KA(t){return new G(e=>{De(t()).subscribe(e)})}function QA(...t){let e=za(t),{args:n,keys:r}=rc(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;De(n[h]).subscribe(te(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ic(r,c):c),o.complete())}))}});return e?i.pipe(nc(e)):i}function vi(t,e){return re((n,r)=>{let i=0;n.subscribe(te(r,o=>t.call(e,o,i++)&&r.next(o)))})}function b_(t){return re((e,n)=>{let r=null,i=!1,o;r=e.subscribe(te(n,void 0,void 0,s=>{o=De(t(s,b_(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function C_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(te(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function YA(t,e){return H(e)?Ir(t,e,1):Ir(t,1)}function Wo(t){return re((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xd(t){return t<=0?()=>Go:re((e,n)=>{let r=0;e.subscribe(te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sc(t=ZA){return re((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ZA(){return new Er}function JA(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function XA(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vi((i,o)=>t(i,o,r)):ct,xd(1),n?Wo(e):sc(()=>new Er))}function Od(t){return t<=0?()=>Go:re((e,n)=>{let r=[];e.subscribe(te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function e0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vi((i,o)=>t(i,o,r)):ct,Od(1),n?Wo(e):sc(()=>new Er))}function S_(t,e){return re(C_(t,e,arguments.length>=2,!0))}function A_(...t){let e=Sn(t);return re((n,r)=>{(e?oc(t,n,e):oc(t,n)).subscribe(r)})}function N_(t,e){return re((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(te(r,u=>{i?.unsubscribe();let l=0,h=o++;De(t(u,h)).subscribe(i=te(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function t0(t){return re((e,n)=>{De(t).subscribe(te(n,()=>n.complete(),Ho)),!n.closed&&e.subscribe(n)})}function n0(t,e,n){let r=H(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(te(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ct}var Fd;function ac(){return Fd}function jt(t){let e=Fd;return Fd=t,e}var R_=Symbol("NotFound");function _i(t){return t===R_||t?.name==="\u0275NotFound"}var qe=null,cc=!1,Ld=1,r0=null,ze=Symbol("SIGNAL");function K(t){let e=qe;return qe=t,e}function fc(){return qe}var Ei={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ii(t){if(cc)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=qe.recomputing;if(r&&(n=e!==void 0?e.nextProducer:qe.producers,n!==void 0&&n.producer===t)){qe.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===qe&&(!r||o0(i,qe)))return;let o=Ti(qe),s={producer:t,consumer:qe,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};qe.producersTail=s,e!==void 0?e.nextProducer=s:qe.producers=s,o&&x_(t,s)}function P_(){Ld++}function hc(t){if(!(Ti(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ld)){if(!t.producerMustRecompute(t)&&!Yo(t)){dc(t);return}t.producerRecomputeValue(t),dc(t)}}function Vd(t){if(t.consumers===void 0)return;let e=cc;cc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||i0(r)}}finally{cc=e}}function jd(){return qe?.consumerAllowSignalWrites!==!1}function i0(t){t.dirty=!0,Vd(t),t.consumerMarkedDirty?.(t)}function dc(t){t.dirty=!1,t.lastCleanEpoch=Ld}function wi(t){return t&&M_(t),K(t)}function M_(t){t.producersTail=void 0,t.recomputing=!0}function Qo(t,e){K(e),t&&k_(t)}function k_(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Ti(t))do n=Bd(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Yo(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(hc(n),r!==n.version))return!0}return!1}function Zo(t){if(Ti(t)){let e=t.producers;for(;e!==void 0;)e=Bd(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function x_(t,e){let n=t.consumersTail,r=Ti(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)x_(i.producer,i)}function Bd(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ti(e)){let o=e.producers;for(;o!==void 0;)o=Bd(o)}return n}function Ti(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function pc(t){r0?.(t)}function o0(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function gc(t,e){return Object.is(t,e)}function mc(t,e){let n=Object.create(s0);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(hc(n),Ii(n),n.value===Ko)throw n.error;return n.value};return r[ze]=n,pc(n),r}var uc=Symbol("UNSET"),lc=Symbol("COMPUTING"),Ko=Symbol("ERRORED"),s0=Fe(Oe({},Ei),{value:uc,dirty:!0,error:null,equal:gc,kind:"computed",producerMustRecompute(t){return t.value===uc||t.value===lc},producerRecomputeValue(t){if(t.value===lc)throw new Error("");let e=t.value;t.value=lc;let n=wi(t),r,i=!1;try{r=t.computation(),K(null),i=e!==uc&&e!==Ko&&r!==Ko&&t.equal(e,r)}catch(o){r=Ko,t.error=o}finally{Qo(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function a0(){throw new Error}var O_=a0;function F_(t){O_(t)}function Ud(t){O_=t}var c0=null;function $d(t,e){let n=Object.create(yc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>L_(n);return r[ze]=n,pc(n),[r,s=>Di(n,s),s=>Hd(n,s)]}function L_(t){return Ii(t),t.value}function Di(t,e){jd()||F_(t),t.equal(t.value,e)||(t.value=e,u0(t))}function Hd(t,e){jd()||F_(t),Di(t,e(t.value))}var yc=Fe(Oe({},Ei),{equal:gc,value:void 0,kind:"signal"});function u0(t){t.version++,P_(),Vd(t),c0?.(t)}function V_(t){let e=K(null);try{return t()}finally{K(e)}}var Ci=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},nf=new Ci("20.3.9");var rf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",J=class extends Error{code;constructor(e,n){super(Ic(e,n)),this.code=e}};function l0(t){return`NG0${Math.abs(t)}`}function Ic(t,e){return`${l0(t)}${e?": "+e:""}`}function se(t){for(let e in t)if(t[e]===se)return e;throw Error("")}function U_(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function an(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(an).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function of(t,e){return t?e?`${t} ${e}`:t:e||""}var d0=se({__forward_ref__:se});function wc(t){return t.__forward_ref__=wc,t.toString=function(){return an(this())},t}function Le(t){return sf(t)?t():t}function sf(t){return typeof t=="function"&&t.hasOwnProperty(d0)&&t.__forward_ref__===wc}function fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tc(t){return{providers:t.providers||[],imports:t.imports||[]}}function ts(t){return h0(t,Dc)}function f0(t){return ts(t)!==null}function h0(t,e){return t.hasOwnProperty(e)&&t[e]||null}function p0(t){let e=t?.[Dc]??null;return e||null}function zd(t){return t&&t.hasOwnProperty(_c)?t[_c]:null}var Dc=se({\u0275prov:se}),_c=se({\u0275inj:se}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function af(t){return t&&!!t.\u0275providers}var cf=se({\u0275cmp:se}),uf=se({\u0275dir:se}),lf=se({\u0275pipe:se}),df=se({\u0275mod:se}),Xo=se({\u0275fac:se}),Sr=se({__NG_ELEMENT_ID__:se}),j_=se({__NG_ENV_ID__:se});function bc(t){return typeof t=="string"?t:t==null?"":String(t)}function $_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bc(t)}var H_=se({ngErrorCode:se}),g0=se({ngErrorMessage:se}),m0=se({ngTokenPath:se});function ff(t,e){return q_("",-200,e)}function Cc(t,e){throw new J(-201,!1)}function q_(t,e,n){let r=new J(e,t);return r[H_]=e,r[g0]=t,n&&(r[m0]=n),r}function y0(t){return t[H_]}var Gd;function z_(){return Gd}function et(t){let e=Gd;return Gd=t,e}function hf(t,e,n){let r=ts(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Cc(t,"Injector")}var v0={},wr=v0,Wd="__NG_DI_FLAG__",Kd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Tr(n)||0;try{return this.injector.get(e,r&8?null:wr,r)}catch(i){if(_i(i))return i;throw i}}};function _0(t,e=0){let n=ac();if(n===void 0)throw new J(-203,!1);if(n===null)return hf(t,void 0,e);{let r=E0(e),i=n.retrieve(t,r);if(_i(i)){if(r.optional)return null;throw i}return i}}function Ve(t,e=0){return(z_()||_0)(Le(t),e)}function L(t,e){return Ve(t,Tr(e))}function Tr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function E0(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Qd(t){let e=[];for(let n=0;n<t.length;n++){let r=Le(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=I0(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ve(i,o))}else e.push(Ve(r))}return e}function G_(t,e){return t[Wd]=e,t.prototype[Wd]=e,t}function I0(t){return t[Wd]}function Rn(t,e){let n=t.hasOwnProperty(Xo);return n?t[Xo]:null}function Sc(t,e){t.forEach(n=>Array.isArray(n)?Sc(n,e):e(n))}function pf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ns(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function W_(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function K_(t,e,n){let r=Si(t,e);return r>=0?t[r|1]=n:(r=~r,W_(t,r,e,n)),r}function Ac(t,e){let n=Si(t,e);if(n>=0)return t[n|1]}function Si(t,e){return w0(t,e,1)}function w0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var kn={},ut=[],xn=new Y(""),gf=new Y("",-1),mf=new Y(""),es=class{get(e,n=wr){if(n===wr){let i=q_("",-201);throw i.name="\u0275NotFound",i}return n}};function yf(t){return t[df]||null}function On(t){return t[cf]||null}function vf(t){return t[uf]||null}function Q_(t){return t[lf]||null}function Nt(t){return{\u0275providers:t}}function Y_(t){return Nt([{provide:xn,multi:!0,useValue:t}])}function Z_(...t){return{\u0275providers:_f(!0,t),\u0275fromNgModule:!0}}function _f(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Sc(e,s=>{let c=s;Ec(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&J_(i,o),n}function J_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ef(i,o=>{e(o,r)})}}function Ec(t,e,n,r){if(t=Le(t),!t)return!1;let i=null,o=zd(t),s=!o&&On(t);if(!o&&!s){let u=t.ngModule;if(o=zd(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ec(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Sc(o.imports,h=>{Ec(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&J_(l,e)}if(!c){let l=Rn(i)||(()=>new i);e({provide:i,useFactory:l,deps:ut},i),e({provide:mf,useValue:i,multi:!0},i),e({provide:xn,useValue:()=>Ve(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Ef(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ef(t,e){for(let n of t)af(n)&&(n=n.\u0275providers),Array.isArray(n)?Ef(n,e):e(n)}var T0=se({provide:String,useValue:se});function X_(t){return t!==null&&typeof t=="object"&&T0 in t}function D0(t){return!!(t&&t.useExisting)}function b0(t){return!!(t&&t.useFactory)}function Dr(t){return typeof t=="function"}function eE(t){return!!t.useClass}var If=new Y(""),vc={},B_={},qd;function rs(){return qd===void 0&&(qd=new es),qd}var it=class{},br=class extends it{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Zd(e,s=>this.processProvider(s)),this.records.set(gf,bi(void 0,this)),i.has("environment")&&this.records.set(it,bi(void 0,this));let o=this.records.get(If);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mf,ut,{self:!0}))}retrieve(e,n){let r=Tr(n)||0;try{return this.get(e,wr,r)}catch(i){if(_i(i))return i;throw i}}destroy(){Jo(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Jo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Jo(this);let n=jt(this),r=et(void 0),i;try{return e()}finally{jt(n),et(r)}}get(e,n=wr,r){if(Jo(this),e.hasOwnProperty(j_))return e[j_](this);let i=Tr(r),o,s=jt(this),c=et(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=R0(e)&&ts(e);h&&this.injectableDefInScope(h)?l=bi(Yd(e),vc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?rs():this.parent;return n=i&8&&n===wr?null:n,u.get(e,n)}catch(u){let l=y0(u);throw l===-200||l===-201?new J(l,null):u}finally{et(c),jt(s)}}resolveInjectorInitializers(){let e=K(null),n=jt(this),r=et(void 0),i;try{let o=this.get(xn,ut,{self:!0});for(let s of o)s()}finally{jt(n),et(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(an(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Le(e);let n=Dr(e)?e:Le(e&&e.provide),r=S0(e);if(!Dr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=bi(void 0,vc,!0),i.factory=()=>Qd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===B_)throw ff(an(e));return n.value===vc&&(n.value=B_,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&N0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Le(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yd(t){let e=ts(t),n=e!==null?e.factory:Rn(t);if(n!==null)return n;if(t instanceof Y)throw new J(204,!1);if(t instanceof Function)return C0(t);throw new J(204,!1)}function C0(t){if(t.length>0)throw new J(204,!1);let n=p0(t);return n!==null?()=>n.factory(t):()=>new t}function S0(t){if(X_(t))return bi(void 0,t.useValue);{let e=wf(t);return bi(e,vc)}}function wf(t,e,n){let r;if(Dr(t)){let i=Le(t);return Rn(i)||Yd(i)}else if(X_(t))r=()=>Le(t.useValue);else if(b0(t))r=()=>t.useFactory(...Qd(t.deps||[]));else if(D0(t))r=(i,o)=>Ve(Le(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Le(t&&(t.useClass||t.provide));if(A0(t))r=()=>new i(...Qd(t.deps));else return Rn(i)||Yd(i)}return r}function Jo(t){if(t.destroyed)throw new J(205,!1)}function bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function A0(t){return!!t.deps}function N0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function R0(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Zd(t,e){for(let n of t)Array.isArray(n)?Zd(n,e):n&&af(n)?Zd(n.\u0275providers,e):e(n)}function Fn(t,e){let n;t instanceof br?(Jo(t),n=t):n=new Kd(t);let r,i=jt(n),o=et(void 0);try{return e()}finally{jt(i),et(o)}}function tE(){return z_()!==void 0||ac()!=null}var Rt=0,W=1,q=2,je=3,yt=4,vt=5,is=6,Ai=7,Ge=8,Ln=9,cn=10,Ie=11,Ni=12,Tf=13,Ar=14,_t=15,Nr=16,Rr=17,Pr=18,os=19,Df=20,sn=21,Nc=22,ss=23,lt=24,Rc=25,as=26,We=27,nE=1;var Vn=7,cs=8,us=9,ot=10;function Bt(t){return Array.isArray(t)&&typeof t[nE]=="object"}function Pt(t){return Array.isArray(t)&&t[nE]===!0}function bf(t){return(t.flags&4)!==0}function jn(t){return t.componentOffset>-1}function ls(t){return(t.flags&1)===1}function Ut(t){return!!t.template}function Ri(t){return(t[q]&512)!==0}function Mr(t){return(t[q]&256)===256}var rE="svg",iE="math";function Et(t){for(;Array.isArray(t);)t=t[Rt];return t}function Cf(t,e){return Et(e[t])}function $t(t,e){return Et(e[t.index])}function Pc(t,e){return t.data[e]}function Sf(t,e){return t[e]}function Af(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function It(t,e){let n=e[t];return Bt(n)?n:n[Rt]}function Mc(t){return(t[q]&128)===128}function oE(t){return Pt(t[je])}function ds(t,e){return e==null?null:t[e]}function Nf(t){t[Rr]=0}function Rf(t){t[q]&1024||(t[q]|=1024,Mc(t)&&hs(t))}function sE(t,e){for(;t>0;)e=e[Ar],t--;return e}function fs(t){return!!(t[q]&9216||t[lt]?.dirty)}function kc(t){t[cn].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),fs(t)&&hs(t)}function hs(t){t[cn].changeDetectionScheduler?.notify(0);let e=Pn(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!Mc(e)));)e=Pn(e)}function Pf(t,e){if(Mr(t))throw new J(911,!1);t[sn]===null&&(t[sn]=[]),t[sn].push(e)}function aE(t,e){if(t[sn]===null)return;let n=t[sn].indexOf(e);n!==-1&&t[sn].splice(n,1)}function Pn(t){let e=t[je];return Pt(e)?e[je]:e}function cE(t){return t[Ai]??=[]}function uE(t){return t.cleanup??=[]}var X={lFrame:NE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jd=!1;function lE(){return X.lFrame.elementDepthCount}function dE(){X.lFrame.elementDepthCount++}function fE(){X.lFrame.elementDepthCount--}function Mf(){return X.bindingsEnabled}function hE(){return X.skipHydrationRootTNode!==null}function pE(t){return X.skipHydrationRootTNode===t}function gE(){X.skipHydrationRootTNode=null}function ue(){return X.lFrame.lView}function dt(){return X.lFrame.tView}function mE(t){return X.lFrame.contextLView=t,t[Ge]}function yE(t){return X.lFrame.contextLView=null,t}function st(){let t=kf();for(;t!==null&&t.type===64;)t=t.parent;return t}function kf(){return X.lFrame.currentTNode}function vE(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Pi(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function xf(){return X.lFrame.isParent}function _E(){X.lFrame.isParent=!1}function EE(){return X.lFrame.contextLView}function Of(){return Jd}function Ff(t){let e=Jd;return Jd=t,e}function IE(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wE(t){return X.lFrame.bindingIndex=t}function ps(){return X.lFrame.bindingIndex++}function TE(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DE(){return X.lFrame.inI18n}function bE(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,xc(e)}function CE(){return X.lFrame.currentDirectiveIndex}function xc(t){X.lFrame.currentDirectiveIndex=t}function SE(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Lf(t){X.lFrame.currentQueryIndex=t}function P0(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[vt]:null}function Vf(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=P0(o),i===null||(o=o[Ar],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=X.lFrame=AE();return r.currentTNode=e,r.lView=t,!0}function Oc(t){let e=AE(),n=t[W];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AE(){let t=X.lFrame,e=t===null?null:t.child;return e===null?NE(t):e}function NE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RE(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jf=RE;function Fc(){let t=RE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function PE(t){return(X.lFrame.contextLView=sE(t,X.lFrame.contextLView))[Ge]}function kr(){return X.lFrame.selectedIndex}function Bn(t){X.lFrame.selectedIndex=t}function Bf(){let t=X.lFrame;return Pc(t.tView,t.selectedIndex)}function ME(){return X.lFrame.currentNamespace}var kE=!0;function Lc(){return kE}function Vc(t){kE=t}function Xd(t,e=null,n=null,r){let i=Uf(t,e,n,r);return i.resolveInjectorInitializers(),i}function Uf(t,e=null,n=null,r,i=new Set){let o=[n||ut,Z_(t)];return r=r||(typeof t=="object"?void 0:an(t)),new br(o,e||rs(),r||null,i)}var tt=class t{static THROW_IF_NOT_FOUND=wr;static NULL=new es;static create(e,n){if(Array.isArray(e))return Xd({name:""},n,e,"");{let r=e.name??"";return Xd({name:r},e.parent,e.providers,r)}}static \u0275prov=fe({token:t,providedIn:"any",factory:()=>Ve(gf)});static __NG_ELEMENT_ID__=-1},Mi=new Y(""),ki=(()=>{class t{static __NG_ELEMENT_ID__=M0;static __NG_ENV_ID__=n=>n}return t})(),ef=class extends ki{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Mr(this._lView)}onDestroy(e){let n=this._lView;return Pf(n,e),()=>aE(n,e)}};function M0(){return new ef(ue())}var Cr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wt=new Y("",{providedIn:"root",factory:()=>{let t=L(it),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Cr),e.handleError(n))}}}),xE={provide:xn,useValue:()=>void L(Cr),multi:!0},k0=new Y("",{providedIn:"root",factory:()=>{let t=L(Mi).defaultView;if(!t)return;let e=L(wt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),L(ki).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function x0(){return Nt([Y_(()=>void L(k0))])}function $f(t){return typeof t=="function"&&t[ze]!==void 0}function Hf(t,e){let[n,r,i]=$d(t,e?.equal),o=n,s=o[ze];return o.set=r,o.update=i,o.asReadonly=OE.bind(o),o}function OE(){let t=this[ze];if(t.readonlyFn===void 0){let e=()=>this();e[ze]=t,t.readonlyFn=e}return t.readonlyFn}function qf(t){return $f(t)&&typeof t.set=="function"}var Mn=class{},gs=new Y("",{providedIn:"root",factory:()=>!1});var zf=new Y(""),Gf=new Y(""),Un=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new qo(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=fe({token:t,providedIn:"root",factory:()=>new t})}return t})(),xi=(()=>{class t{internalPendingTasks=L(Un);scheduler=L(Mn);errorHandler=L(wt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=fe({token:t,providedIn:"root",factory:()=>new t})}return t})();function ms(...t){}var Wf=(()=>{class t{static \u0275prov=fe({token:t,providedIn:"root",factory:()=>new tf})}return t})(),tf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ui(t){return{toString:t}.toString()}var jc="__parameters__";function z0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function G0(t,e,n){return Ui(()=>{let r=z0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(jc)?u[jc]:Object.defineProperty(u,jc,{value:[]})[jc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ft=G_(G0("Optional"),8);function W0(t){return typeof t=="function"}var qc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var fI=(()=>{let t=()=>hI;return t.ngInherit=!0,t})();function hI(t){return t.type.prototype.ngOnChanges&&(t.setInput=Q0),K0}function K0(){let t=gI(this),e=t?.current;if(e){let n=t.previous;if(n===kn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Q0(t,e,n,r,i){let o=this.declaredInputs[r],s=gI(t)||Y0(t,{previous:kn,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new qc(l&&l.currentValue,n,u===kn),dI(t,e,i,n)}var pI="__ngSimpleChanges__";function gI(t){return t[pI]||null}function Y0(t,e){return t[pI]=e}var FE=[];var he=function(t,e=null,n){for(let r=0;r<FE.length;r++){let i=FE[r];i(t,e,n)}};function Z0(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=hI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function mI(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Uc(t,e,n){yI(t,e,3,n)}function $c(t,e,n,r){(t[q]&3)===n&&yI(t,e,n,r)}function Kf(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function yI(t,e,n,r){let i=r!==void 0?t[Rr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Rr]+=65536),(c<o||o==-1)&&(J0(t,n,e,u),t[Rr]=(t[Rr]&4294901760)+u+2),u++}function LE(t,e){he(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),he(5,t,e)}}function J0(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[q]>>14<t[Rr]>>16&&(t[q]&3)===e&&(t[q]+=16384,LE(c,o)):LE(c,o)}var Fi=-1,Or=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function X0(t){return(t.flags&8)!==0}function eN(t){return(t.flags&16)!==0}function tN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];rN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function nN(t){return t===3||t===4||t===6}function rN(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?VE(t,n,i,null,e[++r]):VE(t,n,i,null,null))}}return t}function VE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function vI(t){return t!==Fi}function zc(t){return t&32767}function iN(t){return t>>16}function Gc(t,e){let n=iN(t),r=e;for(;n>0;)r=r[Ar],n--;return r}var ih=!0;function Wc(t){let e=ih;return ih=t,e}var oN=256,_I=oN-1,EI=5,sN=0,Ht={};function aN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sr)&&(r=n[Sr]),r==null&&(r=n[Sr]=sN++);let i=r&_I,o=1<<i;e.data[t+(i>>EI)]|=o}function Kc(t,e){let n=II(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Qf(r.data,t),Qf(e,null),Qf(r.blueprint,null));let i=Dh(t,e),o=t.injectorIndex;if(vI(i)){let s=zc(i),c=Gc(i,e),u=c[W].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function II(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=CI(i),r===null)return Fi;if(n++,i=i[Ar],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fi}function oh(t,e,n){aN(t,e,n)}function wI(t,e,n){if(n&8||t!==void 0)return t;Cc(e,"NodeInjector")}function TI(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ln],o=et(void 0);try{return i?i.get(e,r,n&8):hf(e,r,n&8)}finally{et(o)}}return wI(r,e,n)}function DI(t,e,n,r=0,i){if(t!==null){if(e[q]&2048&&!(r&2)){let s=hN(t,e,n,r,Ht);if(s!==Ht)return s}let o=bI(t,e,n,r,Ht);if(o!==Ht)return o}return TI(e,n,r,i)}function bI(t,e,n,r,i){let o=lN(n);if(typeof o=="function"){if(!Vf(e,t,r))return r&1?wI(i,n,r):TI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Cc(n);else return s}finally{jf()}}else if(typeof o=="number"){let s=null,c=II(t,e),u=Fi,l=r&1?e[_t][vt]:null;for((c===-1||r&4)&&(u=c===-1?Dh(t,e):e[c+8],u===Fi||!BE(r,!1)?c=-1:(s=e[W],c=zc(u),e=Gc(u,e)));c!==-1;){let h=e[W];if(jE(o,c,h.data)){let p=cN(c,e,n,s,r,l);if(p!==Ht)return p}u=e[c+8],u!==Fi&&BE(r,e[W].data[c+8]===l)&&jE(o,c,e)?(s=h,c=zc(u),e=Gc(u,e)):c=-1}}return i}function cN(t,e,n,r,i,o){let s=e[W],c=s.data[t+8],u=r==null?jn(c)&&ih:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=uN(c,s,n,u,l);return h!==null?Qc(e,s,h,c,i):Ht}function uN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Ut(y)&&y.type===n)return u}return null}function Qc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Or){let c=o;if(c.resolving){let y=$_(s[n]);throw ff(y)}let u=Wc(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],h,p=c.injectImpl?et(c.injectImpl):null,m=Vf(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Z0(n,s[n],e)}finally{p!==null&&et(p),Wc(u),c.resolving=!1,jf()}}return o}function lN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Sr)?t[Sr]:void 0;return typeof e=="number"?e>=0?e&_I:dN:e}function jE(t,e,n){let r=1<<t;return!!(n[e+(t>>EI)]&r)}function BE(t,e){return!(t&2)&&!(t&1&&e)}var xr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DI(this._tNode,this._lView,e,Tr(r),n)}};function dN(){return new xr(st(),ue())}function fN(t){return Ui(()=>{let e=t.prototype.constructor,n=e[Xo]||sh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xo]||sh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sh(t){return sf(t)?()=>{let e=sh(Le(t));return e&&e()}:Rn(t)}function hN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[q]&2048&&!Ri(s);){let c=bI(o,s,n,r|2,Ht);if(c!==Ht)return c;let u=o.parent;if(!u){let l=s[Df];if(l){let h=l.get(n,Ht,r);if(h!==Ht)return h}u=CI(s),s=s[Ar]}o=u}return i}function CI(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[vt]:null}function pN(){return su(st(),ue())}function su(t,e){return new bh($t(t,e))}var bh=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pN}return t})();function SI(t){return(t.flags&128)===128}var Ch=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Ch||{}),AI=new Map,gN=0;function mN(){return gN++}function yN(t){AI.set(t[os],t)}function ah(t){AI.delete(t[os])}var UE="__ngContext__";function Li(t,e){Bt(e)?(t[UE]=e[os],yN(e)):t[UE]=e}function NI(t){return PI(t[Ni])}function RI(t){return PI(t[yt])}function PI(t){for(;t!==null&&!Pt(t);)t=t[yt];return t}var ch;function vN(t){ch=t}function MI(){if(ch!==void 0)return ch;if(typeof document<"u")return document;throw new J(210,!1)}var _N=new Y("",{providedIn:"root",factory:()=>EN}),EN="ng",kI=new Y(""),Sh=new Y("",{providedIn:"platform",factory:()=>"unknown"});var IN=new Y("",{providedIn:"root",factory:()=>MI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wN="h",TN="b";var xI=!1,OI=new Y("",{providedIn:"root",factory:()=>xI});var DN=(t,e,n,r)=>{};function bN(t,e,n,r){DN(t,e,n,r)}function Ah(t){return(t.flags&32)===32}var CN=()=>null;function FI(t,e,n=!1){return CN(t,e,n)}function LI(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Lf(o),c.contentQueries(2,e[s],s)}}}finally{K(r)}}}function uh(t,e,n){Lf(0);let r=K(null);try{e(t,n)}finally{K(r)}}function VI(t,e,n){if(bf(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{K(r)}}}var Vi=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Vi||{});var lh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rf})`}};function jI(t){return t instanceof lh?t.changingThisBreaksApplicationSecurity:t}function BI(t){return t instanceof Function?t():t}function SN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var UI="ng-template";function AN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Nh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Nh(t){return t.type===4&&t.value!==UI}function NN(t,e,n){let r=t.type===4&&!n?UI:t.value;return e===r}function RN(t,e,n){let r=4,i=t.attrs,o=i!==null?kN(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Mt(r)&&!Mt(u))return!1;if(s&&Mt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NN(t,u,n)||u===""&&e.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(i===null||!AN(t,i,u,n)){if(Mt(r))return!1;s=!0}}else{let l=e[++c],h=PN(u,i,Nh(t),n);if(h===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(t){return(t&1)===0}function PN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xN(e,t)}function MN(t,e,n=!1){for(let r=0;r<e.length;r++)if(RN(t,e[r],n))return!0;return!1}function kN(t){for(let e=0;e<t.length;e++){let n=t[e];if(nN(n))return e}return t.length}function xN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function $E(t,e){return t?":not("+e.trim()+")":e}function ON(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mt(s)&&(e+=$E(o,i),i=""),r=s,o=o||!Mt(r);n++}return i!==""&&(e+=$E(o,i)),e}function FN(t){return t.map(ON).join(",")}function LN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Mt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var qt={};function VN(t,e){return t.createText(e)}function jN(t,e,n){t.setValue(e,n)}function $I(t,e,n){return t.createElement(e,n)}function Yc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HI(t,e,n){t.appendChild(e,n)}function HE(t,e,n,r,i){r!==null?Yc(t,e,n,r,i):HI(t,e,n)}function BN(t,e,n,r){t.removeChild(null,e,n,r)}function UN(t,e,n){t.setAttribute(e,"style",n)}function $N(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&tN(t,e,r),i!==null&&$N(t,e,i),o!==null&&UN(t,e,o)}function Rh(t,e,n,r,i,o,s,c,u,l,h){let p=We+r,m=p+i,y=HN(p,m),S=typeof l=="function"?l():l;return y[W]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function HN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qt);return n}function qN(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Rh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ph(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Rt]=i,p[q]=r|4|128|8|64|1024,(l!==null||t&&t[q]&2048)&&(p[q]|=2048),Nf(p),p[je]=p[Ar]=t,p[Ge]=n,p[cn]=s||t&&t[cn],p[Ie]=c||t&&t[Ie],p[Ln]=u||t&&t[Ln]||null,p[vt]=o,p[os]=mN(),p[is]=h,p[Df]=l,p[_t]=e.type==2?t[_t]:p,p}function zN(t,e,n){let r=$t(e,t),i=qN(n),o=t[cn].rendererFactory,s=Mh(t,Ph(t,i,null,zI(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function zI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function GI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mh(t,e){return t[Ni]?t[Tf][yt]=e:t[Ni]=e,t[Tf]=e,e}function GN(t=1){WI(dt(),ue(),kr()+t,!1)}function WI(t,e,n,r){if(!r)if((e[q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Uc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&$c(e,o,0,n)}Bn(n)}var au=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(au||{});function dh(t,e,n,r){let i=K(null);try{let[o,s,c]=t.inputs[n],u=null;(s&au.SignalBased)!==0&&(u=e[o][ze]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):dI(e,u,o,r)}finally{K(i)}}var Es=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Es||{}),WN;function kh(t,e){return WN(t,e)}var Zc=new Set,xh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(xh||{}),Oh=new Y(""),qE=new Set;function Fh(t){qE.has(t)||(qE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var KI=!1,fh=class extends on{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tE()&&(this.destroyRef=L(ki,{optional:!0})??void 0,this.pendingTasks=L(Un,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},un=fh;function QI(t){let e,n;function r(){t=ms;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zE(t){return queueMicrotask(()=>t()),()=>{t=ms}}var Lh="isAngularZone",Jc=Lh+"_ID",KN=0,ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new un(!1);onMicrotaskEmpty=new un(!1);onStable=new un(!1);onError=new un(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=KI}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QN,ms,ms);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},QN={};function Vh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){QI(()=>{t.callbackScheduled=!1,hh(t),t.isCheckStableRunning=!0,Vh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),hh(t)}function ZN(t){let e=()=>{YN(t)},n=KN++;t._inner=t._inner.fork({name:"angular",properties:{[Lh]:!0,[Jc]:n,[Jc+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(JN(u))return r.invokeTask(o,s,c,u);try{return GE(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WE(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return GE(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!XN(u)&&e(),WE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hh(t),Vh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WE(t){t._nesting--,Vh(t)}var Xc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new un;onMicrotaskEmpty=new un;onStable=new un;onError=new un;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function JN(t){return YI(t,"__ignore_ng_zone__")}function XN(t){return YI(t,"__scheduler_tick__")}function YI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ZI=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:t,providedIn:"root",factory:()=>new t})}return t})();var eR=new Y("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function JI(t,e){let n=t.get(eR);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function tR(t,e){for(let[n,r]of e)JI(t,r.animateFns)}function KE(t,e,n,r){let i=t?.[as]?.enter;e!==null&&i&&i.has(n.index)&&tR(r,i)}function Oi(t,e,n,r,i,o,s,c){if(i!=null){let u,l=!1;Pt(i)?u=i:Bt(i)&&(l=!0,i=i[Rt]);let h=Et(i);t===0&&r!==null?(KE(c,r,o,n),s==null?HI(e,r,h):Yc(e,r,h,s||null,!0)):t===1&&r!==null?(KE(c,r,o,n),Yc(e,r,h,s||null,!0)):t===2?QE(c,o,n,p=>{BN(e,h,l,p)}):t===3&&QE(c,o,n,()=>{e.destroyNode(h)}),u!=null&&pR(e,t,n,u,o,r,s)}}function nR(t,e){XI(t,e),e[Rt]=null,e[vt]=null}function rR(t,e,n,r,i,o){r[Rt]=i,r[vt]=e,cu(t,r,n,1,i,o)}function XI(t,e){e[cn].changeDetectionScheduler?.notify(9),cu(t,e,e[Ie],2,null,null)}function iR(t){let e=t[Ni];if(!e)return Yf(t[W],t);for(;e;){let n=null;if(Bt(e))n=e[Ni];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[yt]&&e!==t;)Bt(e)&&Yf(e[W],e),e=e[je];e===null&&(e=t),Bt(e)&&Yf(e[W],e),n=e&&e[yt]}e=n}}function jh(t,e){let n=t[us],r=n.indexOf(e);n.splice(r,1)}function ew(t,e){if(Mr(e))return;let n=e[Ie];n.destroyNode&&cu(t,e,n,3,null,null),iR(e)}function Yf(t,e){if(Mr(e))return;let n=K(null);try{e[q]&=-129,e[q]|=256,e[lt]&&Zo(e[lt]),aR(t,e),sR(t,e),e[W].type===1&&e[Ie].destroy();let r=e[Nr];if(r!==null&&Pt(e[je])){r!==e[je]&&jh(r,e);let i=e[Pr];i!==null&&i.detachView(t)}ah(e)}finally{K(n)}}function QE(t,e,n,r){let i=t?.[as];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&Zc.add(t),JI(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();c.push(h)}i.running=Promise.allSettled(c),oR(t,r)}else t&&Zc.delete(t),r(!1)})}function oR(t,e){let n=t[as]?.running;if(n){n.then(()=>{t[as].running=void 0,Zc.delete(t),e(!0)});return}e(!1)}function sR(t,e){let n=t.cleanup,r=e[Ai];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Ai]=null);let i=e[sn];if(i!==null){e[sn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[ss];if(o!==null){e[ss]=null;for(let s of o)s.destroy()}}function aR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Or)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];he(4,c,u);try{u.call(c)}finally{he(5,c,u)}}else{he(4,i,o);try{o.call(i)}finally{he(5,i,o)}}}}}function cR(t,e,n){return uR(t,e.parent,n)}function uR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Rt];if(jn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Vi.None||i===Vi.Emulated)return null}return $t(r,n)}function lR(t,e,n){return fR(t,e,n)}function dR(t,e,n){return t.type&40?$t(t,n):null}var fR=dR,YE;function Bh(t,e,n,r){let i=cR(t,r,e),o=e[Ie],s=r.parent||e[vt],c=lR(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)HE(o,i,n[u],c,!1);else HE(o,i,n,c,!1);YE!==void 0&&YE(o,r,e,n,i)}function ys(t,e){if(e!==null){let n=e.type;if(n&3)return $t(e,t);if(n&4)return ph(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ys(t,r);{let i=t[e.index];return Pt(i)?ph(-1,i):Et(i)}}else{if(n&128)return ys(t,e.next);if(n&32)return kh(e,t)()||Et(t[e.index]);{let r=tw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pn(t[_t]);return ys(i,r)}else return ys(t,e.next)}}}return null}function tw(t,e){if(e!==null){let r=t[_t][vt],i=e.projection;return r.projection[i]}return null}function ph(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return ys(r,i)}return e[Vn]}function Uh(t,e,n,r,i,o,s){for(;n!=null;){let c=r[Ln];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Li(Et(u),r),n.flags|=2),!Ah(n))if(l&8)Uh(t,e,n.child,r,i,o,!1),Oi(e,t,c,i,u,n,o,r);else if(l&32){let h=kh(n,r),p;for(;p=h();)Oi(e,t,c,i,p,n,o,r);Oi(e,t,c,i,u,n,o,r)}else l&16?hR(t,e,r,n,i,o):Oi(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function cu(t,e,n,r,i,o){Uh(n,r,t.firstChild,e,i,o,!1)}function hR(t,e,n,r,i,o){let s=n[_t],u=s[vt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oi(e,t,n[Ln],i,h,r,o,n)}else{let l=u,h=s[je];SI(r)&&(l.flags|=128),Uh(t,e,l,h,i,o,!0)}}function pR(t,e,n,r,i,o,s){let c=r[Vn],u=Et(r);c!==u&&Oi(e,t,n,o,c,i,s);for(let l=ot;l<r.length;l++){let h=r[l];cu(h[W],h,t,e,o,c)}}function gR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Es.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}function nw(t,e,n,r,i){let o=kr(),s=r&2;try{Bn(-1),s&&e.length>We&&WI(t,e,We,!1),he(s?2:0,i,n),n(r,i)}finally{Bn(o),he(s?3:1,i,n)}}function $h(t,e,n){wR(t,e,n),(n.flags&64)===64&&TR(t,e,n)}function rw(t,e,n=$t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function mR(t,e,n,r){let o=r.get(OI,xI)||n===Vi.ShadowDom,s=t.selectRootElement(e,o);return yR(s),s}function yR(t){vR(t)}var vR=()=>null;function _R(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function iw(t,e,n,r,i,o){let s=e[W];if(Hh(t,s,e,n,r)){jn(t)&&IR(e,t.index);return}t.type&3&&(n=_R(n)),ER(t,e,n,r,i,o)}function ER(t,e,n,r,i,o){if(t.type&3){let s=$t(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function IR(t,e){let n=It(e,t);n[q]&16||(n[q]|=64)}function wR(t,e,n){let r=n.directiveStart,i=n.directiveEnd;jn(n)&&zN(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Kc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Qc(e,t,s,n);if(Li(u,e),o!==null&&bR(e,s-r,u,c,n,o),Ut(c)){let l=It(n.index,e);l[Ge]=Qc(e,t,s,n)}}}function TR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=CE();try{Bn(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];xc(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&DR(u,l)}}finally{Bn(-1),xc(s)}}function DR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ow(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];MN(e,o.selectors,!1)&&(r??=[],Ut(o)?r.unshift(o):r.push(o))}return r}function bR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];dh(r,n,u,l)}}function CR(t,e,n,r,i){let o=We+n,s=e[W],c=i(s,e,t,r,n);e[o]=c,Pi(t,!0);let u=t.type===2;return u?(qI(e[Ie],c,t),(lE()===0||ls(t))&&Li(c,e),dE()):Li(c,e),Lc()&&(!u||!Ah(t))&&Bh(s,e,c,t),t}function SR(t){let e=t;return xf()?_E():(e=e.parent,Pi(e,!1)),e}function AR(t,e){let n=t[Ln];if(!n)return;let r;try{r=n.get(wt,null)}catch{r=null}r?.(e)}function Hh(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];dh(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];dh(h,l,r,i),c=!0}return c}function NR(t,e){let n=It(e,t),r=n[W];RR(r,n);let i=n[Rt];i!==null&&n[is]===null&&(n[is]=FI(i,n[Ln])),he(18),qh(r,n,n[Ge]),he(19,n[Ge])}function RR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function qh(t,e,n){Oc(e);try{let r=t.viewQuery;r!==null&&uh(1,r,n);let i=t.template;i!==null&&nw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pr]?.finishViewCreation(t),t.staticContentQueries&&LI(t,e),t.staticViewQueries&&uh(2,t.viewQuery,n);let o=t.components;o!==null&&PR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,Fc()}}function PR(t,e){for(let n=0;n<e.length;n++)NR(t,e[n])}function MR(t,e,n,r){let i=K(null);try{let o=e.tView,c=t[q]&4096?4096:16,u=Ph(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Nr]=l;let h=t[Pr];return h!==null&&(u[Pr]=h.createEmbeddedView(o)),qh(o,u,n),u}finally{K(i)}}function ZE(t,e){return!e||e.firstChild===null||SI(t)}function Is(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Et(o)),Pt(o)&&sw(o,r);let s=n.type;if(s&8)Is(t,e,n.child,r);else if(s&32){let c=kh(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=tw(e,n);if(Array.isArray(c))r.push(...c);else{let u=Pn(e[_t]);Is(u[W],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function sw(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Is(r[W],r,i,e)}t[Vn]!==t[Rt]&&e.push(t[Vn])}function aw(t){if(t[Rc]!==null){for(let e of t[Rc])e.impl.addSequence(e);t[Rc].length=0}}var cw=[];function kR(t){return t[lt]??xR(t)}function xR(t){let e=cw.pop()??Object.create(FR);return e.lView=t,e}function OR(t){t.lView[lt]!==t&&(t.lView=null,cw.push(t))}var FR=Fe(Oe({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{hs(t.lView)},consumerOnSignalRead(){this.lView[lt]=this}});function LR(t){let e=t[lt]??Object.create(VR);return e.lView=t,e}var VR=Fe(Oe({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Pn(t.lView);for(;e&&!uw(e[W]);)e=Pn(e);e&&Rf(e)},consumerOnSignalRead(){this.lView[lt]=this}});function uw(t){return t.type!==2}function lw(t){if(t[ss]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ss])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[q]&8192)}}var jR=100;function dw(t,e=0){let r=t[cn].rendererFactory,i=!1;i||r.begin?.();try{BR(t,e)}finally{i||r.end?.()}}function BR(t,e){let n=Of();try{Ff(!0),gh(t,e);let r=0;for(;fs(t);){if(r===jR)throw new J(103,!1);r++,gh(t,1)}}finally{Ff(n)}}function UR(t,e,n,r){if(Mr(e))return;let i=e[q],o=!1,s=!1;Oc(e);let c=!0,u=null,l=null;o||(uw(t)?(l=kR(e),u=wi(l)):fc()===null?(c=!1,l=LR(e),u=wi(l)):e[lt]&&(Zo(e[lt]),e[lt]=null));try{Nf(e),wE(t.bindingStartIndex),n!==null&&nw(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Uc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&$c(e,y,0,null),Kf(e,0)}if(s||$R(e),lw(e),fw(e,0),t.contentQueries!==null&&LI(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Uc(e,y)}else{let y=t.contentHooks;y!==null&&$c(e,y,1),Kf(e,1)}qR(t,e);let p=t.components;p!==null&&pw(e,p,0);let m=t.viewQuery;if(m!==null&&uh(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Uc(e,y)}else{let y=t.viewHooks;y!==null&&$c(e,y,2),Kf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nc]){for(let y of e[Nc])y();e[Nc]=null}o||(aw(e),e[q]&=-73)}catch(h){throw o||hs(e),h}finally{l!==null&&(Qo(l,u),c&&OR(l)),Fc()}}function fw(t,e){for(let n=NI(t);n!==null;n=RI(n))for(let r=ot;r<n.length;r++){let i=n[r];hw(i,e)}}function $R(t){for(let e=NI(t);e!==null;e=RI(e)){if(!(e[q]&2))continue;let n=e[us];for(let r=0;r<n.length;r++){let i=n[r];Rf(i)}}}function HR(t,e,n){he(18);let r=It(e,t);hw(r,n),he(19,r[Ge])}function hw(t,e){Mc(t)&&gh(t,e)}function gh(t,e){let r=t[W],i=t[q],o=t[lt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Yo(o)),s||=!1,o&&(o.dirty=!1),t[q]&=-9217,s)UR(r,t,r.template,t[Ge]);else if(i&8192){let c=K(null);try{lw(t),fw(t,1);let u=r.components;u!==null&&pw(t,u,1),aw(t)}finally{K(c)}}}function pw(t,e,n){for(let r=0;r<e.length;r++)HR(t,e[r],n)}function qR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Bn(~i);else{let o=i,s=n[++r],c=n[++r];bE(s,o);let u=e[o];he(24,u),c(2,u),he(25,u)}}}finally{Bn(-1)}}function zh(t,e){let n=Of()?64:1088;for(t[cn].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let r=Pn(t);if(Ri(t)&&!r)return t;t=r}return null}function gw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zR(t,e,n,r=!0){let i=e[W];if(GR(i,e,t,n),r){let s=ph(n,t),c=e[Ie],u=c.parentNode(t[Vn]);u!==null&&rR(i,t[vt],c,e,u,s)}let o=e[is];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mh(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Nr];i!==null&&i!==t&&jh(i,r),e>0&&(t[n-1][yt]=r[yt]);let o=ns(t,ot+e);nR(r[W],r);let s=o[Pr];s!==null&&s.detachView(o[W]),r[je]=null,r[yt]=null,r[q]&=-129}return r}function GR(t,e,n,r){let i=ot+r,o=n.length;r>0&&(n[i-1][yt]=e),r<o-ot?(e[yt]=n[i],pf(n,ot+r,e)):(n.push(e),e[yt]=null),e[je]=n;let s=e[Nr];s!==null&&n!==s&&mw(s,e);let c=e[Pr];c!==null&&c.insertView(t),kc(e),e[q]|=128}function mw(t,e){let n=t[us],r=e[je];if(Bt(r))t[q]|=2;else{let i=r[je][_t];e[_t]!==i&&(t[q]|=2)}n===null?t[us]=[e]:n.push(e)}var $n=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[W];return Is(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return Mr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[je];if(Pt(e)){let n=e[cs],r=n?n.indexOf(this):-1;r>-1&&(mh(e,r),ns(n,r))}this._attachedToViewContainer=!1}ew(this._lView[W],this._lView)}onDestroy(e){Pf(this._lView,e)}markForCheck(){zh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){kc(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,dw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ri(this._lView),n=this._lView[Nr];n!==null&&!e&&jh(n,this._lView),XI(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=Ri(this._lView),r=this._lView[Nr];r!==null&&!n&&mw(r,this._lView),kc(this._lView)}};var bs=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WR;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=MR(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new $n(o)}}return t})();function WR(){return yw(st(),ue())}function yw(t,e){return t.type&4?new bs(e,t,su(t,e)):null}function Gh(t,e,n,r,i){let o=t.data[e];if(o===null)o=KR(t,e,n,r,i),DE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vE();o.injectorIndex=s===null?-1:s.injectorIndex}return Pi(o,!0),o}function KR(t,e,n,r,i){let o=kf(),s=xf(),c=s?o:o&&o.parent,u=t.data[e]=YR(t,c,n,e,r,i);return QR(t,u,o,s),u}function QR(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function YR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return hE()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Jq=new RegExp(`^(\\d+)*(${TN}|${wN})*(.*)`);var ZR=()=>null;function JE(t,e){return ZR(t,e)}var vw=class{},uu=class{},yh=class{resolveComponentFactory(e){throw new J(917,!1)}},Cs=class{static NULL=new yh},ws=class{},_w=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>JR()}return t})();function JR(){let t=ue(),e=st(),n=It(e.index,t);return(Bt(n)?n:t)[Ie]}var Ew=(()=>{class t{static \u0275prov=fe({token:t,providedIn:"root",factory:()=>null})}return t})();var Hc={},vh=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Hc,r);return i!==Hc||n===Hc?i:this.parentInjector.get(e,n,r)}};function XE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=of(i,c);else if(o==2){let u=c,l=e[++s];r=of(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Tt(t,e=0){let n=ue();if(n===null)return Ve(t,e);let r=st();return DI(r,n,Le(t),e)}function Iw(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}tP(t,e,n,c,o,u,l)}o!==null&&r!==null&&XR(n,r,o)}function XR(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function eP(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tP(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Ut(y)&&(u=!0,eP(t,n,m)),oh(Kc(n,e),t,y.type)}aP(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=GI(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=_s(n.mergedAttrs,y.hostAttrs),rP(t,n,e,p,y),sP(p,y,i),s!==null&&s.has(y)){let[P,R]=s.get(y);n.directiveToIndex.set(y.type,[p,P+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}nP(t,n,o)}function nP(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))eI(0,e,i,r),eI(1,e,i,r),nI(e,r,!1);else{let o=n.get(i);tI(0,e,o,r),tI(1,e,o,r),nI(e,r,!0)}}}function eI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ww(e,o)}}function tI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),ww(e,s)}}function ww(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function nI(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Nh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function rP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Rn(i.type,!0)),s=new Or(o,Ut(i),Tt,null);t.blueprint[r]=s,n[r]=s,iP(t,e,r,GI(t,n,i.hostVars,qt),i)}function iP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;oP(s)!=c&&s.push(c),s.push(n,r,o)}}function oP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ut(e)&&(n[""]=t)}}function aP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Tw(t,e,n,r,i,o,s,c){let u=e[W],l=u.consts,h=ds(l,s),p=Gh(u,t,n,r,h);return o&&Iw(u,e,p,ds(l,c),i),p.mergedAttrs=_s(p.mergedAttrs,p.attrs),p.attrs!==null&&XE(p,p.attrs,!1),p.mergedAttrs!==null&&XE(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Dw(t,e){mI(t,e),bf(e)&&t.queries.elementEnd(e)}function Wh(t){return Cw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bw(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Cw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function cP(t,e,n){return t[e]=n}function $i(t,e,n){if(n===qt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Zf(t,e,n){return function r(i){let o=jn(t)?It(t.index,e):e;zh(o,5);let s=e[Ge],c=rI(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=rI(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function rI(t,e,n,r){let i=K(null);try{return he(6,e,n),n(r)!==!1}catch(o){return AR(t,o),!1}finally{he(7,e,n),K(i)}}function uP(t,e,n,r,i,o,s,c){let u=ls(t),l=!1,h=null;if(!r&&u&&(h=dP(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=$t(t,n),m=r?r(p):p;bN(n,m,o,c);let y=i.listen(m,o,c);if(!lP(o)){let S=r?P=>r(Et(P[t.index])):t.index;Sw(S,e,n,o,c,y,!1)}}return l}function lP(t){return t.startsWith("animation")||t.startsWith("transition")}function dP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Ai],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Sw(t,e,n,r,i,o,s){let c=e.firstCreatePass?uE(e):null,u=cE(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function iI(t,e,n,r,i,o){let s=e[n],c=e[W],l=c.data[n].outputs[r],p=s[l].subscribe(o);Sw(t.index,c,e,i,o,p,!0)}var _h=Symbol("BINDING");var eu=class extends Cs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=On(e);return new ji(n,this.ngModule)}};function fP(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&au.SignalBased)!==0};return i&&(o.transform=i),o})}function hP(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function pP(t,e,n){let r=e instanceof it?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new vh(n,r):n}function gP(t){let e=t.get(ws,null);if(e===null)throw new J(407,!1);let n=t.get(Ew,null),r=t.get(Mn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function mP(t,e){let n=Aw(t);return $I(e,n,n==="svg"?rE:n==="math"?iE:null)}function Aw(t){return(t.selectors[0][0]||"div").toLowerCase()}var ji=class extends uu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=fP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hP(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){he(22);let c=K(null);try{let u=this.componentDef,l=yP(r,u,s,o),h=pP(u,i||this.ngModule,e),p=gP(h),m=p.rendererFactory.createRenderer(null,u),y=r?mR(m,r,u.encapsulation,h):mP(u,m),S=s?.some(oI)||o?.some(x=>typeof x!="function"&&x.bindings.some(oI)),P=Ph(null,l,null,512|zI(u),null,null,p,m,h,null,FI(y,h,!0));P[We]=y,Oc(P);let R=null;try{let x=Tw(We,P,2,"#host",()=>l.directiveRegistry,!0,0);qI(m,y,x),Li(y,P),$h(l,P,x),VI(l,x,P),Dw(l,x),n!==void 0&&_P(x,this.ngContentSelectors,n),R=It(x.index,P),P[Ge]=R[Ge],qh(l,P,null)}catch(x){throw R!==null&&ah(R),ah(P),x}finally{he(23),Fc()}return new tu(this.componentType,P,!!S)}finally{K(c)}}};function yP(t,e,n,r){let i=t?["ng-version","20.3.9"]:LN(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[_h].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[_h].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=vf(p);u.push(m)}return Rh(0,null,vP(o,s),1,c,u,null,null,null,[i],null)}function vP(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function oI(t){let e=t[_h].kind;return e==="input"||e==="twoWay"}var tu=class extends vw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pc(n[W],We),this.location=su(this._tNode,n),this.instance=It(this._tNode.index,n)[Ge],this.hostView=this.changeDetectorRef=new $n(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Hh(r,i[W],i,e,n);this.previousInputValues.set(e,n);let s=It(r.index,i);zh(s,1)}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _P(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ss=(()=>{class t{static __NG_ELEMENT_ID__=EP}return t})();function EP(){let t=st();return wP(t,ue())}var IP=Ss,Nw=class extends IP{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dh(this._hostTNode,this._hostLView);if(vI(e)){let n=Gc(e,this._hostLView),r=zc(e),i=n[W].data[r+8];return new xr(i,n)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=sI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=JE(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,ZE(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!W0(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let h=u?e:new ji(On(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(it,null);x&&(o=x)}let m=On(h.componentType??{}),y=JE(this._lContainer,m?.id??null),S=y?.firstChild??null,P=h.create(p,i,S,o,s,c);return this.insertImpl(P.hostView,l,ZE(this._hostTNode,y)),P}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oE(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[je],l=new Nw(u,u[vt],u[je]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return zR(s,i,o,r),e.attachToViewContainerRef(),pf(Jf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=sI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=mh(this._lContainer,n);r&&(ns(Jf(this._lContainer),n),ew(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=mh(this._lContainer,n);return r&&ns(Jf(this._lContainer),n)!=null?new $n(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function sI(t){return t[cs]}function Jf(t){return t[cs]||(t[cs]=[])}function wP(t,e){let n,r=e[t.index];return Pt(r)?n=r:(n=gw(r,e,null,t),e[t.index]=n,Mh(e,n)),DP(n,e,t,r),new Nw(n,t,e)}function TP(t,e){let n=t[Ie],r=n.createComment(""),i=$t(e,t),o=n.parentNode(i);return Yc(n,o,r,n.nextSibling(i),!1),r}var DP=SP,bP=()=>!1;function CP(t,e,n){return bP(t,e,n)}function SP(t,e,n,r){if(t[Vn])return;let i;n.type&8?i=Et(r):i=TP(e,n),t[Vn]=i}var Fr=class{},Rw=class{};var nu=class extends Fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new eu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=yf(e);this._bootstrapComponents=BI(o.bootstrap),this._r3Injector=Uf(e,n,[{provide:Fr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],an(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ru=class extends Rw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new nu(this.moduleType,e,[])}};var Ts=class extends Fr{injector;componentFactoryResolver=new eu(this);instance=null;constructor(e){super();let n=new br([...e.providers,{provide:Fr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||rs(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pw(t,e,n=null){return new Ts({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var AP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=_f(!1,n.type),i=r.length>0?Pw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:t,providedIn:"environment",factory:()=>new t(Ve(it))})}return t})();function NP(t){return Ui(()=>{let e=Mw(t),n=Fe(Oe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ch.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(AP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vi.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Fh("NgStandalone"),kw(n);let r=t.dependencies;return n.directiveDefs=aI(r,RP),n.pipeDefs=aI(r,Q_),n.id=kP(n),n})}function RP(t){return On(t)||vf(t)}function Kh(t){return Ui(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function PP(t,e){if(t==null)return kn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=au.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function MP(t){if(t==null)return kn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function lu(t){return Ui(()=>{let e=Mw(t);return kw(e),e})}function Qh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||kn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:PP(t.inputs,e),outputs:MP(t.outputs),debugInfo:null}}function kw(t){t.features?.forEach(e=>e(t))}function aI(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function kP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xP(t){return Object.getPrototypeOf(t.prototype).constructor}function xw(t){let e=xP(t.type),n=!0,r=[t];for(;e;){let i;if(Ut(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Xf(t.inputs),s.declaredInputs=Xf(t.declaredInputs),s.outputs=Xf(t.outputs);let c=i.hostBindings;c&&jP(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&LP(t,u),l&&VP(t,l),OP(t,i),U_(t.outputs,i.outputs),Ut(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===xw&&(n=!1)}}e=Object.getPrototypeOf(e)}FP(r)}function OP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function FP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}function Xf(t){return t===kn?{}:t===ut?[]:t}function LP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function VP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function BP(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=_s(t.mergedAttrs,t.attrs);let h=t.tView=Rh(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Pi(t,!1);let u=$P(n,e,t,r);Lc()&&Bh(n,e,u,t),Li(u,e);let l=gw(u,e,u,t);e[r+We]=l,Mh(e,l),CP(l,t,e)}function UP(t,e,n,r,i,o,s,c,u,l,h){let p=n+We,m;return e.firstCreatePass?(m=Gh(e,p,4,s||null,c||null),Mf()&&Iw(e,t,m,ds(e.consts,l),ow),mI(e,m)):m=e.data[p],BP(m,t,e,n,r,i,o,u),ls(m)&&$h(e,t,m),l!=null&&rw(t,m,h),m}function Ow(t,e,n,r,i,o,s,c){let u=ue(),l=dt(),h=ds(l.consts,o);return UP(u,l,t,e,n,r,i,h,void 0,s,c),Ow}var $P=HP;function HP(t,e,n,r){return Vc(!0),e[Ie].createComment("")}var qP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Fw=new Y("");function As(t){return!!t&&typeof t.then=="function"}function du(t){return!!t&&typeof t.subscribe=="function"}var Lw=new Y("");var Yh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=L(Lw,{optional:!0})??[];injector=L(tt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Fn(this.injector,i);if(As(o))n.push(o);else if(du(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vw=new Y("");function jw(){Ud(()=>{let t="";throw new J(600,t)})}function Bw(t){return t.isBoundToModule}var zP=10;var Ns=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(wt);afterRenderManager=L(ZI);zonelessEnabled=L(gs);rootEffectScheduler=L(Wf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new on;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(Un);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(At(n=>!n))}constructor(){L(Oh,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=L(it);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=tt.NULL){return this._injector.get(ge).run(()=>{he(10);let s=n instanceof uu;if(!this._injector.get(Yh).done){let S="";throw new J(405,S)}let u;s?u=n:u=this._injector.get(Cs).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=Bw(u)?void 0:this._injector.get(Fr),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Fw,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),vs(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),he(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){he(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new J(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),he(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ws,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<zP;)he(14),this.synchronizeOnce(),he(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fs(i))continue;let o=r&&!this.zonelessEnabled?0:1;dw(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;vs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Vw,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var o6=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Uw(t,e,n){let r=ue(),i=ps();if($i(r,i,e)){let o=dt(),s=Bf();iw(s,r,t,e,r[Ie],n)}return Uw}function cI(t,e,n,r,i){Hh(e,t,n,i?"class":"style",r)}function Zh(t,e,n,r){let i=ue(),o=i[W],s=t+We,c=o.firstCreatePass?Tw(s,i,2,e,ow,Mf(),n,r):o.data[s];if(CR(c,i,t,e,GP),ls(c)){let u=i[W];$h(u,i,c),VI(u,c,i)}return r!=null&&rw(i,c),Zh}function Jh(){let t=dt(),e=st(),n=SR(e);return t.firstCreatePass&&Dw(t,n),pE(n)&&gE(),fE(),n.classesWithoutHost!=null&&X0(n)&&cI(t,n,ue(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&eN(n)&&cI(t,n,ue(),n.stylesWithoutHost,!1),Jh}function $w(t,e,n,r){return Zh(t,e,n,r),Jh(),$w}var GP=(t,e,n,r,i)=>(Vc(!0),$I(e[Ie],r,ME()));function WP(){return ue()}var Rs="en-US";var KP=Rs;function Hw(t){typeof t=="string"&&(KP=t.toLowerCase().replace(/_/g,"-"))}function qw(t,e,n){let r=ue(),i=dt(),o=st();return zw(i,r,r[Ie],o,t,e,n),qw}function zw(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Zf(r,e,o),uP(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Zf(r,e,o),iI(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Zf(r,e,o),iI(r,e,p,i,i,u)}}function QP(t=1){return PE(t)}function YP(t){let e=EE();return Sf(e,We+t)}function Bc(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function ZP(t){return(t&2)==2}function JP(t,e){return t&131071|e<<17}function Eh(t){return t|2}function Bi(t){return(t&131068)>>2}function eh(t,e){return t&-131069|e<<2}function XP(t){return(t&1)===1}function Ih(t){return t|1}function eM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Lr(s),u=Bi(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Si(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Lr(t[c+1]);t[r+1]=Bc(m,c),m!==0&&(t[m+1]=eh(t[m+1],r)),t[c+1]=JP(t[c+1],r)}else t[r+1]=Bc(c,0),c!==0&&(t[c+1]=eh(t[c+1],r)),c=r;else t[r+1]=Bc(u,0),c===0?c=r:t[u+1]=eh(t[u+1],r),u=r;l&&(t[r+1]=Eh(t[r+1])),uI(t,h,r,!0),uI(t,h,r,!1),tM(e,h,t,r,o),s=Bc(c,u),o?e.classBindings=s:e.styleBindings=s}function tM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Si(o,e)>=0&&(n[r+1]=Ih(n[r+1]))}function uI(t,e,n,r){let i=t[n+1],o=e===null,s=r?Lr(i):Bi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];nM(u,e)&&(c=!0,t[s+1]=r?Ih(l):Eh(l)),s=r?Lr(l):Bi(l)}c&&(t[n+1]=r?Eh(i):Ih(i))}function nM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Si(t,e)>=0:!1}function Gw(t,e,n){return Kw(t,e,n,!1),Gw}function Ww(t,e){return Kw(t,e,null,!0),Ww}function Kw(t,e,n,r){let i=ue(),o=dt(),s=TE(2);if(o.firstUpdatePass&&iM(o,t,s,r),e!==qt&&$i(i,s,e)){let c=o.data[kr()];uM(o,c,i,i[Ie],t,i[s+1]=lM(e,n),r,s)}}function rM(t,e){return e>=t.expandoStartIndex}function iM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[kr()],s=rM(t,n);dM(o,r)&&e===null&&!s&&(e=!1),e=oM(i,o,e,r),eM(i,o,e,n,s,r)}}function oM(t,e,n,r){let i=SE(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=th(null,t,e,n,r),n=Ds(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=th(i,t,e,n,r),o===null){let u=sM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=th(null,t,e,u[1],r),u=Ds(u,e.attrs,r),aM(t,e,r,u))}else o=cM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bi(r)!==0)return t[Lr(r)]}function aM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Lr(i)]=r}function cM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ds(r,s,n)}return Ds(r,e.attrs,n)}function th(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Ds(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ds(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),K_(t,s,n?!0:e[++o]))}return t===void 0?null:t}function uM(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=XP(l)?lI(u,e,n,i,Bi(l),s):void 0;if(!iu(h)){iu(o)||ZP(l)&&(o=lI(u,null,n,i,c,s));let p=Cf(kr(),n);gR(r,s,p,i,o)}}function lI(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===qt&&(m=p?ut:void 0);let y=p?Ac(m,r):h===r?m:void 0;if(l&&!iu(y)&&(y=Ac(u,r)),iu(y)&&(c=y,s))return c;let S=t[i+1];i=s?Lr(S):Bi(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Ac(u,r))}return c}function iu(t){return t!==void 0}function lM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=an(jI(t)))),t}function dM(t,e){return(t.flags&(e?8:16))!==0}function fM(t,e=""){let n=ue(),r=dt(),i=t+We,o=r.firstCreatePass?Gh(r,i,1,e,null):r.data[i],s=hM(r,n,o,e,t);n[i]=s,Lc()&&Bh(r,n,s,o),Pi(o,!1)}var hM=(t,e,n,r,i)=>(Vc(!0),VN(e[Ie],r));function Qw(t,e,n,r=""){return $i(t,ps(),n)?e+bc(n)+r:qt}function Yw(t){return Xh("",t),Yw}function Xh(t,e,n){let r=ue(),i=Qw(r,t,e,n);return i!==qt&&pM(r,kr(),i),Xh}function pM(t,e,n){let r=Cf(e,t);jN(t[Ie],r,n)}function Zw(t,e,n){qf(e)&&(e=e());let r=ue(),i=ps();if($i(r,i,e)){let o=dt(),s=Bf();iw(s,r,t,e,r[Ie],n)}return Zw}function gM(t,e){let n=qf(t);return n&&t.set(e),n}function Jw(t,e){let n=ue(),r=dt(),i=st();return zw(r,n,n[Ie],i,t,e),Jw}function mM(t){return $i(ue(),ps(),t)?bc(t):qt}function yM(t,e,n=""){return Qw(ue(),t,e,n)}function vM(t,e,n){let r=dt();if(r.firstCreatePass){let i=Ut(t);wh(n,r.data,r.blueprint,i,!0),wh(e,r.data,r.blueprint,i,!1)}}function wh(t,e,n,r,i){if(t=Le(t),Array.isArray(t))for(let o=0;o<t.length;o++)wh(t[o],e,n,r,i);else{let o=dt(),s=ue(),c=st(),u=Dr(t)?t:Le(t.provide),l=wf(t),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Dr(t)||!t.multi){let y=new Or(l,i,Tt,null),S=rh(u,e,i?h:h+m,p);S===-1?(oh(Kc(c,s),o,u),nh(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=rh(u,e,h+m,p),S=rh(u,e,h,h+m),P=y>=0&&n[y],R=S>=0&&n[S];if(i&&!R||!i&&!P){oh(Kc(c,s),o,u);let x=IM(i?EM:_M,n.length,i,r,l,t);!i&&R&&(n[S].providerFactory=x),nh(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=Xw(n[i?S:y],l,!i&&r);nh(o,t,y>-1?y:S,x)}!i&&r&&R&&n[S].componentProviders++}}}function nh(t,e,n,r){let i=Dr(e),o=eE(e);if(i||o){let u=(o?Le(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Xw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _M(t,e,n,r,i){return Th(this.multi,[])}function EM(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Qc(r,r[W],this.providerFactory.index,i);s=u.slice(0,c),Th(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Th(o,s);return s}function Th(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function IM(t,e,n,r,i,o){let s=new Or(t,n,Tt,null);return s.multi=[],s.index=e,s.componentProviders=0,Xw(s,i,r&&!n),s}function wM(t,e=[]){return n=>{n.providersResolver=(r,i)=>vM(r,i?i(t):t,e)}}function TM(t,e){let n=t[e];return n===qt?void 0:n}function DM(t,e,n,r,i,o){let s=e+n;return $i(t,s,i)?cP(t,s+1,o?r.call(o,i):r(i)):TM(t,s+1)}function bM(t,e){let n=dt(),r,i=t+We;n.firstCreatePass?(r=CM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Rn(r.type,!0)),s,c=et(Tt);try{let u=Wc(!1),l=o();return Wc(u),Af(n,ue(),i,l),l}finally{et(c)}}function CM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function SM(t,e,n){let r=t+We,i=ue(),o=Sf(i,r);return AM(i,r)?DM(i,IE(),e,o.transform,n,o):o.transform(n)}function AM(t,e){return t[W].data[e].pure}function NM(t,e){return yw(t,e)}var ou=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},RM=(()=>{class t{compileModuleSync(n){return new ru(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=yf(n),o=BI(i.declarations).reduce((s,c)=>{let u=On(c);return u&&s.push(new ji(u)),s},[]);return new ou(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var PM=(()=>{class t{zone=L(ge);changeDetectionScheduler=L(Mn);applicationRef=L(Ns);applicationErrorHandler=L(wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eT=new Y("",{factory:()=>!1});function ep({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(Fe(Oe({},tp()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:xn,multi:!0,useFactory:()=>{let r=L(PM,{optional:!0});return()=>r.initialize()}},{provide:xn,multi:!0,useFactory:()=>{let r=L(kM);return()=>{r.initialize()}}},e===!0?{provide:zf,useValue:!0}:[],{provide:Gf,useValue:n??KI},{provide:wt,useFactory:()=>{let r=L(ge),i=L(it),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Cr),o.handleError(s))})}}}]}function MM(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ep({ngZoneFactory:()=>{let i=tp(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Fh("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Nt([{provide:eT,useValue:!0},{provide:gs,useValue:!1},r])}function tp(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kM=(()=>{class t{subscription=new Te;initialized=!1;zone=L(ge);pendingTasks=L(Un);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tT=(()=>{class t{applicationErrorHandler=L(wt);appRef=L(Ns);taskService=L(Un);ngZone=L(ge);zonelessEnabled=L(gs);tracing=L(Oh,{optional:!0});disableScheduling=L(zf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Gf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?zE:QI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xM(){return typeof $localize<"u"&&$localize.locale||Rs}var fu=new Y("",{providedIn:"root",factory:()=>L(fu,{optional:!0,skipSelf:!0})||xM()});function hu(t){return V_(t)}function OM(t,e){return mc(t,e?.equal)}var nT=class{[ze];constructor(e){this[ze]=e}destroy(){this[ze].destroy()}};var sT=Symbol("InputSignalNode#UNSET"),zM=Fe(Oe({},yc),{transformFn:void 0,applyValueToInputSignal(t,e){Di(t,e)}});function aT(t,e){let n=Object.create(zM);n.value=t,n.transformFn=e?.transform;function r(){if(Ii(n),n.value===sT){let i=null;throw new J(-950,i)}return n.value}return r[ze]=n,r}var GM=new Y("");GM.__NG_ELEMENT_ID__=t=>{let e=st();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new J(204,!1)};function rT(t,e){return aT(t,e)}function WM(t){return aT(sT,t)}var ZW=(rT.required=WM,rT);var np=new Y(""),KM=new Y("");function Ps(t){return!t.moduleRef}function QM(t){let e=Ps(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{Ps(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ps(t)){let o=()=>e.destroy(),s=t.platformInjector.get(np);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(np);s.add(o),t.moduleRef.onDestroy(()=>{vs(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return ZM(r,n,()=>{let o=e.get(Un),s=o.add(),c=e.get(Yh);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(fu,Rs);if(Hw(u||Rs),!e.get(KM,!0))return Ps(t)?e.get(Ns):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ps(t)){let h=e.get(Ns);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return YM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var YM;function ZM(t,e,n){try{let r=n();return As(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var pu=null;function JM(t=[],e){return tt.create({name:e,providers:[{provide:If,useValue:"platform"},{provide:np,useValue:new Set([()=>pu=null])},...t]})}function XM(t=[]){if(pu)return pu;let e=JM(t);return pu=e,jw(),ek(e),e}function ek(t){let e=t.get(kI,null);Fn(t,()=>{e?.forEach(n=>n())})}function ap(){return!1}var cT=(()=>{class t{static __NG_ELEMENT_ID__=tk}return t})();function tk(t){return nk(st(),ue(),(t&16)===16)}function nk(t,e,n){if(jn(t)&&!n){let r=It(t.index,e);return new $n(r,r)}else if(t.type&175){let r=e[_t];return new $n(r,e)}return null}var rp=class{constructor(){}supports(e){return Wh(e)}create(e){return new ip(e)}},rk=(t,e)=>e,ip=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||rk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<iT(r,i,o)?n:r,c=iT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Wh(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,bw(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new op(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},op=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},sp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iT(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function oT(){return new cp([new rp])}var cp=(()=>{class t{factories;static \u0275prov=fe({token:t,providedIn:"root",factory:oT});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=L(t,{optional:!0,skipSelf:!0});return t.create(n,r||oT())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new J(901,!1)}}return t})();function JW(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;he(8);try{let o=i?.injector??XM(r),s=[ep({}),{provide:Mn,useExisting:tT},xE,...n||[]],c=new Ts({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return QM({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{he(9)}}function XW(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var dT=null;function mu(){return dT}function ik(t){dT??=t}var lp=class{},dp=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:()=>L(fT),providedIn:"platform"})}return t})();var fT=(()=>{class t extends dp{_location;_history;_doc=L(Mi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mu().getBaseHref(this._doc)}onPopState(n){let r=mu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function hT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function uT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Hn(t){return t&&t[0]!=="?"?`?${t}`:t}var yu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:()=>L(gT),providedIn:"root"})}return t})(),pT=new Y(""),gT=(()=>{class t extends yu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Mi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Hn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Hn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Hn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ve(dp),Ve(pT,8))};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mT=(()=>{class t{_subject=new on;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=ak(uT(lT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hn(r))}normalize(n){return t.stripTrailingSlash(sk(this._basePath,lT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Hn;static joinWithSlash=hT;static stripTrailingSlash=uT;static \u0275fac=function(r){return new(r||t)(Ve(yu))};static \u0275prov=fe({token:t,factory:()=>ok(),providedIn:"root"})}return t})();function ok(){return new mT(Ve(yu))}function sk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lT(t){return t.replace(/\/index.html$/,"")}function ak(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_T=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),yT(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Tt(Ss),Tt(bs),Tt(cp))};static \u0275dir=lu({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function yT(t,e){t.context.$implicit=e.item}var ck=(()=>{class t{_viewContainer;_context=new _u;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Tt(Ss),Tt(bs))};static \u0275dir=lu({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),_u=class{$implicit=null;ngIf=null};function vT(t,e){if(t&&!t.createEmbeddedView)throw new J(2020,!1)}function uk(t,e){return new J(2100,!1)}var fp=class{createSubscription(e,n,r){return hu(()=>e.subscribe({next:n,error:r}))}dispose(e){hu(()=>e.unsubscribe())}},hp=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},lk=new hp,dk=new fp,fk=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=L(wt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(As(n))return lk;if(du(n))return dk;throw uk(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Tt(cT,16))};static \u0275pipe=Qh({name:"async",type:t,pure:!1})}return t})();var hk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kh({type:t});static \u0275inj=Tc({})}return t})();function pk(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pp=class{};var N7="browser";var ET=()=>{};var TT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Eu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new mp;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mk=function(t){let e=TT(t);return Eu.encodeByteArray(e,!0)},ks=function(t){return mk(t).replace(/\./g,"")},Iu=function(t){try{return Eu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yk=()=>vp().__FIREBASE_DEFAULTS__,vk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_k=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Iu(t[1]);return e&&JSON.parse(e)},wu=()=>{try{return ET()||yk()||vk()||_k()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_p=t=>{var e,n;return(n=(e=wu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{let e=_p(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ep=()=>{var t;return(t=wu())===null||t===void 0?void 0:t.config},Ip=t=>{var e;return(e=wu())===null||e===void 0?void 0:e[`_${t}`]};var Vr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function qn(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Tu(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function bT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ks(JSON.stringify(n)),ks(JSON.stringify(s)),""].join(".")}var Ms={};function Ek(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ms))Ms[e]?t.emulator.push(e):t.prod.push(e);return t}function Ik(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var IT=!1;function Du(t,e){if(typeof window>"u"||typeof document>"u"||!qn(window.location.host)||Ms[t]===e||Ms[t]||IT)return;Ms[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Ek().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{IT=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=Ik(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),P=n("learnmore"),R=document.getElementById(P)||document.createElement("a"),x=n("preprendIcon"),U=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;c(Q),h(R,P);let le=l();u(U,x),Q.append(U,S,R,le),document.body.appendChild(Q)}o?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Re(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function wk(){var t;let e=(t=wu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){let t=Re();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PT(){return!wk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xs(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Tk="FirebaseError",ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}},kt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Dk(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new ht(i,c,r)}};function Dk(t,e){return t.replace(bk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bk=/\{\$([^}]+)}/g;function kT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wT(o)&&wT(s)){if(!zt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wT(t){return t!==null&&typeof t=="object"}function Os(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xT(t,e){let n=new yp(t,e);return n.subscribe.bind(n)}var yp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ck(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gp),i.error===void 0&&(i.error=gp),i.complete===void 0&&(i.complete=gp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ck(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gp(){}var V7=14400*1e3;function we(t){return t&&t._delegate?t._delegate:t}var nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jr="[DEFAULT]";var wp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sk(t){return t===jr?void 0:t}function Ak(t){return t.instantiationMode==="EAGER"}var bu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Nk=[],ee=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ee||{}),Rk={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Pk=ee.INFO,Mk={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},kk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Mk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=Pk,this._logHandler=kk,this._userLogHandler=null,Nk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var xk=(t,e)=>e.some(n=>t instanceof n),OT,FT;function Ok(){return OT||(OT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fk(){return FT||(FT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LT=new WeakMap,Dp=new WeakMap,VT=new WeakMap,Tp=new WeakMap,Cp=new WeakMap;function Lk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,t)}).catch(()=>{}),Cp.set(e,t),e}function Vk(t){if(Dp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dp.set(t,e)}var bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jT(t){bp=t(bp)}function jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cu(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),Wt(r)}:Fk().includes(t)?function(...e){return t.apply(Cu(this),e),Wt(LT.get(this))}:function(...e){return Wt(t.apply(Cu(this),e))}}function Bk(t){return typeof t=="function"?jk(t):(t instanceof IDBTransaction&&Vk(t),xk(t,Ok())?new Proxy(t,bp):t)}function Wt(t){if(t instanceof IDBRequest)return Lk(t);if(Tp.has(t))return Tp.get(t);let e=Bk(t);return e!==t&&(Tp.set(t,e),Cp.set(e,t)),e}var Cu=t=>Cp.get(t);function UT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Wt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Wt(s.result),u.oldVersion,u.newVersion,Wt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Uk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],Sp=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$k.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uk.includes(n)))return;let o=function(s,...c){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Sp.set(e,o),o}jT(t=>Fe(Oe({},t),{get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));var Np=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Hk(t){let e=t.getComponent();return e?.type==="VERSION"}var Rp="@firebase/app",$T="0.13.2";var ln=new Gt("@firebase/app"),qk="@firebase/app-compat",zk="@firebase/analytics-compat",Gk="@firebase/analytics",Wk="@firebase/app-check-compat",Kk="@firebase/app-check",Qk="@firebase/auth",Yk="@firebase/auth-compat",Zk="@firebase/database",Jk="@firebase/data-connect",Xk="@firebase/database-compat",ex="@firebase/functions",tx="@firebase/functions-compat",nx="@firebase/installations",rx="@firebase/installations-compat",ix="@firebase/messaging",ox="@firebase/messaging-compat",sx="@firebase/performance",ax="@firebase/performance-compat",cx="@firebase/remote-config",ux="@firebase/remote-config-compat",lx="@firebase/storage",dx="@firebase/storage-compat",fx="@firebase/firestore",hx="@firebase/ai",px="@firebase/firestore-compat",gx="firebase",mx="11.10.0";var Pp="[DEFAULT]",yx={[Rp]:"fire-core",[qk]:"fire-core-compat",[Gk]:"fire-analytics",[zk]:"fire-analytics-compat",[Kk]:"fire-app-check",[Wk]:"fire-app-check-compat",[Qk]:"fire-auth",[Yk]:"fire-auth-compat",[Zk]:"fire-rtdb",[Jk]:"fire-data-connect",[Xk]:"fire-rtdb-compat",[ex]:"fire-fn",[tx]:"fire-fn-compat",[nx]:"fire-iid",[rx]:"fire-iid-compat",[ix]:"fire-fcm",[ox]:"fire-fcm-compat",[sx]:"fire-perf",[ax]:"fire-perf-compat",[cx]:"fire-rc",[ux]:"fire-rc-compat",[lx]:"fire-gcs",[dx]:"fire-gcs-compat",[fx]:"fire-fst",[px]:"fire-fst-compat",[hx]:"fire-vertex","fire-js":"fire-js",[gx]:"fire-js-all"};var Fs=new Map,vx=new Map,Mp=new Map;function HT(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xt(t){let e=t.name;if(Mp.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,t);for(let n of Fs.values())HT(n,t);for(let n of vx.values())HT(n,t);return!0}function zi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pt(t){return t==null?!1:t.settings!==void 0}var _x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new kt("app","Firebase",_x);var kp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}};var Gn=mx;function Fp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=Ep()),!n)throw zn.create("no-options");let o=Fs.get(i);if(o){if(zt(n,o.options)&&zt(r,o.config))return o;throw zn.create("duplicate-app",{appName:i})}let s=new bu(i);for(let u of Mp.values())s.addComponent(u);let c=new kp(n,r,s);return Fs.set(i,c),c}function Br(t=Pp){let e=Fs.get(t);if(!e&&t===Pp&&Ep())return Fp();if(!e)throw zn.create("no-app",{appName:t});return e}function Su(){return Array.from(Fs.values())}function _e(t,e,n){var r;let i=(r=yx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(c.join(" "));return}xt(new nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ex="firebase-heartbeat-database",Ix=1,Ls="firebase-heartbeat-store",Ap=null;function WT(){return Ap||(Ap=UT(Ex,Ix,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),Ap}function wx(t){return _(this,null,function*(){try{let n=(yield WT()).transaction(Ls),r=yield n.objectStore(Ls).get(KT(t));return yield n.done,r}catch(e){if(e instanceof ht)ln.warn(e.message);else{let n=zn.create("idb-get",{originalErrorMessage:e?.message});ln.warn(n.message)}}})}function qT(t,e){return _(this,null,function*(){try{let r=(yield WT()).transaction(Ls,"readwrite");yield r.objectStore(Ls).put(e,KT(t)),yield r.done}catch(n){if(n instanceof ht)ln.warn(n.message);else{let r=zn.create("idb-set",{originalErrorMessage:n?.message});ln.warn(r.message)}}})}function KT(t){return`${t.name}!${t.options.appId}`}var Tx=1024,Dx=30,xp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Op(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Dx){let s=Cx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ln.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zT(),{heartbeatsToSend:r,unsentEntries:i}=bx(this._heartbeatsCache.heartbeats),o=ks(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ln.warn(n),""}})}};function zT(){return new Date().toISOString().substring(0,10)}function bx(t,e=Tx){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Op=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return xs()?MT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield wx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function GT(t){return ks(JSON.stringify({version:2,heartbeats:t})).length}function Cx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Sx(t){xt(new nt("platform-logger",e=>new Np(e),"PRIVATE")),xt(new nt("heartbeat",e=>new xp(e),"PRIVATE")),_e(Rp,$T,t),_e(Rp,$T,"esm2017"),_e("fire-js","")}Sx("");var Ax="firebase",Nx="11.10.0";_e(Ax,Nx,"app");function QT(t){t===void 0&&(t=L(tt));let e=t.get(xi);return n=>new G(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Wn=new Ci("ANGULARFIRE2_VERSION");function Vs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wi=(t,e)=>{let n=e?[e]:Su(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Gi=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Gi||{}),YT=ap()&&typeof Zone<"u"?Gi.WARN:Gi.SILENT;var Au=class{zone;delegate;constructor(e,n=Md){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Kn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=L(ge);this.outsideAngular=n.runOutsideAngular(()=>new Au(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Au(typeof Zone>"u"?void 0:Zone.current,Pd))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZT=!1;function Rx(t,e){!ZT&&(YT>Gi.SILENT||ap())&&(ZT=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),YT>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Px(t){let e=L(ge,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ur(t){let e=L(ge,{optional:!0});return e?e.run(()=>t()):t()}var Mx=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Fn(n,()=>Ur(()=>t.apply(void 0,r)))),Ke=(t,e,n)=>(n||=e?Gi.WARN:Gi.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=L(Kn),s=L(xi),c=L(it)}catch{return Rx(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ur(()=>s.add())),i[l]=Mx(i[l],r,c));let u=Px(()=>t.apply(this,i));return e?u instanceof G?u.pipe(Nn(o.outsideAngular),An(o.insideAngular),QT(c)):u instanceof Promise?Ur(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Fn(c,()=>Ur(()=>h(m))),m=>Fn(c,()=>Ur(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ur(()=>u):u instanceof G?u.pipe(Nn(o.outsideAngular),An(o.insideAngular)):Ur(()=>u)});var dn=class{constructor(e){return e}},$r=class{constructor(){return Su()}};function kx(t){return t&&t.length===1?t[0]:new dn(Br())}var Lp=new Y("angularfire2._apps"),xx={provide:dn,useFactory:kx,deps:[[new ft,Lp]]},Ox={provide:$r,deps:[[new ft,Lp]]};function Fx(t){return(e,n)=>{let r=n.get(Sh);_e("angularfire",Wn.full,"core"),_e("angularfire",Wn.full,"app"),_e("angular",nf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new dn(i)}}function kK(t,...e){return Nt([xx,Ox,{provide:Lp,useFactory:Fx(t),multi:!0,deps:[ge,tt,Kn,...e]}])}var xK=Ke(Fp,!0);var Lx=new Map,Vx={activated:!1,tokenObservers:[]},jx={initialized:!1,enabled:!1};function Ot(t){return Lx.get(t)||Object.assign({},Vx)}function tD(){return jx}var Bx="https://content-firebaseappcheck.googleapis.com/v1";var Ux="exchangeDebugToken",JT={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},HK=1440*60*1e3;var Bp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Vr,this.pending.promise.catch(n=>{}),yield $x(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Vr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function $x(t){return new Promise(e=>{setTimeout(e,t)})}var Hx={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Qn=new kt("appCheck","AppCheck",Hx);function nD(t){if(!Ot(t).activated)throw Qn.create("use-before-activation",{appName:t.name})}function rD(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw Qn.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Qn.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Qn.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function iD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Bx}/projects/${n}/apps/${r}:${Ux}?key=${i}`,body:{debug_token:e}}}var qx="firebase-app-check-database",zx=1,Up="firebase-app-check-store";var Nu=null;function Gx(){return Nu||(Nu=new Promise((t,e)=>{try{let n=indexedDB.open(qx,zx);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Up,{keyPath:"compositeKey"})}}}catch(n){e(Qn.create("storage-open",{originalErrorMessage:n?.message}))}}),Nu)}function Wx(t,e){return Kx(Qx(t),e)}function Kx(t,e){return _(this,null,function*(){let r=(yield Gx()).transaction(Up,"readwrite"),o=r.objectStore(Up).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Qn.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Qx(t){return`${t.options.appId}-${t.name}`}var js=new Gt("@firebase/app-check");function Vp(t,e){return xs()?Wx(t,e).catch(n=>{js.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oD(){return tD().enabled}function sD(){return _(this,null,function*(){let t=tD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Yx={error:"UNKNOWN_ERROR"};function Zx(t){return Eu.encodeString(JSON.stringify(t),!1)}function $p(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;nD(r);let i=Ot(r),o=i.token,s;if(o&&!Bs(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Bs(l)?o=l:yield Vp(r,void 0))}if(!e&&o&&Bs(o))return{token:o.token};let c=!1;if(oD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=rD(iD(r,yield sD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Vp(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?js.warn(l.message):n&&js.error(l),jp(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Ot(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?js.warn(l.message):n&&js.error(l),s=l}let u;return o?s?Bs(o)?u={token:o.token,internalError:s}:u=jp(s):(u={token:o.token},i.token=o,yield Vp(r,o)):u=jp(s),c&&tO(r,u),u})}function Jx(t){return _(this,null,function*(){let e=t.app;nD(e);let{provider:n}=Ot(e);if(oD()){let r=yield sD(),{token:i}=yield rD(iD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Xx(t,e,n,r){let{app:i}=t,o=Ot(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Bs(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),XT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XT(t))}function aD(t,e){let n=Ot(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XT(t){let{app:e}=t,n=Ot(e),r=n.tokenRefresher;r||(r=eO(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function eO(t){let{app:e}=t;return new Bp(()=>_(null,null,function*(){let n=Ot(e),r;if(n.token?r=yield $p(t,!0):r=yield $p(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ot(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},JT.RETRIAL_MIN_WAIT,JT.RETRIAL_MAX_WAIT)}function tO(t,e){let n=Ot(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Bs(t){return t.expireTimeMillis-Date.now()>0}function jp(t){return{token:Zx(Yx),error:t}}var Hp=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ot(this.app);for(let n of e)aD(this.app,n.next);return Promise.resolve()}};function nO(t,e){return new Hp(t,e)}function rO(t){return{getToken:e=>$p(t,e),getLimitedUseToken:()=>Jx(t),addTokenListener:e=>Xx(t,"INTERNAL",e),removeTokenListener:e=>aD(t.app,e)}}var iO="@firebase/app-check",oO="0.10.1";var sO="app-check",eD="app-check-internal";function aO(){xt(new nt(sO,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return nO(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eD).initialize()})),xt(new nt(eD,t=>{let e=t.getProvider("app-check").getImmediate();return rO(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(iO,oO)}aO();var cO="app-check";var Ki=class{constructor(){return Wi(cO)}};var uO=["localhost","0.0.0.0","127.0.0.1"],nQ=typeof window<"u"&&uO.includes(window.location.hostname);function DD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bD=DD,CD=new kt("auth","Firebase",DD());var Ou=new Gt("@firebase/auth");function lO(t,...e){Ou.logLevel<=ee.WARN&&Ou.warn(`Auth (${Gn}): ${t}`,...e)}function Pu(t,...e){Ou.logLevel<=ee.ERROR&&Ou.error(`Auth (${Gn}): ${t}`,...e)}function Qt(t,...e){throw hg(t,...e)}function Hr(t,...e){return hg(t,...e)}function SD(t,e,n){let r=Object.assign(Object.assign({},bD()),{[e]:n});return new kt("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return SD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CD.create(t,...e)}function B(t,e,...n){if(!t)throw hg(e,...n)}function fn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function Xn(t,e){t||fn(e)}function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dO(){return cD()==="http:"||cD()==="https:"}function cD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dO()||AT()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=CT()||NT()}get(){return fO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pg(t,e){Xn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mO=new qr(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function er(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return AD(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Os(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return ST()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&qn(t.emulatorConfig.host)&&(y.credentials="include"),Fu.fetch()(yield ND(t,t.config.apiHost,n,p),y)}))})}function AD(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},pO),e);try{let i=new Kp(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ru(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ru(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ru(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw SD(t,h,l);Qt(t,h)}}catch(i){if(i instanceof ht)throw i;Qt(t,"network-request-failed",{message:String(i)})}})}function Wu(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield er(t,e,n,r,i);return"mfaPendingCredential"in l&&Qt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ND(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?pg(t.config,i):`${t.config.apiScheme}://${i}`;return gO.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function yO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kp=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),mO.get())})}};function Ru(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function uD(t){return t!==void 0&&t.enterprise!==void 0}var Qp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function vO(t,e){return _(this,null,function*(){return er(t,"GET","/v2/recaptchaConfig",Gr(t,e))})}function _O(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:delete",e)})}function Lu(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:lookup",e)})}function $s(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gg(t,e=!1){return _(this,null,function*(){let n=we(t),r=yield n.getIdToken(e),i=mg(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$s(qp(i.auth_time)),issuedAtTime:$s(qp(i.iat)),expirationTime:$s(qp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function qp(t){return Number(t)*1e3}function mg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Iu(n);return i?JSON.parse(i):(Pu("Failed to decode base64 JWT payload"),null)}catch(i){return Pu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lD(t){let e=mg(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qs(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ht&&EO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function EO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Yp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$s(this.lastLoginAt),this.creationTime=$s(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vu(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qs(t,Lu(n,{idToken:r}));B(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RD(o.providerUserInfo):[],c=IO(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zs(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function yg(t){return _(this,null,function*(){let e=we(t);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function IO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RD(t){return t.map(e=>{var{providerId:n}=e,r=kd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wO(t,e){return _(this,null,function*(){let n=yield AD(t,{},()=>_(null,null,function*(){let r=Os({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield ND(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&qn(t.emulatorConfig.host)&&(u.credentials="include"),Fu.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function TO(t,e){return _(this,null,function*(){return er(t,"POST","/v2/accounts:revokeToken",Gr(t,e))})}var Hs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){B(e.length!==0,"internal-error");let n=lD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield wO(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(B(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(B(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return fn("not implemented")}};function Yn(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield qs(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gg(this,e)}reload(){return yg(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(pt(this.auth.app))return Promise.reject(Jn(this.auth));let e=yield this.getIdToken();return yield qs(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:le,isAnonymous:Ze,providerData:ce,stsTokenManager:T}=n;B(Q&&T,e,"internal-error");let v=Hs.fromJSON(this.name,T);B(typeof Q=="string",e,"internal-error"),Yn(p,e.name),Yn(m,e.name),B(typeof le=="boolean",e,"internal-error"),B(typeof Ze=="boolean",e,"internal-error"),Yn(y,e.name),Yn(S,e.name),Yn(P,e.name),Yn(R,e.name),Yn(x,e.name),Yn(U,e.name);let I=new t({uid:Q,auth:e,email:m,emailVerified:le,displayName:p,isAnonymous:Ze,photoURL:S,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:x,lastLoginAt:U});return ce&&Array.isArray(ce)&&(I.providerData=ce.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Hs;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];B(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?RD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Hs;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var dD=new Map;function hn(t){Xn(t instanceof Function,"Expected a class definition");let e=dD.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dD.set(t,e),e)}var DO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Zp=DO;function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}var ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Lu(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(hn(Zp),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||hn(Zp),s=Mu(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Lu(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Zn._fromGetAccountInfoResponse(e,m,h)}else p=Zn._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function fD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FD(e))return"Blackberry";if(LD(e))return"Webos";if(MD(e))return"Safari";if((e.includes("chrome/")||kD(e))&&!e.includes("edge/"))return"Chrome";if(OD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function PD(t=Re()){return/firefox\//i.test(t)}function MD(t=Re()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kD(t=Re()){return/crios\//i.test(t)}function xD(t=Re()){return/iemobile/i.test(t)}function OD(t=Re()){return/android/i.test(t)}function FD(t=Re()){return/blackberry/i.test(t)}function LD(t=Re()){return/webos/i.test(t)}function vg(t=Re()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bO(t=Re()){var e;return vg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CO(){return RT()&&document.documentMode===10}function VD(t=Re()){return vg(t)||OD(t)||LD(t)||FD(t)||/windows phone/i.test(t)||xD(t)}function jD(t,e=[]){let n;switch(t){case"Browser":n=fD(Re());break;case"Worker":n=`${fD(Re())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${r}`}var Jp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function SO(n){return _(this,arguments,function*(t,e={}){return er(t,"GET","/v2/passwordPolicy",Gr(t,e))})}var AO=6,Xp=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var eg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bu(this),this.idTokenSubscription=new Bu(this),this.beforeStateQueue=new Jp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Lu(this,{idToken:e}),r=yield Zn._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(pt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Vu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hO()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(pt(this.app))return Promise.reject(Jn(this));let n=e?we(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return pt(this.app)?Promise.reject(Jn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pt(this.app)?Promise.reject(Jn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(hn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield SO(this),n=new Xp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield TO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&hn(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=yield ju.create(this,[hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qi(t){return we(t)}var Bu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xT(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ku={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(t){Ku=t}function BD(t){return Ku.loadJS(t)}function RO(){return Ku.recaptchaEnterpriseScript}function PO(){return Ku.gapiScript}function UD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tg=class{constructor(){this.enterprise=new ng}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},ng=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var MO="recaptcha-enterprise",$D="NO_RECAPTCHA",rg=class{constructor(e){this.type=MO,this.auth=Qi(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>_(null,null,function*(){vO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Qp(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;uD(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s($D)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tg().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&uD(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=RO();u.length!==0&&(u+=c),BD(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function Us(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new rg(t),s;if(i)s=$D;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function hD(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Us(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>_(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Us(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let c=yield Us(t,e,n);return r(t,c).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Us(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let c=yield Us(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function _g(t,e){let n=zi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(zt(o,e??{}))return i;Qt(i,"already-initialized")}return n.initialize({options:e})}function kO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Eg(t,e,n){let r=Qi(t);B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=HD(e),{host:s,port:c}=xO(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B(zt(l,r.config.emulator)&&zt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,qn(s)?(Tu(`${o}//${s}${u}`),Du("Auth",!0)):i||OO()}function HD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xO(t){let e=HD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:pD(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:pD(s)}}}function pD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function OO(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Gs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fn("not implemented")}_getIdTokenResponse(e){return fn("not implemented")}_linkToIdToken(e,n){return fn("not implemented")}_getReauthenticationResolver(e){return fn("not implemented")}};function FO(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:signUp",e)})}function LO(t,e){return _(this,null,function*(){return Wu(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))})}function VO(t,e){return _(this,null,function*(){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}function jO(t,e){return _(this,null,function*(){return Wu(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}var Ws=class t extends Gs{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hD(e,n,"signInWithPassword",LO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hD(e,r,"signUpPassword",FO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jO(e,{idToken:n,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function zp(t,e){return _(this,null,function*(){return Wu(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))})}function BO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UO(t){let e=Hi(qi(t)).link,n=e?Hi(qi(e)).deep_link_id:null,r=Hi(qi(t)).deep_link_id;return(r?Hi(qi(r)).link:null)||r||n||e||t}var Uu=class t{constructor(e){var n,r,i,o,s,c;let u=Hi(qi(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=BO((i=u.mode)!==null&&i!==void 0?i:null);B(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=UO(e);try{return new t(n)}catch{return null}}};var qD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ws._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Uu.parseLink(r);return B(i,"argument-error"),Ws._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),$u=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ig=class extends $u{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Zn._fromIdTokenResponse(e,r,i),s=gD(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=gD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function gD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var og=class t extends ht{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function zD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(t,o,e,r):o})}function $O(t,e,n=!1){return _(this,null,function*(){let r=yield qs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ks._forOperation(t,"link",r)})}function HO(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(pt(r.app))return Promise.reject(Jn(r));let i="reauthenticate";try{let o=yield qs(t,zD(r,i,e,t),n);B(o.idToken,r,"internal-error");let s=mg(o.idToken);B(s,r,"internal-error");let{sub:c}=s;return B(t.uid===c,r,"user-mismatch"),Ks._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qt(r,"user-mismatch"),o}})}function GD(t,e,n=!1){return _(this,null,function*(){if(pt(t.app))return Promise.reject(Jn(t));let r="signIn",i=yield zD(t,r,e),o=yield Ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ig(t,e){return _(this,null,function*(){return GD(Qi(t),e)})}function qO(t){return _(this,null,function*(){let e=Qi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function wg(t,e,n){return pt(t.app)?Promise.reject(Jn(t)):Ig(we(t),qD.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&qO(t),r}))}function Qu(t,e,n,r){return we(t).onIdTokenChanged(e,n,r)}function Tg(t,e,n){return we(t).beforeAuthStateChanged(e,n)}function Yu(t,e,n,r){return we(t).onAuthStateChanged(e,n,r)}var Hu="__sak";var qu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zO=1e3,GO=10,WO=(()=>{class t extends qu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);CO()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,GO):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},zO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Cn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Cn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Cn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),WD=WO;var KO=(()=>{class t extends qu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Dg=KO;function QO(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var YO=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield QO(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function KD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var sg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=KD("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Kt(){return window}function ZO(t){Kt().location.href=t}function QD(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}function JO(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e1(){return QD()?self:null}var YD="firebaseLocalStorageDb",t1=1,zu="firebaseLocalStorage",ZD="fbase_key",zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Zu(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function n1(){let t=indexedDB.deleteDatabase(YD);return new zr(t).toPromise()}function ag(){let t=indexedDB.open(YD,t1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(zu,{keyPath:ZD})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(zu)?e(r):(r.close(),yield n1(),e(yield ag()))}))})}function mD(t,e,n){return _(this,null,function*(){let r=Zu(t,!0).put({[ZD]:e,value:n});return new zr(r).toPromise()})}function r1(t,e){return _(this,null,function*(){let n=Zu(t,!1).get(e),r=yield new zr(n).toPromise();return r===void 0?null:r.value})}function yD(t,e){let n=Zu(t,!0).delete(e);return new zr(n).toPromise()}var i1=800,o1=3,s1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield ag(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>o1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return QD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=YO._getInstance(e1()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield JO(),!this.activeServiceWorker)return;this.sender=new sg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XO()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ag();return yield mD(n,Hu,"1"),yield yD(n,Hu),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>mD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>r1(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>yD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Zu(o,!1).getAll();return new zr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),i1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),JD=s1;var lQ=UD("rcb"),dQ=new qr(3e4,6e4);function a1(t,e){return e?hn(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Qs=class extends Gs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function c1(t){return GD(t.auth,new Qs(t),t.bypassAuthState)}function u1(t){let{auth:e,user:n}=t;return B(n,e,"internal-error"),HO(n,new Qs(t),t.bypassAuthState)}function l1(t){return _(this,null,function*(){let{auth:e,user:n}=t;return B(n,e,"internal-error"),$O(n,new Qs(t),t.bypassAuthState)})}var cg=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c1;case"linkViaPopup":case"linkViaRedirect":return l1;case"reauthViaPopup":case"reauthViaRedirect":return u1;default:Qt(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fQ=new qr(2e3,1e4);var d1="pendingRedirect",ku=new Map,ug=class t extends cg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=ku.get(this.auth._key());if(!e){try{let r=(yield f1(this.resolver,this.auth))?yield Cn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Cn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function f1(t,e){return _(this,null,function*(){let n=g1(e),r=p1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function h1(t,e){ku.set(t._key(),e)}function p1(t){return hn(t._redirectPersistence)}function g1(t){return Mu(d1,t.config.apiKey,t.name)}function m1(t,e,n=!1){return _(this,null,function*(){if(pt(t.app))return Promise.reject(Jn(t));let r=Qi(t),i=a1(r,e),s=yield new ug(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var y1=600*1e3,lg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y1&&this.cachedEventUids.clear(),this.cachedEventUids.has(vD(e))}saveEventToCache(e){this.cachedEventUids.add(vD(e)),this.lastProcessedEventTime=Date.now()}};function vD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function v1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XD(t);default:return!1}}function _1(n){return _(this,arguments,function*(t,e={}){return er(t,"GET","/v1/projects",e)})}var E1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I1=/^https?/;function w1(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _1(t);for(let n of e)try{if(T1(n))return}catch{}Qt(t,"unauthorized-domain")})}function T1(t){let e=Wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!I1.test(n))return!1;if(E1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D1=new qr(3e4,6e4);function _D(){let t=Kt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b1(t){return new Promise((e,n)=>{var r,i,o;function s(){_D(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_D(),n(Hr(t,"network-request-failed"))},timeout:D1.get()})}if(!((i=(r=Kt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kt().gapi)===null||o===void 0)&&o.load)s();else{let c=UD("iframefcb");return Kt()[c]=()=>{gapi.load?s():n(Hr(t,"network-request-failed"))},BD(`${PO()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw xu=null,e})}var xu=null;function C1(t){return xu=xu||b1(t),xu}var S1=new qr(5e3,15e3),A1="__/auth/iframe",N1="emulator/auth/iframe",R1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M1(t){let e=t.config;B(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pg(e,N1):`https://${t.config.authDomain}/${A1}`,r={apiKey:e.apiKey,appName:t.name,v:Gn},i=P1.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Os(r).slice(1)}`}function k1(t){return _(this,null,function*(){let e=yield C1(t),n=Kt().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:M1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R1,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Hr(t,"network-request-failed"),c=Kt().setTimeout(()=>{o(s)},S1.get());function u(){Kt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var x1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O1=500,F1=600,L1="_blank",V1="http://localhost",Gu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function j1(t,e,n,r=O1,i=F1){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},x1),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Re().toLowerCase();n&&(c=kD(l)?L1:n),PD(l)&&(e=e||V1,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(bO(l)&&c!=="_self")return B1(e||"",c),new Gu(null);let p=window.open(e||"",c,h);B(p,t,"popup-blocked");try{p.focus()}catch{}return new Gu(p)}function B1(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var U1="__/auth/handler",$1="emulator/auth/handler",H1=encodeURIComponent("fac");function ED(t,e,n,r,i,o){return _(this,null,function*(){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(e instanceof $u){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",kT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ig){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${H1}=${encodeURIComponent(u)}`:"";return`${q1(t)}?${Os(c).slice(1)}${l}`})}function q1({config:t}){return t.emulator?pg(t,$1):`https://${t.authDomain}/${U1}`}var Gp="webStorageSupport",dg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dg,this._completeRedirectFn=m1,this._overrideRedirectResult=h1}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Xn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield ED(e,n,r,Wp(),i);return j1(e,s,KD())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield ED(e,n,r,Wp(),i);return ZO(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield k1(e),r=new lg(e);return n.register("authEvent",i=>(B(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gp,{type:Gp},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Gp];s!==void 0&&n(!!s),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VD()||MD()||vg()}},eb=dg;var ID="@firebase/auth",wD="1.10.8";var fg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function z1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G1(t){xt(new nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;B(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jD(t)},l=new eg(r,i,o,u);return kO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xt(new nt("auth-internal",e=>{let n=Qi(e.getProvider("auth").getImmediate());return(r=>new fg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(ID,wD,z1(t)),_e(ID,wD,"esm2017")}var W1=300,K1=Ip("authIdTokenMaxAge")||W1,TD=null,Q1=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K1)return;let i=n?.token;TD!==i&&(TD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function bg(t=Br()){let e=zi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_g(t,{popupRedirectResolver:eb,persistence:[JD,WD,Dg]}),r=Ip("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Q1(o.toString());Tg(n,s,()=>s(n.currentUser)),Qu(n,c=>s(c))}}let i=_p("auth");return i&&Eg(n,`http://${i}`),n}function Y1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Y1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G1("Browser");function nb(t){return new G(function(e){var n=Yu(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var rb="auth",Ys=class{constructor(e){return e}},Zs=class{constructor(){return Wi(rb)}};var Cg=new Y("angularfire2.auth-instances");function jF(t,e){let n=Vs(rb,t,e);return n&&new Ys(n)}function BF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ys(r)}}var UF={provide:Zs,deps:[[new ft,Cg]]},$F={provide:Ys,useFactory:jF,deps:[[new ft,Cg],dn]};function iY(t,...e){return _e("angularfire",Wn.full,"auth"),Nt([$F,UF,{provide:Cg,useFactory:BF(t),multi:!0,deps:[ge,tt,Kn,$r,[new ft,Ki],...e]}])}var oY=Ke(nb,!0);var sY=Ke(bg,!0);var aY=Ke(wg,!0,2);var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ob={};var pn,Sg;(function(){var t;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,C){for(var E=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)E[tn-2]=arguments[tn];return v.prototype[D].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var C=T.g[3],E=v+(C^I&(D^C))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[2]+606105819&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[6]+2821735955&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[10]+4294925233&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[14]+2792965006&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^C&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[11]+643717713&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[15]+3634488961&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[3]+4107603335&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[7]+1735328473&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^C)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[11]+1839030562&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[7]+4139469664&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[3]+3572445317&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[15]+530742520&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~C))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[14]+2878612391&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[10]+4293915773&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[6]+2734768916&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[2]+718787259&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<v;)if(w[D++]=T[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=c;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;w&&C==v||(I[D]=C,w=!1)}this.g=I}var c={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(P(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=le(I,v).g;I=x(I,D.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=x(this,T),P(T)?-1:S(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}t.abs=function(){return P(this)?R(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var C=w+(this.i(D)&65535)+(T.i(D)&65535),E=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,C&=65535,E&=65535,I[D]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(T,v){return T.add(R(v))}t.j=function(T){if(S(this)||S(T))return p;if(P(this))return P(T)?R(this).j(R(T)):R(R(this).j(T));if(P(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var C=this.i(w)>>>16,E=this.i(w)&65535,tn=T.i(D)>>>16,Do=T.i(D)&65535;I[2*w+2*D]+=E*Do,U(I,2*w+2*D),I[2*w+2*D+1]+=C*Do,U(I,2*w+2*D+1),I[2*w+2*D+1]+=E*tn,U(I,2*w+2*D+1),I[2*w+2*D+2]+=C*tn,U(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function U(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function Q(T,v){this.g=T,this.h=v}function le(T,v){if(S(v))throw Error("division by zero");if(S(T))return new Q(p,p);if(P(T))return v=le(R(T),v),new Q(R(v.g),R(v.h));if(P(v))return v=le(T,R(v)),new Q(R(v.g),v.h);if(30<T.g.length){if(P(T)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=Ze(I),w=Ze(w);var D=ce(I,1),C=ce(w,1);for(w=ce(w,2),I=ce(I,2);!S(w);){var E=C.add(w);0>=E.l(T)&&(D=D.add(I),C=E),w=ce(w,1),I=ce(I,1)}return v=x(T,D.j(v)),new Q(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(v);P(E)||0<E.l(T);)I-=w,C=l(I),E=C.j(v);S(C)&&(C=m),D=D.add(C),T=x(T,E)}return new Q(D,T)}t.A=function(T){return le(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function Ze(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function ce(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],C=0;C<w;C++)D[C]=0<v?T.i(C+I)>>>v|T.i(C+I+1)<<32-v:T.i(C+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sg=ob.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,pn=ob.Integer=s}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={};var Ag,HF,Yi,Ng,Js,Xu,Rg,Pg,Mg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in f))break e;f=f[b]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,b={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var k=Array(arguments.length-2),de=2;de<arguments.length;de++)k[de-2]=arguments[de];return d.prototype[b].apply(g,k)}}function P(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let k=0;k<A;k++)a[b+k]=g[k]}else a.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function le(a){return le[" "](a),a}le[" "]=function(){};var Ze=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function T(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)a[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function D(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function E(){var a=Ql;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class tn{constructor(){this.h=this.g=null}add(d,f){let g=Do.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Do=new x(()=>new VS,a=>a.reset());class VS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bo,Co=!1,Ql=new tn,Yy=()=>{let a=c.Promise.resolve(void 0);bo=()=>{a.then(jS)}};var jS=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(f){C(f)}var d=Do;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Co=!1};function wn(){this.s=this.s,this.C=this.C}wn.prototype.s=!1,wn.prototype.ma=function(){this.s||(this.s=!0,this.N())},wn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var BS=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function So(a,d){if(Be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ze){e:{try{le(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:US[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&So.aa.h.call(this)}}S(So,Be);var US={2:"touch",3:"pen",4:"mouse"};So.prototype.h=function(){So.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ao="closure_listenable_"+(1e6*Math.random()|0),$S=0;function HS(a,d,f,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++$S,this.da=this.fa=!1}function Ea(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ia(a){this.src=a,this.g={},this.h=0}Ia.prototype.add=function(a,d,f,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var k=Zl(a,d,g,b);return-1<k?(d=a[k],f||(d.fa=!1)):(d=new HS(d,this.src,A,!!g,b),d.fa=f,a.push(d)),d};function Yl(a,d){var f=d.type;if(f in a.g){var g=a.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Ea(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Zl(a,d,f,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Jl="closure_lm_"+(1e6*Math.random()|0),Xl={};function Zy(a,d,f,g,b){if(g&&g.once)return Xy(a,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Zy(a,d[A],f,g,b);return null}return f=rd(f),a&&a[Ao]?a.K(d,f,l(g)?!!g.capture:!!g,b):Jy(a,d,f,!1,g,b)}function Jy(a,d,f,g,b,A){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,de=td(a);if(de||(a[Jl]=de=new Ia(a)),f=de.add(d,f,g,k,A),f.proxy)return f;if(g=qS(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)BS||(b=k),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(tv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qS(){function a(f){return d.call(a.src,a.listener,f)}let d=zS;return a}function Xy(a,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Xy(a,d[A],f,g,b);return null}return f=rd(f),a&&a[Ao]?a.L(d,f,l(g)?!!g.capture:!!g,b):Jy(a,d,f,!0,g,b)}function ev(a,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)ev(a,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=rd(f),a&&a[Ao]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=Zl(A,f,g,b),-1<f&&(Ea(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=td(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Zl(d,f,g,b)),(f=-1<a?d[a]:null)&&ed(f))}function ed(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ao])Yl(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(tv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=td(d))?(Yl(f,a),f.h==0&&(f.src=null,d[Jl]=null)):Ea(a)}}}function tv(a){return a in Xl?Xl[a]:Xl[a]="on"+a}function zS(a,d){if(a.da)a=!0;else{d=new So(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&ed(a),a=f.call(g,d)}return a}function td(a){return a=a[Jl],a instanceof Ia?a:null}var nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function rd(a){return typeof a=="function"?a:(a[nd]||(a[nd]=function(d){return a.handleEvent(d)}),a[nd])}function Ue(){wn.call(this),this.i=new Ia(this),this.M=this,this.F=null}S(Ue,wn),Ue.prototype[Ao]=!0,Ue.prototype.removeEventListener=function(a,d,f,g){ev(this,a,d,f,g)};function Je(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Be(d,a);else if(d instanceof Be)d.target=d.target||a;else{var b=d;d=new Be(g,a),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];b=wa(k,g,!0,d)&&b}if(k=d.g=a,b=wa(k,g,!0,d)&&b,b=wa(k,g,!1,d)&&b,f)for(A=0;A<f.length;A++)k=d.g=f[A],b=wa(k,g,!1,d)&&b}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Ea(f[g]);delete a.g[d],a.h--}}this.F=null},Ue.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Ue.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function wa(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var de=k.listener,xe=k.ha||k.src;k.fa&&Yl(a.i,k),b=de.call(xe,g)!==!1&&b}}return b&&!g.defaultPrevented}function nv(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function rv(a){a.g=nv(()=>{a.g=null,a.i&&(a.i=!1,rv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class GS extends wn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(a){wn.call(this),this.h=a,this.g={}}S(No,wn);var iv=[];function ov(a){ce(a.g,function(d,f){this.g.hasOwnProperty(f)&&ed(d)},a),a.g={}}No.prototype.N=function(){No.aa.N.call(this),ov(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var id=c.JSON.stringify,WS=c.JSON.parse,KS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function od(){}od.prototype.h=null;function sv(a){return a.h||(a.h=a.i())}function av(){}var Ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sd(){Be.call(this,"d")}S(sd,Be);function ad(){Be.call(this,"c")}S(ad,Be);var fr={},cv=null;function Ta(){return cv=cv||new Ue}fr.La="serverreachability";function uv(a){Be.call(this,fr.La,a)}S(uv,Be);function Po(a){let d=Ta();Je(d,new uv(d))}fr.STAT_EVENT="statevent";function lv(a,d){Be.call(this,fr.STAT_EVENT,a),this.stat=d}S(lv,Be);function Xe(a){let d=Ta();Je(d,new lv(d,a))}fr.Ma="timingevent";function dv(a,d){Be.call(this,fr.Ma,a),this.size=d}S(dv,Be);function Mo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function QS(a,d,f,g,b,A){a.info(function(){if(a.g)if(A)for(var k="",de=A.split("&"),xe=0;xe<de.length;xe++){var oe=de[xe].split("=");if(1<oe.length){var $e=oe[0];oe=oe[1];var He=$e.split("_");k=2<=He.length&&He[1]=="type"?k+($e+"="+oe+"&"):k+($e+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+k})}function YS(a,d,f,g,b,A,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+k})}function si(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+JS(a,f)+(g?" "+g:"")})}function ZS(a,d){a.info(function(){return"TIMEOUT: "+d})}ko.prototype.info=function(){};function JS(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return id(f)}catch{return d}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cd;function ba(){}S(ba,od),ba.prototype.g=function(){return new XMLHttpRequest},ba.prototype.i=function(){return{}},cd=new ba;function Tn(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hv}function hv(){this.i=null,this.g="",this.h=!1}var pv={},ud={};function ld(a,d,f){a.L=1,a.v=Na(nn(d)),a.m=f,a.P=!0,gv(a,null)}function gv(a,d){a.F=Date.now(),Ca(a),a.A=nn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Nv(f.i,"t",g),a.C=0,f=a.j.J,a.h=new hv,a.g=Wv(a.j,f?d:null,!a.m),0<a.O&&(a.M=new GS(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(iv[0]=b.toString()),b=iv);for(var A=0;A<b.length;A++){var k=Zy(f,b[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Po(),QS(a.i,a.u,a.A,a.l,a.R,a.m)}Tn.prototype.ca=function(a){a=a.target;let d=this.M;d&&rn(a)==3?d.j():this.Y(a)},Tn.prototype.Y=function(a){try{if(a==this.g)e:{let He=rn(this.g);var d=this.g.Ba();let ui=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||Fv(this.g)))){this.J||He!=4||d==7||(d==8||0>=ui?Po(3):Po(2)),dd(this);var f=this.g.Z();this.X=f;t:if(mv(this)){var g=Fv(this.g);a="";var b=g.length,A=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),xo(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,YS(this.i,this.u,this.A,this.l,this.R,He,f),this.o){if(this.T&&!this.K){t:{if(this.g){var de,xe=this.g;if((de=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(de)){var oe=de;break t}}oe=null}if(f=oe)si(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fd(this,f);else{this.o=!1,this.s=3,Xe(12),hr(this),xo(this);break e}}if(this.P){f=!0;let Ct;for(;!this.J&&this.C<k.length;)if(Ct=XS(this,k),Ct==ud){He==4&&(this.s=4,Xe(14),f=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==pv){this.s=4,Xe(15),si(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else si(this.i,this.l,Ct,null),fd(this,Ct);if(mv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||k.length!=0||this.h.h||(this.s=1,Xe(16),f=!1),this.o=this.o&&f,!f)si(this.i,this.l,k,"[Invalid Chunked Response]"),hr(this),xo(this);else if(0<k.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),vd($e),$e.M=!0,Xe(11))}}else si(this.i,this.l,k,null),fd(this,k);He==4&&hr(this),this.o&&!this.J&&(He==4?Hv(this.j,this):(this.o=!1,Ca(this)))}else mA(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),hr(this),xo(this)}}}catch{}finally{}};function mv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function XS(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?ud:(f=Number(d.substring(f,g)),isNaN(f)?pv:(g+=1,g+f>d.length?ud:(d=d.slice(g,g+f),a.C=g+f,d)))}Tn.prototype.cancel=function(){this.J=!0,hr(this)};function Ca(a){a.S=Date.now()+a.I,yv(a,a.I)}function yv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Mo(m(a.ba,a),d)}function dd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Tn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(ZS(this.i,this.A),this.L!=2&&(Po(),Xe(17)),hr(this),this.s=2,xo(this)):yv(this,this.S-a)};function xo(a){a.j.G==0||a.J||Hv(a.j,a)}function hr(a){dd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,ov(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function fd(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||hd(f.h,a))){if(!a.K&&hd(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)xa(f),Ma(f);else break e;yd(f),Xe(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Mo(m(f.Za,f),6e3));if(1>=Ev(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else gr(f,11)}else if((a.K||f.g==a)&&xa(f),!U(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let oe=b[d];if(f.T=oe[0],oe=oe[1],f.G==2)if(oe[0]=="c"){f.K=oe[1],f.ia=oe[2];let $e=oe[3];$e!=null&&(f.la=$e,f.j.info("VER="+f.la));let He=oe[4];He!=null&&(f.Aa=He,f.j.info("SVER="+f.Aa));let ui=oe[5];ui!=null&&typeof ui=="number"&&0<ui&&(g=1.5*ui,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Ct=a.g;if(Ct){let Fa=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var A=g.h;A.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(pd(A,A.h),A.h=null))}if(g.D){let _d=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;_d&&(g.ya=_d,pe(g.I,g.D,_d))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=a;if(g.qa=Gv(g,g.J?g.ia:null,g.W),k.K){Iv(g.h,k);var de=k,xe=g.L;xe&&(de.I=xe),de.B&&(dd(de),Ca(de)),g.g=k}else Uv(g);0<f.i.length&&ka(f)}else oe[0]!="stop"&&oe[0]!="close"||gr(f,7);else f.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?gr(f,7):md(f):oe[0]!="noop"&&f.l&&f.l.ta(oe),f.v=0)}}Po(4)}catch{}}var eA=class{constructor(a,d){this.g=a,this.map=d}};function vv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ev(a){return a.h?1:a.g?a.g.size:0}function hd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function pd(a,d){a.g?a.g.add(d):a.h=d}function Iv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}vv.prototype.cancel=function(){if(this.i=wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function wv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return P(a.i)}function tA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function nA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function Tv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=nA(a),g=tA(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],a)}var Dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),b=null;if(0<=g){var A=a[f].substring(0,g);b=a[f].substring(g+1)}else A=a[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof pr){this.h=a.h,Sa(this,a.j),this.o=a.o,this.g=a.g,Aa(this,a.s),this.l=a.l;var d=a.i,f=new Lo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),bv(this,f),this.m=a.m}else a&&(d=String(a).match(Dv))?(this.h=!1,Sa(this,d[1]||"",!0),this.o=Oo(d[2]||""),this.g=Oo(d[3]||"",!0),Aa(this,d[4]),this.l=Oo(d[5]||"",!0),bv(this,d[6]||"",!0),this.m=Oo(d[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}pr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Fo(d,Cv,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Fo(d,Cv,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Fo(f,f.charAt(0)=="/"?sA:oA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Fo(f,cA)),a.join("")};function nn(a){return new pr(a)}function Sa(a,d,f){a.j=f?Oo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Aa(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function bv(a,d,f){d instanceof Lo?(a.i=d,uA(a.i,a.h)):(f||(d=Fo(d,aA)),a.i=new Lo(d,a.h))}function pe(a,d,f){a.i.set(d,f)}function Na(a){return pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Oo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fo(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,iA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function iA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Cv=/[#\/\?@]/g,oA=/[#\?:]/g,sA=/[#\?]/g,aA=/[#\?@]/g,cA=/#/g;function Lo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Dn(a){a.g||(a.g=new Map,a.h=0,a.i&&rA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Lo.prototype,t.add=function(a,d){Dn(this),this.i=null,a=ai(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Sv(a,d){Dn(a),d=ai(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Av(a,d){return Dn(a),d=ai(a,d),a.g.has(d)}t.forEach=function(a,d){Dn(this),this.g.forEach(function(f,g){f.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){Dn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(a){Dn(this);let d=[];if(typeof a=="string")Av(this,a)&&(d=d.concat(this.g.get(ai(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Dn(this),this.i=null,a=ai(this,a),Av(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Nv(a,d,f){Sv(a,d),0<f.length&&(a.i=null,a.g.set(ai(a,d),P(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=A;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),a.push(b)}}return this.i=a.join("&")};function ai(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function uA(a,d){d&&!a.j&&(Dn(a),a.i=null,a.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Sv(this,g),Nv(this,b,f))},a)),a.j=d}function lA(a,d){let f=new ko;if(c.Image){let g=new Image;g.onload=y(bn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(bn,f,"TestLoadImage: error",!1,d,g),g.onabort=y(bn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(bn,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function dA(a,d){let f=new ko,g=new AbortController,b=setTimeout(()=>{g.abort(),bn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?bn(f,"TestPingServer: ok",!0,d):bn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),bn(f,"TestPingServer: error",!1,d)})}function bn(a,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function fA(){this.g=new KS}function hA(a,d,f){let g=f||"";try{Tv(a,function(b,A){let k=b;l(b)&&(k=id(b)),d.push(g+A+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Vo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Vo,od),Vo.prototype.g=function(){return new Ra(this.l,this.j)},Vo.prototype.i=(function(a){return function(){return a}})({});function Ra(a,d){Ue.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ra,Ue),t=Ra.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Bo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?jo(this):Bo(this),this.readyState==3&&Rv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,jo(this))},t.Qa=function(a){this.g&&(this.response=a,jo(this))},t.ga=function(){this.g&&jo(this)};function jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Bo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Pv(a){let d="";return ce(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function gd(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Pv(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):pe(a,d,f))}function ve(a){Ue.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ve,Ue);var pA=/^https?$/i,gA=["POST","PUT"];t=ve.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cd.g(),this.v=this.o?sv(this.o):sv(cd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Mv(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ov(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Mv(this,A)}};function Mv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,kv(a),Pa(a)}function kv(a){a.A||(a.A=!0,Je(a,"complete"),Je(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Je(this,"complete"),Je(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xv(this):this.bb())},t.bb=function(){xv(this)};function xv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||rn(a)!=4||a.Z()!=2)){if(a.u&&rn(a)==4)nv(a.Ea,0,a);else if(Je(a,"readystatechange"),rn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var b=String(a.D).match(Dv)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!pA.test(b?b.toLowerCase():"")}f=g}if(f)Je(a,"complete"),Je(a,"success");else{a.m=6;try{var A=2<rn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",kv(a)}}finally{Pa(a)}}}}function Pa(a,d){if(a.g){Ov(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Je(a,"ready");try{f.onreadystatechange=g}catch{}}}function Ov(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function rn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),WS(d)}};function Fv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function mA(a){let d={};a=(a.g&&2<=rn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(U(a[g]))continue;var f=D(a[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Lv(a){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,a),this.cb=Uo("retryDelaySeedMs",1e4,a),this.Wa=Uo("forwardChannelMaxRetries",2,a),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(a&&a.concurrentRequestLimit),this.Da=new fA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lv.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){Xe(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Gv(this,null,this.W),ka(this)};function md(a){if(Vv(a),a.G==3){var d=a.U++,f=nn(a.I);if(pe(f,"SID",a.K),pe(f,"RID",d),pe(f,"TYPE","terminate"),$o(a,f),d=new Tn(a,a.j,d),d.L=2,d.v=Na(nn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Wv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ca(d)}zv(a)}function Ma(a){a.g&&(vd(a),a.g.cancel(),a.g=null)}function Vv(a){Ma(a),a.u&&(c.clearTimeout(a.u),a.u=null),xa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ka(a){if(!_v(a.h)&&!a.s){a.s=!0;var d=a.Ga;bo||Yy(),Co||(bo(),Co=!0),Ql.add(d,a),a.B=0}}function yA(a,d){return Ev(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Mo(m(a.Ga,a,d),qv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Tn(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Bv(this,b,d),f=nn(this.I),pe(f,"RID",a),pe(f,"CVER",22),this.D&&pe(f,"X-HTTP-Session-Id",this.D),$o(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Pv(A)))+"&"+d:this.m&&gd(f,this.m,A)),pd(this.h,b),this.Ua&&pe(f,"TYPE","init"),this.P?(pe(f,"$req",d),pe(f,"SID","null"),b.T=!0,ld(b,f,null)):ld(b,f,d),this.G=2}}else this.G==3&&(a?jv(this,a):this.i.length==0||_v(this.h)||jv(this))};function jv(a,d){var f;d?f=d.l:f=a.U++;let g=nn(a.I);pe(g,"SID",a.K),pe(g,"RID",f),pe(g,"AID",a.T),$o(a,g),a.m&&a.o&&gd(g,a.m,a.o),f=new Tn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Bv(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),pd(a.h,f),ld(f,g,d)}function $o(a,d){a.H&&ce(a.H,function(f,g){pe(d,g,f)}),a.l&&Tv({},function(f,g){pe(d,g,f)})}function Bv(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=b[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let de=!0;for(let xe=0;xe<f;xe++){let oe=b[xe].g,$e=b[xe].map;if(oe-=A,0>oe)A=Math.max(0,b[xe].g-100),de=!1;else try{hA($e,k,"req"+oe+"_")}catch{g&&g($e)}}if(de){g=k.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function Uv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;bo||Yy(),Co||(bo(),Co=!0),Ql.add(d,a),a.v=0}}function yd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Mo(m(a.Fa,a),qv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Mo(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),Ma(this),$v(this))};function vd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function $v(a){a.g=new Tn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=nn(a.qa);pe(d,"RID","rpc"),pe(d,"SID",a.K),pe(d,"AID",a.T),pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&pe(d,"TO",a.ja),pe(d,"TYPE","xmlhttp"),$o(a,d),a.m&&a.o&&gd(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Na(nn(d)),f.m=null,f.P=!0,gv(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Ma(this),yd(this),Xe(19))};function xa(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Hv(a,d){var f=null;if(a.g==d){xa(a),vd(a),a.g=null;var g=2}else if(hd(a.h,d))f=d.D,Iv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Ta(),Je(g,new dv(g,f)),ka(a)}else Uv(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&yA(a,d)||g==2&&yd(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:gr(a,5);break;case 4:gr(a,10);break;case 3:gr(a,6);break;default:gr(a,2)}}}function qv(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function gr(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let b=!g;g=new pr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Sa(g,"https"),Na(g),b?lA(g.toString(),f):dA(g.toString(),f)}else Xe(2);a.G=0,a.l&&a.l.sa(d),zv(a),Vv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function zv(a){if(a.G=0,a.ka=[],a.l){let d=wv(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Gv(a,d,f){var g=f instanceof pr?nn(f):new pr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Aa(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new pr(null);g&&Sa(A,g),d&&(A.g=d),b&&Aa(A,b),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&pe(g,f,d),pe(g,"VER",a.la),$o(a,g),g}function Wv(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ve(new Vo({eb:f})):new ve(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kv(){}t=Kv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Oa(){}Oa.prototype.g=function(a,d){return new at(a,d)};function at(a,d){Ue.call(this),this.g=new Lv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!U(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ci(this)}S(at,Ue),at.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){md(this.g)},at.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=id(a),a=f);d.i.push(new eA(d.Ya++,a)),d.G==3&&ka(d)},at.prototype.N=function(){this.g.l=null,delete this.j,md(this.g),delete this.g,at.aa.N.call(this)};function Qv(a){sd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(Qv,sd);function Yv(){ad.call(this),this.status=1}S(Yv,ad);function ci(a){this.g=a}S(ci,Kv),ci.prototype.ua=function(){Je(this.g,"a")},ci.prototype.ta=function(a){Je(this.g,new Qv(a))},ci.prototype.sa=function(a){Je(this.g,new Yv)},ci.prototype.ra=function(){Je(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,Mg=gn.createWebChannelTransport=function(){return new Oa},Pg=gn.getStatEventTarget=function(){return Ta()},Rg=gn.Event=fr,Xu=gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Js=gn.ErrorCode=Da,fv.COMPLETE="complete",Ng=gn.EventType=fv,av.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Yi=gn.WebChannel=av,HF=gn.FetchXmlHttpFactory=Vo,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha,Ag=gn.XhrIo=ve}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});var sb="@firebase/firestore",ab="4.8.0";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var Eo="11.10.0";var Zr=new Gt("@firebase/firestore");function Zi(){return Zr.logLevel}function F(t,...e){if(Zr.logLevel<=ee.DEBUG){let n=e.map(wy);Zr.debug(`Firestore (${Eo}): ${t}`,...n)}}function yn(t,...e){if(Zr.logLevel<=ee.ERROR){let n=e.map(wy);Zr.error(`Firestore (${Eo}): ${t}`,...n)}}function ar(t,...e){if(Zr.logLevel<=ee.WARN){let n=e.map(wy);Zr.warn(`Firestore (${Eo}): ${t}`,...n)}}function wy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function j(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eC(t,r,n)}function eC(t,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yn(r),new Error(r)}function ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eC(e,i,r)}function $(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Lg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Vg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},jg=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new sl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new Pe(e)}},Bg=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ug=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bg(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},al=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$g=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new al(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new al(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function tC(){return new TextEncoder}var ia=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=qF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function Z(t,e){return t<e?-1:t>e?1:0}function Hg(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Z(r,i);{let o=tC(),s=zF(o.encode(cb(t,n)),o.encode(cb(e,n)));return s!==0?s:Z(r,i)}}n+=r>65535?2:1}return Z(t.length,e.length)}function cb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function zF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Z(t[n],e[n]);return Z(t.length,e.length)}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ub="__name__",cl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&j(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Z(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Hg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pn.fromString(e.substring(4,e.length-2))}},ye=class t extends cl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},GF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class t extends cl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return GF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ub}static keyField(){return new t([ub])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new O(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new O(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var V=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};function nC(t,e,n){if(!n)throw new O(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(e===!0&&r===!0)throw new O(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lb(t){if(!V.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function db(t){if(V.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bl(t);throw new O(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ae(t,e){let n={typeString:t};return e&&(n.value=e),n}function ga(t,e){if(!rC(t))throw new O(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new O(N.INVALID_ARGUMENT,n);return!0}var fb=-62135596800,hb=1e6,Ne=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hb);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fb)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hb}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ga(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Ae("string",Ne._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};var z=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ne(0,0))}static max(){return new t(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var oa=-1,qg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qg.UNKNOWN_ID=-1;function KF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Jr(i,V.empty(),e)}function QF(t){return new Jr(t.readTime,t.key,oa)}var Jr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(z.min(),V.empty(),oa)}static max(){return new t(z.max(),V.empty(),oa)}};function YF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}var ZF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Io(t){return _(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==ZF)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function JF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(t){return t.name==="IndexedDbTransactionError"}var Ty=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Dy=-1;function Ul(t){return t==null}function sa(t){return t===0&&1/t==-1/0}function XF(t){return typeof t=="number"&&Number.isInteger(t)&&!sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var iC="";function eL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pb(e)),e=tL(t.get(n),e);return pb(e)}function tL(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case iC:n+="";break;default:n+=o}}return n}function pb(t){return t+iC+""}var nL="remoteDocuments",oC="owner";var sC="mutationQueues";var aC="mutations";var cC="documentMutations",rL="remoteDocumentsV14";var uC="remoteDocumentGlobal";var lC="targets";var dC="targetDocuments";var fC="targetGlobal",hC="collectionParents";var pC="clientMetadata";var gC="bundles";var mC="namedQueries";var iL="indexConfiguration";var oL="indexState";var sL="indexEntries";var yC="documentOverlays";var aL="globals";var cL=[sC,aC,cC,nL,lC,oC,fC,dC,pC,uC,hC,gC,mC],wY=[...cL,yC],uL=[sC,aC,cC,rL,lC,oC,fC,dC,pC,uC,hC,gC,mC,yC],lL=uL,dL=[...lL,iL,oL,sL];var TY=[...dL,aL];function gb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ee=class t{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new to(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new to(this.root,e,this.comparator,!1)}getReverseIterator(){return new to(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new to(this.root,e,this.comparator,!0)}},to=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw j(43730,{key:this.key,value:this.value});if(this.right.isRed())throw j(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw j(27949);return e+(this.isRed()?0:1)}};Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw j(57766)}get value(){throw j(16141)}get color(){throw j(16727)}get left(){throw j(29726)}get right(){throw j(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Me=class t{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ul(this.data.getIterator())}getIteratorFrom(e){return new ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ul=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bt=class t{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Me(mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ll=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ye=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ll("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ye.EMPTY_BYTE_STRING=new Ye("");var fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vn(t){if(ae(!!t,39018),typeof t=="string"){let e=0,n=fL.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _n(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}var _C="server_timestamp",EC="__type__",IC="__previous_value__",wC="__local_write_time__";function by(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[EC])===null||n===void 0?void 0:n.stringValue)===_C}function $l(t){let e=t.mapValue.fields[IC];return by(e)?$l(e):e}function aa(t){let e=vn(t.mapValue.fields[wC].timestampValue);return new Ne(e.seconds,e.nanos)}var Gg=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},dl="(default)",fl=class t{constructor(e,n){this.projectId=e,this.database=n||dl}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===dl}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cy="__type__",TC="__max__",el={mapValue:{fields:{__type__:{stringValue:TC}}}},Sy="__vector__",so="value";function cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?by(t)?4:bC(t)?9007199254740991:DC(t)?10:11:j(28295,{value:t})}function Xt(t,e){if(t===e)return!0;let n=cr(t);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vn(i.timestampValue),c=vn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return _n(i.bytesValue).isEqual(_n(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return me(i.geoPointValue.latitude)===me(o.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return me(i.integerValue)===me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=me(i.doubleValue),c=me(o.doubleValue);return s===c?sa(s)===sa(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(gb(s)!==gb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Xt(s[u],c[u])))return!1;return!0})(t,e);default:return j(52216,{left:t})}}function ca(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function ao(t,e){if(t===e)return 0;let n=cr(t),r=cr(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=me(o.integerValue||o.doubleValue),u=me(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return mb(t.timestampValue,e.timestampValue);case 4:return mb(aa(t),aa(e));case 5:return Hg(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=_n(o),u=_n(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=Z(c[l],u[l]);if(h!==0)return h}return Z(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=Z(me(o.latitude),me(s.latitude));return c!==0?c:Z(me(o.longitude),me(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yb(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[so])===null||c===void 0?void 0:c.arrayValue,S=(u=m[so])===null||u===void 0?void 0:u.arrayValue,P=Z(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:yb(y,S)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===el.mapValue&&s===el.mapValue)return 0;if(o===el.mapValue)return 1;if(s===el.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Hg(u[p],h[p]);if(m!==0)return m;let y=ao(c[u[p]],l[h[p]]);if(y!==0)return y}return Z(u.length,h.length)})(t.mapValue,e.mapValue);default:throw j(23264,{le:n})}}function mb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);let n=vn(t),r=vn(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function yb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ao(n[i],r[i]);if(o)return o}return Z(n.length,r.length)}function co(t){return Wg(t)}function Wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=vn(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _n(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return V.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Wg(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Wg(n.fields[s])}`;return i+"}"})(t.mapValue):j(61005,{value:t})}function rl(t){switch(cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=$l(t);return e?16+rl(e):16;case 5:return 2*t.stringValue.length;case 6:return _n(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+rl(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return dr(r.fields,(o,s)=>{i+=o.length+rl(s)}),i})(t.mapValue);default:throw j(13486,{value:t})}}function vb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kg(t){return!!t&&"integerValue"in t}function Ay(t){return!!t&&"arrayValue"in t}function _b(t){return!!t&&"nullValue"in t}function Eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function il(t){return!!t&&"mapValue"in t}function DC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cy])===null||n===void 0?void 0:n.stringValue)===Sy}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return dr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TC}var bY={mapValue:{fields:{[Cy]:{stringValue:Sy},[so]:{arrayValue:{}}}}};var gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ea(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ea(this.value))}};function CC(t){let e=[];return dr(t.fields,(n,r)=>{let i=new mt([n]);if(il(r)){let o=CC(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new bt(e)}var Ft=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,z.min(),z.min(),z.min(),gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,z.min(),z.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,z.min(),z.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uo=class{constructor(e,n){this.position=e,this.inclusive=n}};function Ib(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=V.comparator(V.fromName(s.referenceValue),n.key):r=ao(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}var lo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function hL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hl=class{},Se=class t extends hl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yg(e,n,r):n==="array-contains"?new Xg(e,r):n==="in"?new em(e,r):n==="not-in"?new tm(e,r):n==="array-contains-any"?new nm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zg(e,r):new Jg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Lt=class t extends hl{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return SC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function SC(t){return t.op==="and"}function AC(t){return pL(t)&&SC(t)}function pL(t){for(let e of t.filters)if(e instanceof Lt)return!1;return!0}function Qg(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+co(t.value);if(AC(t))return t.filters.map(e=>Qg(e)).join(",");{let e=t.filters.map(n=>Qg(n)).join(",");return`${t.op}(${e})`}}function NC(t,e){return t instanceof Se?(function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&Xt(r.value,i.value)})(t,e):t instanceof Lt?(function(r,i){return i instanceof Lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&NC(s,i.filters[c]),!0):!1})(t,e):void j(19439)}function RC(t){return t instanceof Se?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(t):t instanceof Lt?(function(n){return n.op.toString()+" {"+n.getFilters().map(RC).join(" ,")+"}"})(t):"Filter"}var Yg=class extends Se{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){let n=V.comparator(e.key,this.key);return this.matchesComparison(n)}},Zg=class extends Se{constructor(e,n){super(e,"in",n),this.keys=PC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jg=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=PC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function PC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}var Xg=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ay(n)&&ca(n.arrayValue,this.value)}},em=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}},tm=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ca(this.value.arrayValue,n)}},nm=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}};var rm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function Tb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rm(t,e,n,r,i,o,s)}function Ny(t){let e=$(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.Pe=n}return e.Pe}function Ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wb(t.startAt,e.startAt)&&wb(t.endAt,e.endAt)}function im(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Xr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function gL(t,e,n,r,i,o,s,c){return new Xr(t,e,n,r,i,o,s,c)}function Py(t){return new Xr(t)}function Db(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function ta(t){let e=$(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Me(mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new lo(o,r))}),n.has(mt.keyField().canonicalString())||e.Te.push(new lo(mt.keyField(),r))}return e.Te}function Zt(t){let e=$(t);return e.Ie||(e.Ie=mL(e,ta(t))),e.Ie}function mL(t,e){if(t.limitType==="F")return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new lo(i.field,o)});let n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function om(t,e){let n=t.filters.concat([e]);return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sm(t,e,n){return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hl(t,e){return Ry(Zt(t),Zt(e))&&t.limitType===e.limitType}function kC(t){return`${Ny(Zt(t))}|lt:${t.limitType}`}function Ji(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RC(i)).join(", ")}]`),Ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`})(Zt(t))}; limitType=${t.limitType})`}function ql(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):V.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=Ib(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,ta(r),i)||r.endAt&&!(function(s,c,u){let l=Ib(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,ta(r),i))})(t,e)}function yL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let r=!1;for(let i of ta(t)){let o=vL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vL(t,e,n){let r=t.field.isKeyField()?V.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ao(u,l):j(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j(19790,{direction:t.dir})}}var En=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vC(this.inner)}size(){return this.innerSize}};var _L=new Ee(V.comparator);function In(){return _L}var OC=new Ee(V.comparator);function Xs(...t){let e=OC;for(let n of t)e=e.insert(n.key,n);return e}function FC(t){let e=OC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return na()}function LC(){return na()}function na(){return new En(t=>t.toString(),(t,e)=>t.isEqual(e))}var EL=new Ee(V.comparator),IL=new Me(V.comparator);function ne(...t){let e=IL;for(let n of t)e=e.add(n);return e}var wL=new Me(Z);function TL(){return wL}function My(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(e)?"-0":e}}function VC(t){return{integerValue:""+t}}function DL(t,e){return XF(e)?VC(e):My(t,e)}var fo=class{constructor(){this._=void 0}};function bL(t,e,n){return t instanceof ho?(function(i,o){let s={fields:{[EC]:{stringValue:_C},[wC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&by(o)&&(o=$l(o)),o&&(s.fields[IC]=o),{mapValue:s}})(n,e):t instanceof ei?BC(t,e):t instanceof ti?UC(t,e):(function(i,o){let s=jC(i,o),c=bb(s)+bb(i.Ee);return Kg(s)&&Kg(i.Ee)?VC(c):My(i.serializer,c)})(t,e)}function CL(t,e,n){return t instanceof ei?BC(t,e):t instanceof ti?UC(t,e):n}function jC(t,e){return t instanceof po?(function(r){return Kg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ho=class extends fo{},ei=class extends fo{constructor(e){super(),this.elements=e}};function BC(t,e){let n=$C(e);for(let r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}var ti=class extends fo{constructor(e){super(),this.elements=e}};function UC(t,e){let n=$C(e);for(let r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}var po=class extends fo{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function bb(t){return me(t.integerValue||t.doubleValue)}function $C(t){return Ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SL(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ei&&i instanceof ei||r instanceof ti&&i instanceof ti?oo(r.elements,i.elements,Xt):r instanceof po&&i instanceof po?Xt(r.Ee,i.Ee):r instanceof ho&&i instanceof ho})(t.transform,e.transform)}var am=class{constructor(e,n){this.version=e,this.transformResults=n}},nr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var go=class{};function HC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pl(t.key,nr.none()):new ni(t.key,t.data,nr.none());{let n=t.data,r=gt.empty(),i=new Me(mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new en(t.key,r,new bt(i.toArray()),nr.none())}}function AL(t,e,n){t instanceof ni?(function(i,o,s){let c=i.value.clone(),u=Sb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof en?(function(i,o,s){if(!ol(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Sb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(qC(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ra(t,e,n,r){return t instanceof ni?(function(o,s,c,u){if(!ol(o.precondition,s))return c;let l=o.value.clone(),h=Ab(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof en?(function(o,s,c,u){if(!ol(o.precondition,s))return c;let l=Ab(o.fieldTransforms,u,s),h=s.data;return h.setAll(qC(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return ol(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function NL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=jC(r.transform,i||null);o!=null&&(n===null&&(n=gt.empty()),n.set(r.field,o))}return n||null}function Cb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oo(r,i,(o,s)=>SL(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ni=class extends go{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},en=class extends go{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Sb(t,e,n){let r=new Map;ae(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,CL(s,c,n[i]))}return r}function Ab(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,bL(o,s,e))}return r}var pl=class extends go{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},cm=class extends go{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var um=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&AL(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=LC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=HC(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>Cb(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>Cb(n,r))}},lm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return EL})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var dm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var be,ie;function RL(t){switch(t){case N.OK:return j(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return j(15467,{code:t})}}function zC(t){if(t===void 0)return yn("GRPC error has no .code"),N.UNKNOWN;switch(t){case be.OK:return N.OK;case be.CANCELLED:return N.CANCELLED;case be.UNKNOWN:return N.UNKNOWN;case be.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case be.INTERNAL:return N.INTERNAL;case be.UNAVAILABLE:return N.UNAVAILABLE;case be.UNAUTHENTICATED:return N.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case be.NOT_FOUND:return N.NOT_FOUND;case be.ALREADY_EXISTS:return N.ALREADY_EXISTS;case be.PERMISSION_DENIED:return N.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case be.ABORTED:return N.ABORTED;case be.OUT_OF_RANGE:return N.OUT_OF_RANGE;case be.UNIMPLEMENTED:return N.UNIMPLEMENTED;case be.DATA_LOSS:return N.DATA_LOSS;default:return j(39323,{code:t})}}(ie=be||(be={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var Nb=null;var PL=new pn([4294967295,4294967295],0);function Rb(t){let e=tC().encode(t),n=new Sg;return n.update(e),new Uint8Array(n.digest())}function Pb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pn([n,r],0),new pn([i,o],0)]}var hm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=pn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(pn.fromNumber(r)));return i.compare(PL)===1&&(i=new pn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=Rb(e),[r,i]=Pb(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=Rb(e),[r,i]=Pb(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Kr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(z.min(),i,new Ee(Z),In(),ne())}},ua=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ne(),ne(),ne())}};var no=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},ml=class{constructor(e,n){this.targetId=e,this.De=n}},yl=class{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},vl=class{constructor(){this.ve=0,this.Ce=Mb(),this.Fe=Ye.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ne(),n=ne(),r=ne();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j(38017,{changeType:o})}}),new ua(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Mb()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},pm=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=In(),this.je=tl(),this.Je=tl(),this.He=new Ee(Z)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:j(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(im(o))if(r===0){let s=new V(o.path);this.Xe(n,s,Ft.newNoDocument(s,z.min()))}else ae(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}Nb?.ct((function(h,p,m,y,S){var P,R,x,U,Q,le;let Ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ce=p.unchangedNames;return ce&&(Ze.bloomFilter={applied:S===0,hashCount:(P=ce?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(U=(x=(R=ce?.bits)===null||R===void 0?void 0:R.bitmap)===null||x===void 0?void 0:x.length)!==null&&U!==void 0?U:0,padding:(le=(Q=ce?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&le!==void 0?le:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),Ze})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=_n(r).toUint8Array()}catch(u){if(u instanceof ll)return ar("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new hm(s,i,o)}catch(u){return ar(u instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&im(c.target)){let u=new V(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Ft.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ne();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new gl(e,n,this.He,this.ze,r);return this.ze=In(),this.je=tl(),this.Je=tl(),this.He=new Ee(Z),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new vl,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Me(Z),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Me(Z),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new vl),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function tl(){return new Ee(V.comparator)}function Mb(){return new Ee(V.comparator)}var ML={asc:"ASCENDING",desc:"DESCENDING"},kL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xL={and:"AND",or:"OR"},gm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function mm(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function _l(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OL(t,e){return _l(t,e.toTimestamp())}function Jt(t){return ae(!!t,49232),z.fromTimestamp((function(n){let r=vn(n);return new Ne(r.seconds,r.nanos)})(t))}function ky(t,e){return ym(t,e).canonicalString()}function ym(t,e){let n=(function(i){return new ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function WC(t){let e=ye.fromString(t);return ae(JC(e),10190,{key:e.toString()}),e}function vm(t,e){return ky(t.databaseId,e.path)}function kg(t,e){let n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(QC(n))}function KC(t,e){return ky(t.databaseId,e)}function FL(t){let e=WC(t);return e.length===4?ye.emptyPath():QC(e)}function _m(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QC(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kb(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function LL(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:j(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ae(h===void 0||typeof h=="string",58123),Ye.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ye.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:zC(l.code);return new O(h,l.message||"")})(s);n=new yl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=kg(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):z.min(),c=new gt({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new no(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=kg(t,r.document),o=r.readTime?Jt(r.readTime):z.min(),s=Ft.newNoDocument(i,o),c=r.removedTargetIds||[];n=new no([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=kg(t,r.document),o=r.removedTargetIds||[];n=new no([],o,i,null)}else{if(!("filter"in e))return j(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fm(i,o),c=r.targetId;n=new ml(c,s)}}return n}function VL(t,e){let n;if(e instanceof ni)n={update:kb(t,e.key,e.value)};else if(e instanceof pl)n={delete:vm(t,e.key)};else if(e instanceof en)n={update:kb(t,e.key,e.data),updateMask:WL(e.fieldMask)};else{if(!(e instanceof cm))return j(16599,{Rt:e.type});n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof ho)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ei)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ti)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof po)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw j(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:OL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:j(27497)})(t,e.precondition)),n}function jL(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Jt(i.updateTime):Jt(o);return s.isEqual(z.min())&&(s=Jt(o)),new am(s,i.transformResults||[])})(n,e))):[]}function BL(t,e){return{documents:[KC(t,e.path)]}}function UL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KC(t,i);let o=(function(l){if(l.length!==0)return ZC(Lt.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Xi(m.field),direction:qL(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=mm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function $L(t){let e=FL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=YC(p);return m instanceof Lt&&AC(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new lo(eo(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Ul(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new uo(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new uo(y,m)})(n.endAt)),gL(e,i,s,o,c,"F",u,l)}function HL(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=eo(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=eo(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=eo(n.unaryFilter.field);return Se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=eo(n.unaryFilter.field);return Se.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return j(61313);default:return j(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Se.create(eo(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return j(58110);default:return j(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Lt.create(n.compositeFilter.filters.map(r=>YC(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j(1026)}})(n.compositeFilter.op))})(t):j(30097,{filter:t})}function qL(t){return ML[t]}function zL(t){return kL[t]}function GL(t){return xL[t]}function Xi(t){return{fieldPath:t.canonicalString()}}function eo(t){return mt.fromServerFormat(t.fieldPath)}function ZC(t){return t instanceof Se?(function(n){if(n.op==="=="){if(Eb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NAN"}};if(_b(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Eb(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NAN"}};if(_b(n.value))return{unaryFilter:{field:Xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(n.field),op:zL(n.op),value:n.value}}})(t):t instanceof Lt?(function(n){let r=n.getFilters().map(i=>ZC(i));return r.length===1?r[0]:{compositeFilter:{op:GL(n.op),filters:r}}})(t):j(54877,{filter:t})}function WL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var la=class t{constructor(e,n,r,i,o=z.min(),s=z.min(),c=Ye.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Em=class{constructor(e){this.gt=e}};function KL(t){let e=$L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sm(e,e.limit,"L"):e}var El=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),sa(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=vn(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(_n(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?bC(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):DC(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):j(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=so,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(me(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),V.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};El.Ut=new El;var Im=class{constructor(){this.Dn=new wm}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Jr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},wm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ye.comparator)).toArray()}};var CY=new Uint8Array(0);var xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XC=41943040,Dt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(XC,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);var da=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var Ob="LruGarbageCollector",QL=1048576;function Fb([t,e],[n,r]){let i=Z(t,n);return i===0?Z(e,r):i}var Tm=class{constructor(e){this.Tr=e,this.buffer=new Me(Fb),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();Fb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Dm=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(Ob,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?F(Ob,"Ignoring IndexedDB error during garbage collection: ",n):yield Io(n)}yield this.Rr(3e5)}))}},bm=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Ty.ue);let r=new Tm(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(xb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Zi()<=ee.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function YL(t,e){return new bm(t,e)}var Cm=class{constructor(){this.changes=new En(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Sm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Am=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ra(r.mutation,i,bt.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){let i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xs();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=In(),s=na(),c=(function(){return na()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof en)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ra(h.mutation,l,h.mutation.getFieldMask(),Ne.now())):s.set(l.key,bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Sm(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=na(),i=new Ee((s,c)=>s-c),o=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||bt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ne()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=LC();h.forEach(m=>{if(!o.has(m)){let y=HC(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return V.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Wr()),c=oa,u=o;return s.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ne())).next(h=>({batchId:c,changes:FC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=Xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xs();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=(function(p,m){return new Xr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Ft.newInvalidDocument(h)))});let c=Xs();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ra(h.mutation,l,bt.empty(),Ne.now()),ql(n,l)&&(c=c.insert(u,l))}),c})}};var Nm=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:KL(i.bundledQuery),readTime:Jt(i.readTime)}})(n)),M.resolve()}};var Rm=class{constructor(){this.overlays=new Ee(V.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wr();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Wr(),o=n.length+1,s=new V(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ee((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Wr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Wr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dm(n,r));let o=this.kr.get(n);o===void 0&&(o=ne(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var Pm=class{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var fa=class{constructor(){this.qr=new Me(Ce.Qr),this.$r=new Me(Ce.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ce(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ce(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new V(new ye([])),r=new Ce(n,e),i=new Ce(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new V(new ye([])),r=new Ce(n,e),i=new Ce(n,e+1),o=ne();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ce(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ce=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return V.comparator(e.key,n.key)||Z(e.Hr,n.Hr)}static Ur(e,n){return Z(e.Hr,n.Hr)||V.comparator(e.key,n.key)}};var Mm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Me(Ce.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new um(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ce(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Dy:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ce(n,0),i=new Ce(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(Z);return n.forEach(i=>{let o=new Ce(i,0),s=new Ce(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;V.isDocumentKey(o)||(o=o.child(""));let s=new Ce(new V(o),0),c=new Me(Z);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Ce(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ce(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var km=class{constructor(e){this.ni=e,this.docs=(function(){return new Ee(V.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ft.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=In(),s=n.path,c=new V(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||YF(QF(h),r)<=0||(i.has(h.key)||ql(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){j(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xm(this)}getSize(e){return M.resolve(this.size)}},xm=class extends Cm{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Om=class{constructor(e){this.persistence=e,this.ii=new En(n=>Ny(n),Ry),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.si=0,this.oi=new fa,this.targetCount=0,this._i=da.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new da(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var Il=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ty(0),this.ci=!1,this.ci=!0,this.li=new Pm,this.referenceDelegate=e(this),this.hi=new Om(this),this.indexManager=new Im,this.remoteDocumentCache=(function(i){return new km(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Em(n),this.Ti=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Mm(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new Fm(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},Fm=class extends zg{constructor(e){super(),this.currentSequenceNumber=e}},Lm=class t{constructor(e){this.persistence=e,this.Ai=new fa,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw j(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=V.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,z.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},wl=class t{constructor(e,n){this.persistence=e,this.gi=new En(r=>eL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=YL(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,z.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rl(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Vm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ne(),i=ne();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var jm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bm=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return PT()?8:JF(Re())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new jm;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Zi()<=ee.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Ji(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Zi()<=ee.DEBUG&&F("QueryEngine","Query:",Ji(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Zi()<=ee.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Ji(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(n))):M.resolve())}ps(e,n){if(Db(n))return M.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sm(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ne(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,sm(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return Db(n)||i.isEqual(z.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(Zi()<=ee.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ji(n)),this.vs(e,s,n,KF(i,oa)).next(c=>c))})}bs(e,n){let r=new Me(xC(e));return n.forEach((i,o)=>{ql(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Zi()<=ee.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Ji(n)),this.gs.getDocumentsMatchingQuery(e,n,Jr.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var xy="LocalStore",ZL=3e8,Um=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ee(Z),this.Ms=new En(o=>Ny(o),Ry),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Am(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function JL(t,e,n,r){return new Um(t,e,n,r)}function eS(t,e){return _(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ne();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function XL(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(P=>{let R=l.docVersions.get(S);ae(R!==null,48541),P.version.compareTo(R)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ne();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tS(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function eV(t,e){let n=$(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ye.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,R,x){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=ZL?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(m,y,h)&&c.push(n.hi.updateTargetData(o,y))});let u=In(),l=ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(tV(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(z.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function tV(t,e,n){let r=ne(),i=ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=In();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(xy,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function nV(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rV(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new la(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function $m(t,e,n){return _(this,null,function*(){let r=$(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wo(s))throw s;F(xy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function Lb(t,e,n){let r=$(t),i=z.min(),o=ne();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=$(u),m=p.Ms.get(h);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Zt(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:z.min(),n?o:ne())).next(c=>(iV(r,yL(e),c),{documents:c,qs:o})))}function iV(t,e,n){let r=t.xs.get(e)||z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Tl=class{constructor(){this.activeTargetIds=TL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Hm=class{constructor(){this.Fo=new Tl,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Tl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qm=class{xo(e){}shutdown(){}};var Vb="ConnectivityMonitor",Dl=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(Vb,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(Vb,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nl=null;function zm(){return nl===null?nl=(function(){return 268435456+Math.round(2147483648*Math.random())})():nl++,"0x"+nl.toString(16)}var xg="RestConnection",oV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Gm=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===dl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=zm(),c=this.Go(e,n.toUriEncodedString());F(xg,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=qn(l);return this.jo(e,c,u,r,h).then(p=>(F(xg,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ar(xg,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=oV[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Wm=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Qe="WebChannelConnection",Km=class extends Gm{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=zm();return new Promise((c,u)=>{let l=new Ag;l.setWithCredentials(!0),l.listenOnce(Ng.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Js.NO_ERROR:let p=l.getResponseJson();F(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Js.TIMEOUT:F(Qe,`RPC '${e}' ${s} timed out`),u(new O(N.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:let m=l.getStatus();if(F(Qe,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let P=(function(x){let U=x.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(U)>=0?U:N.UNKNOWN})(S.status);u(new O(P,S.message))}else u(new O(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(N.UNAVAILABLE,"Connection failed."));break;default:j(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(Qe,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(Qe,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=zm(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mg(),c=Pg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(Qe,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new Wm({Ho:R=>{y?F(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(Qe,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(Qe,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),P=(R,x,U)=>{R.listen(x,Q=>{try{U(Q)}catch(le){setTimeout(()=>{throw le},0)}})};return P(p,Yi.EventType.OPEN,()=>{y||(F(Qe,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),P(p,Yi.EventType.CLOSE,()=>{y||(y=!0,F(Qe,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),P(p,Yi.EventType.ERROR,R=>{y||(y=!0,ar(Qe,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new O(N.UNAVAILABLE,"The operation could not be completed")))}),P(p,Yi.EventType.MESSAGE,R=>{var x;if(!y){let U=R.data[0];ae(!!U,16349);let Q=U,le=Q?.error||((x=Q[0])===null||x===void 0?void 0:x.error);if(le){F(Qe,`RPC '${e}' stream ${i} received error:`,le);let Ze=le.status,ce=(function(I){let w=be[I];if(w!==void 0)return zC(w)})(Ze),T=le.message;ce===void 0&&(ce=N.INTERNAL,T="Unknown error status: "+Ze+" with message "+le.message),y=!0,S.__(new O(ce,T)),p.close()}else F(Qe,`RPC '${e}' stream ${i} received:`,U),S.a_(U)}}),P(c,Rg.STAT_EVENT,R=>{R.stat===Xu.PROXY?F(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Xu.NOPROXY&&F(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Og(){return typeof document<"u"?document:null}function zl(t){return new gm(t,!0)}var bl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var jb="PersistentStream",Cl=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bl(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new O(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(F(jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Qm=class extends Cl{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=LL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?Jt(s.readTime):z.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=_m(this.serializer),n.addTarget=(function(o,s){let c,u=s.target;if(c=im(u)?{documents:BL(o,u)}:{query:UL(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=GC(o,s.resumeToken);let l=mm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(z.min())>0){c.readTime=_l(o,s.snapshotVersion.toTimestamp());let l=mm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=HL(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=_m(this.serializer),n.removeTarget=e,this.k_(n)}},Ym=class extends Cl{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=jL(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=_m(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>VL(this.serializer,r))};this.k_(n)}};var Zm=class{},Jm=class extends Zm{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ym(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,ym(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Xm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yn(n),this._a=!1):F("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ri="RemoteStore",ey=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){oi(this)&&(F(ri,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=$(u);l.Ia.add(4),yield ma(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Gl(l)})})(this))}))}),this.Aa=new Xm(r,i)}};function Gl(t){return _(this,null,function*(){if(oi(t))for(let e of t.da)yield e(!0)})}function ma(t){return _(this,null,function*(){for(let e of t.da)yield e(!1)})}function nS(t,e){let n=$(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Vy(n)?Ly(n):To(n).x_()&&Fy(n,e))}function Oy(t,e){let n=$(t),r=To(n);n.Ta.delete(e),r.x_()&&rS(n,e),n.Ta.size===0&&(r.x_()?r.B_():oi(n)&&n.Aa.set("Unknown"))}function Fy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).H_(e)}function rS(t,e){t.Ra.$e(e),To(t).Y_(e)}function Ly(t){t.Ra=new pm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.Aa.aa()}function Vy(t){return oi(t)&&!To(t).M_()&&t.Ta.size>0}function oi(t){return $(t).Ia.size===0}function iS(t){t.Ra=void 0}function sV(t){return _(this,null,function*(){t.Aa.set("Online")})}function aV(t){return _(this,null,function*(){t.Ta.forEach((e,n)=>{Fy(t,e)})})}function cV(t,e){return _(this,null,function*(){iS(t),Vy(t)?(t.Aa.la(e),Ly(t)):t.Aa.set("Unknown")})}function uV(t,e,n){return _(this,null,function*(){if(t.Aa.set("Online"),e instanceof yl&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(t,e)}catch(r){F(ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sl(t,r)}else if(e instanceof no?t.Ra.Ye(e):e instanceof ml?t.Ra.it(e):t.Ra.et(e),!n.isEqual(z.min()))try{let r=yield tS(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Ye.EMPTY_BYTE_STRING,h.snapshotVersion)),rS(o,u);let p=new la(h.target,u,l,h.sequenceNumber);Fy(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n))}catch(r){F(ri,"Failed to raise snapshot:",r),yield Sl(t,r)}})}function Sl(t,e,n){return _(this,null,function*(){if(!wo(e))throw e;t.Ia.add(1),yield ma(t),t.Aa.set("Offline"),n||(n=()=>tS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(ri,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Gl(t)}))})}function oS(t,e){return e().catch(n=>Sl(t,n,e))}function Wl(t){return _(this,null,function*(){let e=$(t),n=ur(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Dy;for(;lV(e);)try{let i=yield nV(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,dV(e,i)}catch(i){yield Sl(e,i)}sS(e)&&aS(e)})}function lV(t){return oi(t)&&t.Pa.length<10}function dV(t,e){t.Pa.push(e);let n=ur(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function sS(t){return oi(t)&&!ur(t).M_()&&t.Pa.length>0}function aS(t){ur(t).start()}function fV(t){return _(this,null,function*(){ur(t).na()})}function hV(t){return _(this,null,function*(){let e=ur(t);for(let n of t.Pa)e.X_(n.mutations)})}function pV(t,e,n){return _(this,null,function*(){let r=t.Pa.shift(),i=lm.from(r,e,n);yield oS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wl(t)})}function gV(t,e){return _(this,null,function*(){e&&ur(t).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return RL(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();ur(r).N_(),yield oS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wl(r)}})})(t,e)),sS(t)&&aS(t)})}function Bb(t,e){return _(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),F(ri,"RemoteStore received new credentials");let r=oi(n);n.Ia.add(3),yield ma(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Gl(n)})}function mV(t,e){return _(this,null,function*(){let n=$(t);e?(n.Ia.delete(2),yield Gl(n)):e||(n.Ia.add(2),yield ma(n),n.Aa.set("Unknown"))})}function To(t){return t.Va||(t.Va=(function(n,r,i){let o=$(n);return o.ia(),new Qm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:sV.bind(null,t),e_:aV.bind(null,t),n_:cV.bind(null,t),J_:uV.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.Va.N_(),Vy(t)?Ly(t):t.Aa.set("Unknown")):(yield t.Va.stop(),iS(t))}))),t.Va}function ur(t){return t.ma||(t.ma=(function(n,r,i){let o=$(n);return o.ia(),new Ym(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:fV.bind(null,t),n_:gV.bind(null,t),ea:hV.bind(null,t),ta:pV.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.ma.N_(),yield Wl(t)):(yield t.ma.stop(),t.Pa.length>0&&(F(ri,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var ty=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jy(t,e){if(yn("AsyncQueue",`${e}: ${t}`),wo(t))return new O(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Al=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=Xs(),this.sortedSet=new Ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nl=class{constructor(){this.fa=new Ee(V.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):j(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},mo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Al.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ny=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},ry=class{constructor(){this.queries=Ub(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=$(n),o=i.queries;i.queries=Ub(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new O(N.ABORTED,"Firestore shutting down"))}};function Ub(){return new En(t=>kC(t),Hl)}function yV(t,e){return _(this,null,function*(){let n=$(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new ny,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=jy(s,`Initialization of query '${Ji(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&By(n)})}function vV(t,e){return _(this,null,function*(){let n=$(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function _V(t,e){let n=$(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&By(n)}function EV(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function By(t){t.Da.forEach(e=>{e.next()})}var iy,$b;($b=iy||(iy={})).Fa="default",$b.Cache="cache";var oy=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==iy.Cache}};var Rl=class{constructor(e){this.key=e}},Pl=class{constructor(e){this.key=e}},sy=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ne(),this.mutatedKeys=ne(),this.Xa=xC(e),this.eu=new Al(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Nl,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ql(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==P&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j(20277,{At:R})}};return P(y)-P(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new mo(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nl,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Pl(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Rl(r))}),n}uu(e){this.Ha=e.qs,this.Za=ne();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return mo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Uy="SyncEngine",ay=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cy=class{constructor(e){this.key=e,this.lu=!1}},uy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new En(c=>kC(c),Hl),this.Tu=new Map,this.Iu=new Set,this.du=new Ee(V.comparator),this.Eu=new Map,this.Au=new fa,this.Ru={},this.Vu=new Map,this.mu=da.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function IV(t,e,n=!0){return _(this,null,function*(){let r=hS(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield cS(r,e,n,!0),i})}function wV(t,e){return _(this,null,function*(){let n=hS(t);yield cS(n,e,!0,!1)})}function cS(t,e,n,r){return _(this,null,function*(){let i=yield rV(t.localStore,Zt(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield TV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&nS(t.remoteStore,i),c})}function TV(t,e,n,r,i){return _(this,null,function*(){t.gu=(p,m,y)=>(function(P,R,x,U){return _(this,null,function*(){let Q=R.view.nu(x);Q.Ds&&(Q=yield Lb(P.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,Q)));let le=U&&U.targetChanges.get(R.targetId),Ze=U&&U.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(Q,P.isPrimaryClient,le,Ze);return qb(P,R.targetId,ce._u),ce.snapshot})})(t,p,m,y);let o=yield Lb(t.localStore,e,!0),s=new sy(e,o.qs),c=s.nu(o.documents),u=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);qb(t,n,l._u);let h=new ay(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function DV(t,e,n){return _(this,null,function*(){let r=$(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Hl(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $m(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oy(r.remoteStore,i.targetId),ly(r,i.targetId)}).catch(Io))):(ly(r,i.targetId),yield $m(r.localStore,i.targetId,!0))})}function bV(t,e){return _(this,null,function*(){let n=$(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(n.remoteStore,r.targetId))})}function CV(t,e,n){return _(this,null,function*(){let r=kV(t);try{let i=yield(function(s,c){let u=$(s),l=Ne.now(),h=c.reduce((y,S)=>y.add(S.key),ne()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=In(),P=ne();return u.Os.getEntries(y,h).next(R=>{S=R,S.forEach((x,U)=>{U.isValidDocument()||(P=P.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let x=[];for(let U of c){let Q=NL(U,p.get(U.key).overlayedDocument);Q!=null&&x.push(new en(U.key,Q,CC(Q.value.mapValue),nr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,c)}).next(R=>{m=R;let x=R.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:m.batchId,changes:FC(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ee(Z)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),yield ya(r,i.changes),yield Wl(r.remoteStore)}catch(i){let o=jy(i,"Failed to persist write");n.reject(o)}})}function uS(t,e){return _(this,null,function*(){let n=$(t);try{let r=yield eV(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ae(s.lu,14607):i.removedDocuments.size>0&&(ae(s.lu,42227),s.lu=!1))}),yield ya(n,r,e)}catch(r){yield Io(r)}})}function Hb(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=$(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&By(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SV(t,e,n){return _(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ee(V.comparator);s=s.insert(o,Ft.newNoDocument(o,z.min()));let c=ne().add(o),u=new gl(z.min(),new Map,new Ee(Z),s,c);yield uS(r,u),r.du=r.du.remove(o),r.Eu.delete(e),$y(r)}else yield $m(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(Io)})}function AV(t,e){return _(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield XL(n.localStore,e);dS(n,r,null),lS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ya(n,i)}catch(i){yield Io(i)}})}function NV(t,e,n){return _(this,null,function*(){let r=$(t);try{let i=yield(function(s,c){let u=$(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);dS(r,e,n),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ya(r,i)}catch(i){yield Io(i)}})}function lS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function dS(t,e,n){let r=$(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||fS(t,r)})}function fS(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Oy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),$y(t))}function qb(t,e,n){for(let r of n)r instanceof Rl?(t.Au.addReference(r.key,e),RV(t,r)):r instanceof Pl?(F(Uy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||fS(t,r.key)):j(19791,{yu:r})}function RV(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(F(Uy,"New document in limbo: "+n),t.Iu.add(r),$y(t))}function $y(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new V(ye.fromString(e)),r=t.mu.next();t.Eu.set(r,new cy(n)),t.du=t.du.insert(n,r),nS(t.remoteStore,new la(Zt(Py(n.path)),r,"TargetPurposeLimboResolution",Ty.ue))}}function ya(t,e,n){return _(this,null,function*(){let r=$(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Vm.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=$(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!wo(p))throw p;F(xy,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,P)}}})})(r.localStore,o))})}function PV(t,e){return _(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){F(Uy,"User change. New user:",e.toKey());let r=yield eS(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new O(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ya(n,r.Bs)}})}function MV(t,e){let n=$(t),r=n.Eu.get(e);if(r&&r.lu)return ne().add(r.key);{let i=ne(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function hS(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SV.bind(null,e),e.hu.J_=_V.bind(null,e.eventManager),e.hu.pu=EV.bind(null,e.eventManager),e}function kV(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NV.bind(null,e),e}var pS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=zl(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return JL(this.persistence,new Bm,n.initialUser,this.serializer)}Du(n){return new Il(Lm.Vi,this.serializer)}bu(n){return new Hm}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),dy=class extends pS{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ae(this.persistence.referenceDelegate instanceof wl,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Dm(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new Il(r=>wl.Vi(r,n),this.serializer)}};var xV=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Hb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PV.bind(null,this.syncEngine),yield mV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new ry})()}createDatastore(n){let r=zl(n.databaseInfo.databaseId),i=(function(s){return new Km(s)})(n.databaseInfo);return(function(s,c,u,l){return new Jm(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new ey(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>Hb(this.syncEngine,r,0),(function(){return Dl.C()?new Dl:new qm})())}createSyncEngine(n,r){return(function(o,s,c,u,l,h,p){let m=new uy(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield(function(o){return _(this,null,function*(){let s=$(o);F(ri,"RemoteStore shutting down."),s.Ia.add(5),yield ma(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var fy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lr="FirestoreClient",hy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=ia.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){F(lr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(lr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=jy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Fg(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F(lr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield eS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ar("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ar("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function zb(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield OV(t);F(lr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bb(e.remoteStore,i)),t._onlineComponents=e})}function OV(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(lr,"Using user provided OfflineComponentProvider");try{yield Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ar("Error using user provided cache. Falling back to memory cache: "+n),yield Fg(t,new pS)}}else F(lr,"Using default OfflineComponentProvider"),yield Fg(t,new dy(void 0));return t._offlineComponents})}function gS(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(lr,"Using user provided OnlineComponentProvider"),yield zb(t,t._uninitializedComponentsProvider._online)):(F(lr,"Using default OnlineComponentProvider"),yield zb(t,new xV))),t._onlineComponents})}function FV(t){return gS(t).then(e=>e.syncEngine)}function Gb(t){return _(this,null,function*(){let e=yield gS(t),n=e.eventManager;return n.onListen=IV.bind(null,e.syncEngine),n.onUnlisten=DV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bV.bind(null,e.syncEngine),n})}function mS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Wb=new Map;var yS="firestore.googleapis.com",Kb=!0,Ml=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=Kb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QL)throw new O(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ml({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ml(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Lg;switch(r.type){case"firstParty":return new Ug(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=Wb.get(n);r&&(F("ComponentProvider","Removing Datastore"),Wb.delete(n),r.terminate())})(this),Promise.resolve()}};function vS(t,e,n,r={}){var i;t=tr(t,yo);let o=qn(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Tu(`https://${u}`),Du("Firestore",!0)),s.host!==yS&&s.host!==u&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!zt(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Pe.MOCK_USER;else{h=bT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pe(m)}t._authCredentials=new Vg(new sl(h,p))}}var vo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ke=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ga(n,t._jsonSchema))return new t(e,r||null,new V(ye.fromString(n.referencePath)))}};ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ae("string",ke._jsonSchemaVersion),referencePath:Ae("string")};var rr=class t extends vo{constructor(e,n,r){super(e,n,Py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new V(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _S(t,e,...n){if(t=we(t),nC("collection","path",e),t instanceof yo){let r=ye.fromString(e,...n);return db(r),new rr(t,null,r)}{if(!(t instanceof ke||t instanceof rr))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return db(r),new rr(t.firestore,null,r)}}function ES(t,e,...n){if(t=we(t),arguments.length===1&&(e=ia.newId()),nC("doc","path",e),t instanceof yo){let r=ye.fromString(e,...n);return lb(r),new ke(t,null,new V(r))}{if(!(t instanceof ke||t instanceof rr))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return lb(r),new ke(t.firestore,t instanceof rr?t.converter:null,new V(r))}}var Qb="AsyncQueue",kl=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bl(this,"async_queue_retry"),this.oc=()=>{let r=Og();r&&F(Qb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new mn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!wo(e))throw e;F(Qb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,yn("INTERNAL UNHANDLED ERROR: ",Yb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=ty.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&j(47125,{hc:Yb(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function Yb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Zb(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var ii=class extends yo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new kl(e),this._firestoreClient=void 0,yield e}})}};function IS(t,e){let n=typeof t=="object"?t:Br(),r=typeof t=="string"?t:e||dl,i=zi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DT("firestore");o&&vS(i,...o)}return i}function wS(t){if(t._terminated)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LV(t),t._firestoreClient}function LV(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,l,h){return new Gg(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hy(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var ir=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ye.fromBase64String(e))}catch(n){throw new O(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ga(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Ae("string",ir._jsonSchemaVersion),bytes:Ae("string")};var _o=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ha=class{constructor(e){this._methodName=e}};var or=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(ga(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:Ae("string",or._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};var sr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ga(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new O(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Ae("string",sr._jsonSchemaVersion),vectorValues:Ae("object")};var VV=/^__.*__$/,py=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new en(e,this.data,this.fieldMask,n,this.fieldTransforms):new ni(e,this.data,n,this.fieldTransforms)}},xl=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new en(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function TS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j(40011,{Ec:t})}}var gy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Fl(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(TS(this.Ec)&&VV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},my=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zl(e)}Dc(e,n,r,i=!1){return new gy({Ec:e,methodName:n,bc:r,path:mt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hy(t){let e=t._freezeSettings(),n=zl(t._databaseId);return new my(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jV(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);qy("Data must be an object, but it was:",s,r);let c=DS(r,s),u,l;if(o.merge)u=new bt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=yy(e,p,n);if(!s.contains(m))throw new O(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CS(h,m)||h.push(m)}u=new bt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new py(new gt(c),u,l)}var Ol=class t extends ha{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function BV(t,e,n,r){let i=t.Dc(1,e,n);qy("Data must be an object, but it was:",i,r);let o=[],s=gt.empty();dr(r,(u,l)=>{let h=zy(e,u,n);l=we(l);let p=i.gc(h);if(l instanceof Ol)o.push(h);else{let m=va(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new bt(o);return new xl(s,c,i.fieldTransforms)}function UV(t,e,n,r,i,o){let s=t.Dc(1,e,n),c=[yy(e,r,n)],u=[i];if(o.length%2!=0)throw new O(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(yy(e,o[m])),u.push(o[m+1]);let l=[],h=gt.empty();for(let m=c.length-1;m>=0;--m)if(!CS(l,c[m])){let y=c[m],S=u[m];S=we(S);let P=s.gc(y);if(S instanceof Ol)l.push(y);else{let R=va(S,P);R!=null&&(l.push(y),h.set(y,R))}}let p=new bt(l);return new xl(h,p,s.fieldTransforms)}function $V(t,e,n,r=!1){return va(n,t.Dc(r?4:3,e))}function va(t,e){if(bS(t=we(t)))return qy("Unsupported field value:",e,t),DS(t,e);if(t instanceof ha)return(function(r,i){if(!TS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=va(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=we(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ne.fromDate(r);return{timestampValue:_l(i.serializer,o)}}if(r instanceof Ne){let o=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_l(i.serializer,o)}}if(r instanceof or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ir)return{bytesValue:GC(i.serializer,r._byteString)};if(r instanceof ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ky(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sr)return(function(s,c){return{mapValue:{fields:{[Cy]:{stringValue:Sy},[so]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return My(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Bl(r)}`)})(t,e)}function DS(t,e){let n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(t,(r,i)=>{let o=va(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof or||t instanceof ir||t instanceof ke||t instanceof ha||t instanceof sr)}function qy(t,e,n){if(!bS(n)||!rC(n)){let r=Bl(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function yy(t,e,n){if((e=we(e))instanceof _o)return e._internalPath;if(typeof e=="string")return zy(t,e);throw Fl("Field path arguments must be of type string or ",t,!1,void 0,n)}var HV=new RegExp("[~\\*/\\[\\]]");function zy(t,e,n){if(e.search(HV)>=0)throw Fl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _o(...e.split("."))._internalPath}catch{throw Fl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fl(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(N.INVALID_ARGUMENT,c+t+u)}function CS(t,e){return t.some(n=>n.isEqual(e))}var Ll=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},vy=class extends Ll{data(){return super.data()}};function Gy(t,e){return typeof e=="string"?zy(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}function qV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pa=class{},_y=class extends pa{};function SS(t,e,...n){let r=[];e instanceof pa&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof Ey).length,c=o.filter(u=>u instanceof Vl).length;if(s>1||s>0&&c>0)throw new O(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var Vl=class t extends _y{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return NS(e._query,n),new vo(e.firestore,e.converter,om(e._query,n))}_parse(e){let n=Hy(e.firestore);return(function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Xb(p,h);let S=[];for(let P of p)S.push(Jb(u,o,P));m={arrayValue:{values:S}}}else m=Jb(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Xb(p,h),m=$V(c,s,p,h==="in"||h==="not-in");return Se.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function AS(t,e,n){let r=e,i=Gy("where",t);return Vl._create(i,r,n)}var Ey=class t extends pa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)NS(s,u),s=om(s,u)})(e._query,n),new vo(e.firestore,e.converter,om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Jb(t,e,n){if(typeof(n=we(n))=="string"){if(n==="")throw new O(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&n.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ye.fromString(n));if(!V.isDocumentKey(r))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vb(t,new V(r))}if(n instanceof ke)return vb(t,n._key);throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bl(n)}.`)}function Xb(t,e){if(!Array.isArray(t)||t.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(t,e){let n=(function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Iy=class{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_n(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw j(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return dr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[so].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>me(s.doubleValue));return new sr(o)}convertGeoPoint(e){return new or(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=$l(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){let n=vn(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ye.fromString(e);ae(JC(r),9688,{name:e});let i=new fl(r.get(1),r.get(3)),o=new V(r.popFirst(5));return i.isEqual(n)||yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function zV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Qr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yr=class t extends Ll{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ro(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Ae("string",Yr._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};var ro=class extends Yr{data(e={}){return super.data(e)}},io=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ro(this._firestore,this._userDataWriter,r.key,r,new Qr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ro(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Qr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ro(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Qr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:GV(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ia.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function GV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j(61501,{type:t})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Ae("string",io._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};var jl=class extends Iy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}};function RS(t,e,n){t=tr(t,ke);let r=tr(t.firestore,ii),i=zV(t.converter,e,n);return MS(r,[jV(Hy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function PS(t,e,n,...r){t=tr(t,ke);let i=tr(t.firestore,ii),o=Hy(i),s;return s=typeof(e=we(e))=="string"||e instanceof _o?UV(o,"updateDoc",t._key,e,n,r):BV(o,"updateDoc",t._key,e),MS(i,[s.toMutation(t._key,nr.exists(!0))])}function Wy(t,...e){var n,r,i;t=we(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Zb(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Zb(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ke)l=tr(t.firestore,ii),h=Py(t._key.path),u={next:p=>{e[s]&&e[s](WV(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=tr(t,vo);l=tr(p.firestore,ii),h=p._query;let m=new jl(l);u={next:y=>{e[s]&&e[s](new io(l,m,p,y))},error:e[s+1],complete:e[s+2]},qV(t._query)}return(function(m,y,S,P){let R=new fy(P),x=new oy(y,R,S);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return yV(yield Gb(m),x)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return vV(yield Gb(m),x)}))}})(wS(l),h,c,u)}function MS(t,e){return(function(r,i){let o=new mn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return CV(yield FV(r),i,o)})),o.promise})(wS(t),e)}function WV(t,e,n){let r=n.docs.get(e._key),i=new jl(t);return new Yr(t,i,e._key,r,new Qr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eo=i})(Gn),xt(new nt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ii(new jg(r.getProvider("auth-internal")),new $g(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),_e(sb,ab,e),_e(sb,ab,"esm2017")})();var Kl=function(){return Kl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kl.apply(this,arguments)};var YV={includeMetadataChanges:!1};function kS(t,e){return e===void 0&&(e=YV),new G(function(n){var r=Wy(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Kl(Kl({},r),(n={},n[e.idField]=t.id,n))}function OS(t){return kS(t,{includeMetadataChanges:!0}).pipe(At(function(e){return e.docs}))}function FS(t,e){return e===void 0&&(e={}),OS(t).pipe(At(function(n){return n.map(function(r){return xS(r,e)})}))}var _a=class{constructor(e){return e}},LS="firestore",Ky=class{constructor(){return Wi(LS)}};var Qy=new Y("angularfire2.firestore-instances");function ZV(t,e){let n=Vs(LS,t,e);return n&&new _a(n)}function JV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _a(r)}}var XV={provide:Ky,deps:[[new ft,Qy]]},e2={provide:_a,useFactory:ZV,deps:[[new ft,Qy],dn]};function GZ(t,...e){return _e("angularfire",Wn.full,"fst"),Nt([e2,XV,{provide:Qy,useFactory:JV(t),multi:!0,deps:[ge,tt,Kn,$r,[new ft,Zs],[new ft,Ki],...e]}])}var WZ=Ke(FS,!0);var KZ=Ke(_S,!0,2);var QZ=Ke(ES,!0,2);var YZ=Ke(IS,!0);var ZZ=Ke(SS,!0,2);var JZ=Ke(RS,!0,2);var XZ=Ke(PS,!0,2);var eJ=Ke(AS,!0,2);export{Oe as a,Fe as b,_ as c,Te as d,i_ as e,G as f,Ad as g,Nd as h,on as i,qo as j,Go as k,Vt as l,E_ as m,LA as n,VA as o,Er as p,At as q,GA as r,Ir as s,oc as t,KA as u,QA as v,vi as w,b_ as x,YA as y,Wo as z,xd as A,JA as B,XA as C,Od as D,e0 as E,S_ as F,A_ as G,N_ as H,t0 as I,n0 as J,J as K,Ic as L,wc as M,fe as N,Tc as O,f0 as P,Y as Q,Ve as R,L as S,Nt as T,If as U,it as V,Fn as W,mE as X,yE as Y,tt as Z,Mi as _,ki as $,Cr as aa,wt as ba,x0 as ca,Hf as da,Un as ea,fI as fa,fN as ga,bh as ha,vN as ia,_N as ja,kI as ka,Sh as la,IN as ma,Vi as na,GN as oa,Es as pa,Zc as qa,Oh as ra,un as sa,ge as ta,ws as ua,_w as va,Tt as wa,Ss as xa,Rw as ya,Pw as za,NP as Aa,Kh as Ba,lu as Ca,xw as Da,Ow as Ea,qP as Fa,As as Ga,Vw as Ha,Ns as Ia,Uw as Ja,Zh as Ka,Jh as La,$w as Ma,WP as Na,qw as Oa,QP as Pa,YP as Qa,Gw as Ra,Ww as Sa,fM as Ta,Yw as Ua,Xh as Va,Zw as Wa,gM as Xa,Jw as Ya,mM as Za,yM as _a,wM as $a,bM as ab,SM as bb,NM as cb,RM as db,MM as eb,hu as fb,OM as gb,ZW as hb,cT as ib,JW as jb,XW as kb,mu as lb,ik as mb,lp as nb,mT as ob,_T as pb,ck as qb,fk as rb,hk as sb,pk as tb,pp as ub,N7 as vb,kK as wb,xK as xb,Ys as yb,iY as zb,oY as Ab,sY as Bb,aY as Cb,_a as Db,GZ as Eb,WZ as Fb,KZ as Gb,QZ as Hb,YZ as Ib,ZZ as Jb,JZ as Kb,XZ as Lb,eJ as Mb};
