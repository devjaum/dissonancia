var zN=Object.defineProperty,GN=Object.defineProperties;var WN=Object.getOwnPropertyDescriptors;var LI=Object.getOwnPropertySymbols,KN=Object.getPrototypeOf,QN=Object.prototype.hasOwnProperty,YN=Object.prototype.propertyIsEnumerable,ZN=Reflect.get;var FI=(n,e,t)=>e in n?zN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})QN.call(e,t)&&FI(n,t,e[t]);if(LI)for(var t of LI(e))YN.call(e,t)&&FI(n,t,e[t]);return n},me=(n,e)=>GN(n,WN(e));var rr=(n,e,t)=>ZN(KN(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var kf;function hu(){return kf}function nn(n){let e=kf;return kf=n,e}var VI=Symbol("NotFound");function Zi(n){return n===VI||n?.name==="\u0275NotFound"}var it=null,fu=!1,xf=1,JN=null,ot=Symbol("SIGNAL");function ee(n){let e=it;return it=n,e}function yu(){return it}var Ji={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xi(n){if(fu)throw new Error("");if(it===null)return;it.consumerOnSignalRead(n);let e=it.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=it.recomputing;if(r&&(t=e!==void 0?e.nextProducer:it.producers,t!==void 0&&t.producer===n)){it.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===it&&(!r||eM(i,it)))return;let o=to(it),s={producer:n,consumer:it,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};it.producersTail=s,e!==void 0?e.nextProducer=s:it.producers=s,o&&$I(n,s)}function jI(){xf++}function vu(n){if(!(to(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===xf)){if(!n.producerMustRecompute(n)&&!Js(n)){mu(n);return}n.producerRecomputeValue(n),mu(n)}}function Of(n){if(n.consumers===void 0)return;let e=fu;fu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||XN(r)}}finally{fu=e}}function Lf(){return it?.consumerAllowSignalWrites!==!1}function XN(n){n.dirty=!0,Of(n),n.consumerMarkedDirty?.(n)}function mu(n){n.dirty=!1,n.lastCleanEpoch=xf}function eo(n){return n&&UI(n),ee(n)}function UI(n){n.producersTail=void 0,n.recomputing=!0}function Zs(n,e){ee(e),n&&BI(n)}function BI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(to(n))do t=Ff(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Js(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(vu(t),r!==t.version))return!0}return!1}function Xs(n){if(to(n)){let e=n.producers;for(;e!==void 0;)e=Ff(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function $I(n,e){let t=n.consumersTail,r=to(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)$I(i.producer,i)}function Ff(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!to(e)){let o=e.producers;for(;o!==void 0;)o=Ff(o)}return t}function to(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function _u(n){JN?.(n)}function eM(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Eu(n,e){return Object.is(n,e)}function Iu(n,e){let t=Object.create(tM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(vu(t),Xi(t),t.value===Ys)throw t.error;return t.value};return r[ot]=t,_u(t),r}var pu=Symbol("UNSET"),gu=Symbol("COMPUTING"),Ys=Symbol("ERRORED"),tM=me(V({},Ji),{value:pu,dirty:!0,error:null,equal:Eu,kind:"computed",producerMustRecompute(n){return n.value===pu||n.value===gu},producerRecomputeValue(n){if(n.value===gu)throw new Error("");let e=n.value;n.value=gu;let t=eo(n),r,i=!1;try{r=n.computation(),ee(null),i=e!==pu&&e!==Ys&&r!==Ys&&n.equal(e,r)}catch(o){r=Ys,n.error=o}finally{Zs(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function nM(){throw new Error}var HI=nM;function qI(n){HI(n)}function Vf(n){HI=n}var rM=null;function jf(n,e){let t=Object.create(wu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>zI(t);return r[ot]=t,_u(t),[r,s=>no(t,s),s=>Uf(t,s)]}function zI(n){return Xi(n),n.value}function no(n,e){Lf()||qI(n),n.equal(n.value,e)||(n.value=e,iM(n))}function Uf(n,e){Lf()||qI(n),no(n,e(n.value))}var wu=me(V({},Ji),{equal:Eu,value:void 0,kind:"signal"});function iM(n){n.version++,jI(),Of(n),rM?.(n)}function Z(n){return typeof n=="function"}function ro(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Tu=ro(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ce=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Tu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GI(o)}catch(s){e=e??[],s instanceof Tu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yr(t,e)}remove(e){let{_finalizers:t}=this;t&&Yr(t,e),e instanceof n&&e._removeParent(this)}};Ce.EMPTY=(()=>{let n=new Ce;return n.closed=!0,n})();var Bf=Ce.EMPTY;function Du(n){return n instanceof Ce||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function GI(n){Z(n)?n():n.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var io={setTimeout(n,e,...t){let{delegate:r}=io;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=io;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bu(n){io.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(n);else throw n})}function ea(){}var WI=$f("C",void 0,void 0);function KI(n){return $f("E",void 0,n)}function QI(n){return $f("N",n,void 0)}function $f(n,e,t){return{kind:n,value:e,error:t}}var Zr=null;function oo(n){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Zr;if(e&&(Zr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Zr;if(Zr=null,t)throw r}}else n()}function YI(n){Gt.useDeprecatedSynchronousErrorHandling&&Zr&&(Zr.errorThrown=!0,Zr.error=n)}var Jr=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Du(e)&&e.add(this)):this.destination=aM}static create(e,t,r){return new so(e,t,r)}next(e){this.isStopped?qf(QI(e),this):this._next(e)}error(e){this.isStopped?qf(KI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(WI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oM=Function.prototype.bind;function Hf(n,e){return oM.call(n,e)}var zf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cu(r)}else Cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cu(t)}}},so=class extends Jr{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hf(e.next,o),error:e.error&&Hf(e.error,o),complete:e.complete&&Hf(e.complete,o)}):i=e}this.destination=new zf(i)}};function Cu(n){Gt.useDeprecatedSynchronousErrorHandling?YI(n):bu(n)}function sM(n){throw n}function qf(n,e){let{onStoppedNotification:t}=Gt;t&&io.setTimeout(()=>t(n,e))}var aM={closed:!0,next:ea,error:sM,complete:ea};var ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(n){return n}function Su(...n){return Gf(n)}function Gf(n){return n.length===0?Tt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uM(t)?t:new so(t,r,i);return oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ZI(r),new r((i,o)=>{let s=new so({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ao](){return this}pipe(...t){return Gf(t)(this)}toPromise(t){return t=ZI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ZI(n){var e;return(e=n??Gt.Promise)!==null&&e!==void 0?e:Promise}function cM(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function uM(n){return n&&n instanceof Jr||cM(n)&&Du(n)}function Wf(n){return Z(n?.lift)}function ue(n){return e=>{if(Wf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,r,i){return new Kf(n,e,t,r,i)}var Kf=class extends Jr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function co(){return ue((n,e)=>{let t=null;n._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var uo=class extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return co()(this)}};var JI=ro(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Au(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JI}next(t){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bf:(this.currentObservers=null,o.push(t),new Ce(()=>{this.currentObservers=null,Yr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new K;return t.source=this,t}}return n.create=(e,t)=>new Au(e,t),n})(),Au=class extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Bf}};var Ze=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qf={now(){return(Qf.delegate||Date).now()},delegate:void 0};var Ru=class extends Ce{constructor(e,t){super()}schedule(e,t=0){return this}};var ta={setInterval(n,e,...t){let{delegate:r}=ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var lo=class extends Ru{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ho=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ho.now=Qf.now;var fo=class extends ho{constructor(e,t=ho.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Yf=new fo(lo);var Nu=class extends lo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Mu=class extends fo{};var Zf=new Mu(Nu);var yt=new K(n=>n.complete());function XI(n){return n&&Z(n.schedule)}function ew(n){return n[n.length-1]}function Pu(n){return Z(ew(n))?n.pop():void 0}function ir(n){return XI(ew(n))?n.pop():void 0}function Jf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function nw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function tw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(n){return this instanceof Xr?(this.v=n,this):new Xr(n)}function rw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,O){o.push([y,M,R,O])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Xr?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function iw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tw=="function"?tw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ku=n=>n&&typeof n.length=="number"&&typeof n!="function";function xu(n){return Z(n?.then)}function Ou(n){return Z(n[ao])}function Lu(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function Fu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=lM();function ju(n){return Z(n?.[Vu])}function Uu(n){return rw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Xr(t.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{t.releaseLock()}})}function Bu(n){return Z(n?.getReader)}function Pe(n){if(n instanceof K)return n;if(n!=null){if(Ou(n))return dM(n);if(ku(n))return hM(n);if(xu(n))return fM(n);if(Lu(n))return ow(n);if(ju(n))return pM(n);if(Bu(n))return gM(n)}throw Fu(n)}function dM(n){return new K(e=>{let t=n[ao]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hM(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fM(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bu)})}function pM(n){return new K(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ow(n){return new K(e=>{mM(n,e).catch(t=>e.error(t))})}function gM(n){return ow(Uu(n))}function mM(n,e){var t,r,i,o;return nw(this,void 0,void 0,function*(){try{for(t=iw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function or(n,e=0){return ue((t,r)=>{t.subscribe(se(r,i=>vt(r,n,()=>r.next(i),e),()=>vt(r,n,()=>r.complete(),e),i=>vt(r,n,()=>r.error(i),e)))})}function sr(n,e=0){return ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sw(n,e){return Pe(n).pipe(sr(e),or(e))}function aw(n,e){return Pe(n).pipe(sr(e),or(e))}function cw(n,e){return new K(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function uw(n,e){return new K(t=>{let r;return vt(t,e,()=>{r=n[Vu](),vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function $u(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{vt(t,e,()=>{let r=n[Symbol.asyncIterator]();vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lw(n,e){return $u(Uu(n),e)}function dw(n,e){if(n!=null){if(Ou(n))return sw(n,e);if(ku(n))return cw(n,e);if(xu(n))return aw(n,e);if(Lu(n))return $u(n,e);if(ju(n))return uw(n,e);if(Bu(n))return lw(n,e)}throw Fu(n)}function Se(n,e){return e?dw(n,e):Pe(n)}function G(...n){let e=ir(n);return Se(n,e)}function po(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new K(e?i=>e.schedule(r,0,i):r)}function Xf(n){return!!n&&(n instanceof K||Z(n.lift)&&Z(n.subscribe))}var An=ro(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return ue((t,r)=>{let i=0;t.subscribe(se(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yM}=Array;function vM(n,e){return yM(e)?n(...e):n(e)}function Hu(n){return ie(e=>vM(n,e))}var{isArray:_M}=Array,{getPrototypeOf:EM,prototype:IM,keys:wM}=Object;function qu(n){if(n.length===1){let e=n[0];if(_M(e))return{args:e,keys:null};if(TM(e)){let t=wM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function TM(n){return n&&typeof n=="object"&&EM(n)===IM}function zu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gu(...n){let e=ir(n),t=Pu(n),{args:r,keys:i}=qu(n);if(r.length===0)return Se([],e);let o=new K(DM(r,e,i?s=>zu(i,s):Tt));return t?o.pipe(Hu(t)):o}function DM(n,e,t=Tt){return r=>{hw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hw(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(se(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hw(n,e,t){n?vt(t,n,e):e()}function fw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;Pe(t(M,h++)).subscribe(se(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?vt(e,s,()=>S(O)):S(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(se(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(n,e,t=1/0){return Z(e)?Ve((r,i)=>ie((o,s)=>e(r,o,i,s))(Pe(n(r,i))),t):(typeof e=="number"&&(t=e),ue((r,i)=>fw(r,i,n,t)))}function pw(n=1/0){return Ve(Tt,n)}function gw(){return pw(1)}function go(...n){return gw()(Se(n,ir(n)))}function na(n){return new K(e=>{Pe(n()).subscribe(e)})}function bM(...n){let e=Pu(n),{args:t,keys:r}=qu(n),i=new K(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Pe(t[h]).subscribe(se(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?zu(r,a):a),o.complete())}))}});return e?i.pipe(Hu(e)):i}function Dt(n,e){return ue((t,r)=>{let i=0;t.subscribe(se(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ar(n){return ue((e,t)=>{let r=null,i=!1,o;r=e.subscribe(se(t,void 0,void 0,s=>{o=Pe(n(s,ar(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function mw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(se(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function mo(n,e){return Z(e)?Ve(n,e,1):Ve(n,1)}function cr(n){return ue((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rn(n){return n<=0?()=>yt:ue((e,t)=>{let r=0;e.subscribe(se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wu(n=CM){return ue((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function CM(){return new An}function ra(n){return ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Tt,Rn(1),t?cr(e):Wu(()=>new An))}function yo(n){return n<=0?()=>yt:ue((e,t)=>{let r=[];e.subscribe(se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ep(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Tt,yo(1),t?cr(e):Wu(()=>new An))}function Ku(n,e){return ue(mw(n,e,arguments.length>=2,!0))}function Qu(...n){let e=ir(n);return ue((t,r)=>{(e?go(n,t,e):go(n,t)).subscribe(r)})}function ft(n,e){return ue((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=o++;Pe(n(u,h)).subscribe(i=se(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yu(n){return ue((e,t)=>{Pe(n).subscribe(se(t,()=>t.complete(),ea)),!t.closed&&e.subscribe(t)})}function Be(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}function yw(n){let e=ee(null);try{return n()}finally{ee(e)}}var _o=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},fp=new _o("20.3.9");var pp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Eo(e,t)),this.code=e}};function SM(n){return`NG0${Math.abs(n)}`}function Eo(n,e){return`${SM(n)}${e?": "+e:""}`}function fe(n){for(let e in n)if(n[e]===fe)return e;throw Error("")}function Ew(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function gp(n,e){return n?e?`${n} ${e}`:n:e||""}var AM=fe({__forward_ref__:fe});function el(n){return n.__forward_ref__=el,n.toString=function(){return Pn(this())},n}function Je(n){return mp(n)?n():n}function mp(n){return typeof n=="function"&&n.hasOwnProperty(AM)&&n.__forward_ref__===el}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Io(n){return{providers:n.providers||[],imports:n.imports||[]}}function aa(n){return RM(n,tl)}function yp(n){return aa(n)!==null}function RM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function NM(n){let e=n?.[tl]??null;return e||null}function np(n){return n&&n.hasOwnProperty(Ju)?n[Ju]:null}var tl=fe({\u0275prov:fe}),Ju=fe({\u0275inj:fe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vp(n){return n&&!!n.\u0275providers}var _p=fe({\u0275cmp:fe}),Ep=fe({\u0275dir:fe}),Ip=fe({\u0275pipe:fe}),wp=fe({\u0275mod:fe}),oa=fe({\u0275fac:fe}),oi=fe({__NG_ELEMENT_ID__:fe}),vw=fe({__NG_ENV_ID__:fe});function Tp(n){return typeof n=="string"?n:n==null?"":String(n)}function Iw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Tp(n)}var ww=fe({ngErrorCode:fe}),MM=fe({ngErrorMessage:fe}),PM=fe({ngTokenPath:fe});function Dp(n,e){return Tw("",-200,e)}function nl(n,e){throw new j(-201,!1)}function Tw(n,e,t){let r=new j(e,n);return r[ww]=e,r[MM]=n,t&&(r[PM]=t),r}function kM(n){return n[ww]}var rp;function Dw(){return rp}function bt(n){let e=rp;return rp=n,e}function bp(n,e,t){let r=aa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;nl(n,"Injector")}var xM={},ei=xM,ip="__NG_DI_FLAG__",op=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ti(t)||0;try{return this.injector.get(e,r&8?null:ei,r)}catch(i){if(Zi(i))return i;throw i}}};function OM(n,e=0){let t=hu();if(t===void 0)throw new j(-203,!1);if(t===null)return bp(n,void 0,e);{let r=LM(e),i=t.retrieve(n,r);if(Zi(i)){if(r.optional)return null;throw i}return i}}function te(n,e=0){return(Dw()||OM)(Je(n),e)}function k(n,e){return te(n,ti(e))}function ti(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function LM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function sp(n){let e=[];for(let t=0;t<n.length;t++){let r=Je(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=FM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(te(i,o))}else e.push(te(r))}return e}function bw(n,e){return n[ip]=e,n.prototype[ip]=e,n}function FM(n){return n[ip]}function ni(n,e){let t=n.hasOwnProperty(oa);return t?n[oa]:null}function rl(n,e){n.forEach(t=>Array.isArray(t)?rl(t,e):e(t))}function Cp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ca(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Cw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Sw(n,e,t){let r=wo(n,e);return r>=0?n[r|1]=t:(r=~r,Cw(n,r,e,t)),r}function il(n,e){let t=wo(n,e);if(t>=0)return n[t|1]}function wo(n,e){return VM(n,e,1)}function VM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var dr={},Ct=[],kn=new U(""),Sp=new U("",-1),Ap=new U(""),sa=class{get(e,t=ei){if(t===ei){let i=Tw("",-201);throw i.name="\u0275NotFound",i}return t}};function Rp(n){return n[wp]||null}function hr(n){return n[_p]||null}function Np(n){return n[Ep]||null}function Aw(n){return n[Ip]||null}function St(n){return{\u0275providers:n}}function Rw(n){return St([{provide:kn,multi:!0,useValue:n}])}function Nw(...n){return{\u0275providers:Mp(!0,n),\u0275fromNgModule:!0}}function Mp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return rl(e,s=>{let a=s;Xu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mw(i,o),t}function Mw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Pp(i,o=>{e(o,r)})}}function Xu(n,e,t,r){if(n=Je(n),!n)return!1;let i=null,o=np(n),s=!o&&hr(n);if(!o&&!s){let u=n.ngModule;if(o=np(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Xu(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rl(o.imports,h=>{Xu(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Mw(l,e)}if(!a){let l=ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:Ap,useValue:i,multi:!0},i),e({provide:kn,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Pp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Pp(n,e){for(let t of n)vp(t)&&(t=t.\u0275providers),Array.isArray(t)?Pp(t,e):e(t)}var jM=fe({provide:String,useValue:fe});function Pw(n){return n!==null&&typeof n=="object"&&jM in n}function UM(n){return!!(n&&n.useExisting)}function BM(n){return!!(n&&n.useFactory)}function ri(n){return typeof n=="function"}function kw(n){return!!n.useClass}var ua=new U(""),Zu={},_w={},tp;function la(){return tp===void 0&&(tp=new sa),tp}var je=class{},ii=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,cp(e,s=>this.processProvider(s)),this.records.set(Sp,vo(void 0,this)),i.has("environment")&&this.records.set(je,vo(void 0,this));let o=this.records.get(ua);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ap,Ct,{self:!0}))}retrieve(e,t){let r=ti(t)||0;try{return this.get(e,ei,r)}catch(i){if(Zi(i))return i;throw i}}destroy(){ia(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ia(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ia(this);let t=nn(this),r=bt(void 0),i;try{return e()}finally{nn(t),bt(r)}}get(e,t=ei,r){if(ia(this),e.hasOwnProperty(vw))return e[vw](this);let i=ti(r),o,s=nn(this),a=bt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=GM(e)&&aa(e);h&&this.injectableDefInScope(h)?l=vo(ap(e),Zu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?la():this.parent;return t=i&8&&t===ei?null:t,u.get(e,t)}catch(u){let l=kM(u);throw l===-200||l===-201?new j(l,null):u}finally{bt(a),nn(s)}}resolveInjectorInitializers(){let e=ee(null),t=nn(this),r=bt(void 0),i;try{let o=this.get(kn,Ct,{self:!0});for(let s of o)s()}finally{nn(t),bt(r),ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let t=ri(e)?e:Je(e&&e.provide),r=HM(e);if(!ri(e)&&e.multi===!0){let i=this.records.get(t);i||(i=vo(void 0,Zu,!0),i.factory=()=>sp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ee(null);try{if(t.value===_w)throw Dp(Pn(e));return t.value===Zu&&(t.value=_w,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&zM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Je(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ap(n){let e=aa(n),t=e!==null?e.factory:ni(n);if(t!==null)return t;if(n instanceof U)throw new j(204,!1);if(n instanceof Function)return $M(n);throw new j(204,!1)}function $M(n){if(n.length>0)throw new j(204,!1);let t=NM(n);return t!==null?()=>t.factory(n):()=>new n}function HM(n){if(Pw(n))return vo(void 0,n.useValue);{let e=kp(n);return vo(e,Zu)}}function kp(n,e,t){let r;if(ri(n)){let i=Je(n);return ni(i)||ap(i)}else if(Pw(n))r=()=>Je(n.useValue);else if(BM(n))r=()=>n.useFactory(...sp(n.deps||[]));else if(UM(n))r=(i,o)=>te(Je(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Je(n&&(n.useClass||n.provide));if(qM(n))r=()=>new i(...sp(n.deps));else return ni(i)||ap(i)}return r}function ia(n){if(n.destroyed)throw new j(205,!1)}function vo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qM(n){return!!n.deps}function zM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function GM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function cp(n,e){for(let t of n)Array.isArray(t)?cp(t,e):t&&vp(t)?cp(t.\u0275providers,e):e(t)}function Ue(n,e){let t;n instanceof ii?(ia(n),t=n):t=new op(n);let r,i=nn(t),o=bt(void 0);try{return e()}finally{nn(i),bt(o)}}function xw(){return Dw()!==void 0||hu()!=null}var Wt=0,ne=1,J=2,Xe=3,Ft=4,Vt=5,da=6,To=7,st=8,fr=9,xn=10,Ne=11,Do=12,xp=13,si=14,jt=15,ai=16,ci=17,ui=18,ha=19,Op=20,Mn=21,ol=22,fa=23,At=24,sl=25,pa=26,Rt=27,Ow=1;var pr=7,ga=8,ma=9,_t=10;function on(n){return Array.isArray(n)&&typeof n[Ow]=="object"}function Kt(n){return Array.isArray(n)&&n[Ow]===!0}function Lp(n){return(n.flags&4)!==0}function gr(n){return n.componentOffset>-1}function ya(n){return(n.flags&1)===1}function sn(n){return!!n.template}function bo(n){return(n[J]&512)!==0}function li(n){return(n[J]&256)===256}var Lw="svg",Fw="math";function Ut(n){for(;Array.isArray(n);)n=n[Wt];return n}function Fp(n,e){return Ut(e[n])}function an(n,e){return Ut(e[n.index])}function al(n,e){return n.data[e]}function Bt(n,e){let t=e[n];return on(t)?t:t[Wt]}function cl(n){return(n[J]&128)===128}function Vw(n){return Kt(n[Xe])}function va(n,e){return e==null?null:n[e]}function Vp(n){n[ci]=0}function jp(n){n[J]&1024||(n[J]|=1024,cl(n)&&Ea(n))}function jw(n,e){for(;n>0;)e=e[si],n--;return e}function _a(n){return!!(n[J]&9216||n[At]?.dirty)}function ul(n){n[xn].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),_a(n)&&Ea(n)}function Ea(n){n[xn].changeDetectionScheduler?.notify(0);let e=ur(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!cl(e)));)e=ur(e)}function Up(n,e){if(li(n))throw new j(911,!1);n[Mn]===null&&(n[Mn]=[]),n[Mn].push(e)}function Uw(n,e){if(n[Mn]===null)return;let t=n[Mn].indexOf(e);t!==-1&&n[Mn].splice(t,1)}function ur(n){let e=n[Xe];return Kt(e)?e[Xe]:e}function Bw(n){return n[To]??=[]}function $w(n){return n.cleanup??=[]}var ae={lFrame:sT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var up=!1;function Hw(){return ae.lFrame.elementDepthCount}function qw(){ae.lFrame.elementDepthCount++}function zw(){ae.lFrame.elementDepthCount--}function Bp(){return ae.bindingsEnabled}function Gw(){return ae.skipHydrationRootTNode!==null}function Ww(n){return ae.skipHydrationRootTNode===n}function Kw(){ae.skipHydrationRootTNode=null}function we(){return ae.lFrame.lView}function $t(){return ae.lFrame.tView}function Qw(n){return ae.lFrame.contextLView=n,n[st]}function Yw(n){return ae.lFrame.contextLView=null,n}function Et(){let n=$p();for(;n!==null&&n.type===64;)n=n.parent;return n}function $p(){return ae.lFrame.currentTNode}function Zw(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Co(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Hp(){return ae.lFrame.isParent}function Jw(){ae.lFrame.isParent=!1}function qp(){return up}function zp(n){let e=up;return up=n,e}function Xw(n){return ae.lFrame.bindingIndex=n}function ll(){return ae.lFrame.bindingIndex++}function eT(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function tT(){return ae.lFrame.inI18n}function nT(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,dl(e)}function rT(){return ae.lFrame.currentDirectiveIndex}function dl(n){ae.lFrame.currentDirectiveIndex=n}function iT(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Gp(n){ae.lFrame.currentQueryIndex=n}function WM(n){let e=n[ne];return e.type===2?e.declTNode:e.type===1?n[Vt]:null}function Wp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=WM(o),i===null||(o=o[si],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=oT();return r.currentTNode=e,r.lView=n,!0}function hl(n){let e=oT(),t=n[ne];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function oT(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?sT(n):e}function sT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function aT(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Kp=aT;function fl(){let n=aT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cT(n){return(ae.lFrame.contextLView=jw(n,ae.lFrame.contextLView))[st]}function di(){return ae.lFrame.selectedIndex}function mr(n){ae.lFrame.selectedIndex=n}function Qp(){let n=ae.lFrame;return al(n.tView,n.selectedIndex)}function uT(){return ae.lFrame.currentNamespace}var lT=!0;function pl(){return lT}function gl(n){lT=n}function lp(n,e=null,t=null,r){let i=Yp(n,e,t,r);return i.resolveInjectorInitializers(),i}function Yp(n,e=null,t=null,r,i=new Set){let o=[t||Ct,Nw(n)];return r=r||(typeof n=="object"?void 0:Pn(n)),new ii(o,e||la(),r||null,i)}var $e=class n{static THROW_IF_NOT_FOUND=ei;static NULL=new sa;static create(e,t){if(Array.isArray(e))return lp({name:""},t,e,"");{let r=e.name??"";return lp({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>te(Sp)});static __NG_ELEMENT_ID__=-1},He=new U(""),yr=(()=>{class n{static __NG_ELEMENT_ID__=KM;static __NG_ENV_ID__=t=>t}return n})(),dp=class extends yr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return li(this._lView)}onDestroy(e){let t=this._lView;return Up(t,e),()=>Uw(t,e)}};function KM(){return new dp(we())}var rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},It=new U("",{providedIn:"root",factory:()=>{let n=k(je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(rn),e.handleError(t))}}}),dT={provide:kn,useValue:()=>void k(rn),multi:!0},QM=new U("",{providedIn:"root",factory:()=>{let n=k(He).defaultView;if(!n)return;let e=k(It),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),k(yr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function YM(){return St([Rw(()=>void k(QM))])}function Zp(n){return typeof n=="function"&&n[ot]!==void 0}function So(n,e){let[t,r,i]=jf(n,e?.equal),o=t,s=o[ot];return o.set=r,o.update=i,o.asReadonly=hT.bind(o),o}function hT(){let n=this[ot];if(n.readonlyFn===void 0){let e=()=>this();e[ot]=n,n.readonlyFn=e}return n.readonlyFn}function Jp(n){return Zp(n)&&typeof n.set=="function"}var lr=class{},Ia=new U("",{providedIn:"root",factory:()=>!1});var Xp=new U(""),eg=new U(""),cn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ao=(()=>{class n{internalPendingTasks=k(cn);scheduler=k(lr);errorHandler=k(It);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();function wa(...n){}var tg=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new hp})}return n})(),hp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Oo(n){return{toString:n}.toString()}var ml="__parameters__";function sP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function aP(n,e,t){return Oo(()=>{let r=sP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ml)?u[ml]:Object.defineProperty(u,ml,{value:[]})[ml];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Nt=bw(aP("Optional"),8);function cP(n){return typeof n=="function"}var Il=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ol=(()=>{let n=()=>GT;return n.ngInherit=!0,n})();function GT(n){return n.type.prototype.ngOnChanges&&(n.setInput=lP),uP}function uP(){let n=KT(this),e=n?.current;if(e){let t=n.previous;if(t===dr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function lP(n,e,t,r,i){let o=this.declaredInputs[r],s=KT(n)||dP(n,{previous:dr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Il(l&&l.currentValue,t,u===dr),zT(n,e,i,t)}var WT="__ngSimpleChanges__";function KT(n){return n[WT]||null}function dP(n,e){return n[WT]=e}var fT=[];var Ee=function(n,e=null,t){for(let r=0;r<fT.length;r++){let i=fT[r];i(n,e,t)}};function hP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=GT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function QT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function vl(n,e,t){YT(n,e,3,t)}function _l(n,e,t,r){(n[J]&3)===t&&YT(n,e,t,r)}function ng(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function YT(n,e,t,r){let i=r!==void 0?n[ci]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ci]+=65536),(a<o||o==-1)&&(fP(n,t,e,u),n[ci]=(n[ci]&4294901760)+u+2),u++}function pT(n,e){Ee(4,n,e);let t=ee(null);try{e.call(n)}finally{ee(t),Ee(5,n,e)}}function fP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[J]>>14<n[ci]>>16&&(n[J]&3)===e&&(n[J]+=16384,pT(a,o)):pT(a,o)}var No=-1,fi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function pP(n){return(n.flags&8)!==0}function gP(n){return(n.flags&16)!==0}function mP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];vP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function yP(n){return n===3||n===4||n===6}function vP(n){return n.charCodeAt(0)===64}function ba(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?gT(n,t,i,null,e[++r]):gT(n,t,i,null,null))}}return n}function gT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ZT(n){return n!==No}function wl(n){return n&32767}function _P(n){return n>>16}function Tl(n,e){let t=_P(n),r=e;for(;t>0;)r=r[si],t--;return r}var hg=!0;function mT(n){let e=hg;return hg=n,e}var EP=256,JT=EP-1,XT=5,IP=0,un={};function wP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oi)&&(r=t[oi]),r==null&&(r=t[oi]=IP++);let i=r&JT,o=1<<i;e.data[n+(i>>XT)]|=o}function Dl(n,e){let t=eD(n,e);if(t!==-1)return t;let r=e[ne];r.firstCreatePass&&(n.injectorIndex=e.length,rg(r.data,n),rg(e,null),rg(r.blueprint,null));let i=Pg(n,e),o=n.injectorIndex;if(ZT(i)){let s=wl(i),a=Tl(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function rg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Pg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=oD(i),r===null)return No;if(t++,i=i[si],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return No}function fg(n,e,t){wP(n,e,t)}function tD(n,e,t){if(t&8||n!==void 0)return n;nl(e,"NodeInjector")}function nD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[fr],o=bt(void 0);try{return i?i.get(e,r,t&8):bp(e,r,t&8)}finally{bt(o)}}return tD(r,e,t)}function rD(n,e,t,r=0,i){if(n!==null){if(e[J]&2048&&!(r&2)){let s=SP(n,e,t,r,un);if(s!==un)return s}let o=iD(n,e,t,r,un);if(o!==un)return o}return nD(e,t,r,i)}function iD(n,e,t,r,i){let o=bP(t);if(typeof o=="function"){if(!Wp(e,n,r))return r&1?tD(i,t,r):nD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))nl(t);else return s}finally{Kp()}}else if(typeof o=="number"){let s=null,a=eD(n,e),u=No,l=r&1?e[jt][Vt]:null;for((a===-1||r&4)&&(u=a===-1?Pg(n,e):e[a+8],u===No||!vT(r,!1)?a=-1:(s=e[ne],a=wl(u),e=Tl(u,e)));a!==-1;){let h=e[ne];if(yT(o,a,h.data)){let p=TP(a,e,t,s,r,l);if(p!==un)return p}u=e[a+8],u!==No&&vT(r,e[ne].data[a+8]===l)&&yT(o,a,e)?(s=h,a=wl(u),e=Tl(u,e)):a=-1}}return i}function TP(n,e,t,r,i,o){let s=e[ne],a=s.data[n+8],u=r==null?gr(a)&&hg:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=DP(a,s,t,u,l);return h!==null?bl(e,s,h,a,i):un}function DP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&sn(y)&&y.type===t)return u}return null}function bl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof fi){let a=o;if(a.resolving){let y=Iw(s[t]);throw Dp(y)}let u=mT(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?bt(a.injectImpl):null,m=Wp(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&hP(t,s[t],e)}finally{p!==null&&bt(p),mT(u),a.resolving=!1,Kp()}}return o}function bP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(oi)?n[oi]:void 0;return typeof e=="number"?e>=0?e&JT:CP:e}function yT(n,e,t){let r=1<<n;return!!(t[e+(n>>XT)]&r)}function vT(n,e){return!(n&2)&&!(n&1&&e)}var hi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rD(this._tNode,this._lView,e,ti(r),t)}};function CP(){return new hi(Et(),we())}function Ll(n){return Oo(()=>{let e=n.prototype.constructor,t=e[oa]||pg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[oa]||pg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pg(n){return mp(n)?()=>{let e=pg(Je(n));return e&&e()}:ni(n)}function SP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!bo(s);){let a=iD(o,s,t,r|2,un);if(a!==un)return a;let u=o.parent;if(!u){let l=s[Op];if(l){let h=l.get(t,un,r);if(h!==un)return h}u=oD(s),s=s[si]}o=u}return i}function oD(n){let e=n[ne],t=e.type;return t===2?e.declTNode:t===1?n[Vt]:null}function AP(){return Fl(Et(),we())}function Fl(n,e){return new kg(an(n,e))}var kg=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=AP}return n})();function sD(n){return(n.flags&128)===128}var xg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(xg||{}),aD=new Map,RP=0;function NP(){return RP++}function MP(n){aD.set(n[ha],n)}function gg(n){aD.delete(n[ha])}var _T="__ngContext__";function Mo(n,e){on(e)?(n[_T]=e[ha],MP(e)):n[_T]=e}function cD(n){return lD(n[Do])}function uD(n){return lD(n[Ft])}function lD(n){for(;n!==null&&!Kt(n);)n=n[Ft];return n}var mg;function Og(n){mg=n}function dD(){if(mg!==void 0)return mg;if(typeof document<"u")return document;throw new j(210,!1)}var Vl=new U("",{providedIn:"root",factory:()=>PP}),PP="ng",jl=new U(""),_r=new U("",{providedIn:"platform",factory:()=>"unknown"});var Ul=new U("",{providedIn:"root",factory:()=>dD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kP="h",xP="b";var hD=!1,fD=new U("",{providedIn:"root",factory:()=>hD});var OP=(n,e,t,r)=>{};function LP(n,e,t,r){OP(n,e,t,r)}function Lg(n){return(n.flags&32)===32}var FP=()=>null;function pD(n,e,t=!1){return FP(n,e,t)}function gD(n,e){let t=n.contentQueries;if(t!==null){let r=ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Gp(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function yg(n,e,t){Gp(0);let r=ee(null);try{e(n,t)}finally{ee(r)}}function mD(n,e,t){if(Lp(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ee(r)}}}var On=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(On||{});var vg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pp})`}};function yD(n){return n instanceof vg?n.changingThisBreaksApplicationSecurity:n}function vD(n){return n instanceof Function?n():n}function VP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var _D="ng-template";function jP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Fg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Fg(n){return n.type===4&&n.value!==_D}function UP(n,e,t){let r=n.type===4&&!t?_D:n.value;return e===r}function BP(n,e,t){let r=4,i=n.attrs,o=i!==null?qP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Qt(r)&&!Qt(u))return!1;if(s&&Qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!UP(n,u,t)||u===""&&e.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!jP(n,i,u,t)){if(Qt(r))return!1;s=!0}}else{let l=e[++a],h=$P(u,i,Fg(n),t);if(h===-1){if(Qt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(n){return(n&1)===0}function $P(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zP(e,n)}function HP(n,e,t=!1){for(let r=0;r<e.length;r++)if(BP(n,e[r],t))return!0;return!1}function qP(n){for(let e=0;e<n.length;e++){let t=n[e];if(yP(t))return e}return n.length}function zP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ET(n,e){return n?":not("+e.trim()+")":e}function GP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(e+=ET(o,i),i=""),r=s,o=o||!Qt(r);t++}return i!==""&&(e+=ET(o,i)),e}function WP(n){return n.map(GP).join(",")}function KP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Qt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Er={};function QP(n,e){return n.createText(e)}function YP(n,e,t){n.setValue(e,t)}function ED(n,e,t){return n.createElement(e,t)}function Cl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ID(n,e,t){n.appendChild(e,t)}function IT(n,e,t,r,i){r!==null?Cl(n,e,t,r,i):ID(n,e,t)}function ZP(n,e,t,r){n.removeChild(null,e,t,r)}function JP(n,e,t){n.setAttribute(e,"style",t)}function XP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mP(n,e,r),i!==null&&XP(n,e,i),o!==null&&JP(n,e,o)}function Vg(n,e,t,r,i,o,s,a,u,l,h){let p=Rt+r,m=p+i,y=ek(p,m),S=typeof l=="function"?l():l;return y[ne]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function ek(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Er);return t}function tk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Vg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function jg(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wt]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),Vp(p),p[Xe]=p[si]=n,p[st]=t,p[xn]=s||n&&n[xn],p[Ne]=a||n&&n[Ne],p[fr]=u||n&&n[fr]||null,p[Vt]=o,p[ha]=NP(),p[da]=h,p[Op]=l,p[jt]=e.type==2?n[jt]:p,p}function nk(n,e,t){let r=an(e,n),i=tk(t),o=n[xn].rendererFactory,s=Ug(n,jg(n,i,null,TD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function TD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function DD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ug(n,e){return n[Do]?n[xp][Ft]=e:n[Do]=e,n[xp]=e,e}function rk(n=1){bD($t(),we(),di()+n,!1)}function bD(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&vl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&_l(e,o,0,t)}mr(t)}var Bl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Bl||{});function _g(n,e,t,r){let i=ee(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Bl.SignalBased)!==0&&(u=e[o][ot]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):zT(e,u,o,r)}finally{ee(i)}}var ln=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ln||{}),ik;function Bg(n,e){return ik(n,e)}var Po=new Set,$g=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})($g||{}),Ra=new U(""),wT=new Set;function $l(n){wT.has(n)||(wT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var CD=!1,Eg=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,xw()&&(this.destroyRef=k(yr,{optional:!0})??void 0,this.pendingTasks=k(cn,{optional:!0})??void 0)}emit(e){let t=ee(null);try{super.next(e)}finally{ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pt=Eg;function SD(n){let e,t;function r(){n=wa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function TT(n){return queueMicrotask(()=>n()),()=>{n=wa}}var Hg="isAngularZone",Sl=Hg+"_ID",ok=0,ye=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CD}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ck(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Hg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,sk,wa,wa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},sk={};function qg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ak(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){SD(()=>{n.callbackScheduled=!1,Ig(n),n.isCheckStableRunning=!0,qg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ig(n)}function ck(n){let e=()=>{ak(n)},t=ok++;n._inner=n._inner.fork({name:"angular",properties:{[Hg]:!0,[Sl]:t,[Sl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(uk(u))return r.invokeTask(o,s,a,u);try{return DT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),bT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return DT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lk(u)&&e(),bT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ig(n),qg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ig(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bT(n){n._nesting--,qg(n)}var Al=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function uk(n){return AD(n,"__ignore_ng_zone__")}function lk(n){return AD(n,"__scheduler_tick__")}function AD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var RD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();var dk=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ND(n,e){let t=n.get(dk);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function hk(n,e){for(let[t,r]of e)ND(n,r.animateFns)}function CT(n,e,t,r){let i=n?.[pa]?.enter;e!==null&&i&&i.has(t.index)&&hk(r,i)}function Ro(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;Kt(i)?u=i:on(i)&&(l=!0,i=i[Wt]);let h=Ut(i);n===0&&r!==null?(CT(a,r,o,t),s==null?ID(e,r,h):Cl(e,r,h,s||null,!0)):n===1&&r!==null?(CT(a,r,o,t),Cl(e,r,h,s||null,!0)):n===2?ST(a,o,t,p=>{ZP(e,h,l,p)}):n===3&&ST(a,o,t,()=>{e.destroyNode(h)}),u!=null&&bk(e,n,t,u,o,r,s)}}function fk(n,e){MD(n,e),e[Wt]=null,e[Vt]=null}function pk(n,e,t,r,i,o){r[Wt]=i,r[Vt]=e,Hl(n,r,t,1,i,o)}function MD(n,e){e[xn].changeDetectionScheduler?.notify(9),Hl(n,e,e[Ne],2,null,null)}function gk(n){let e=n[Do];if(!e)return ig(n[ne],n);for(;e;){let t=null;if(on(e))t=e[Do];else{let r=e[_t];r&&(t=r)}if(!t){for(;e&&!e[Ft]&&e!==n;)on(e)&&ig(e[ne],e),e=e[Xe];e===null&&(e=n),on(e)&&ig(e[ne],e),t=e&&e[Ft]}e=t}}function zg(n,e){let t=n[ma],r=t.indexOf(e);t.splice(r,1)}function PD(n,e){if(li(e))return;let t=e[Ne];t.destroyNode&&Hl(n,e,t,3,null,null),gk(e)}function ig(n,e){if(li(e))return;let t=ee(null);try{e[J]&=-129,e[J]|=256,e[At]&&Xs(e[At]),vk(n,e),yk(n,e),e[ne].type===1&&e[Ne].destroy();let r=e[ai];if(r!==null&&Kt(e[Xe])){r!==e[Xe]&&zg(r,e);let i=e[ui];i!==null&&i.detachView(n)}gg(e)}finally{ee(t)}}function ST(n,e,t,r){let i=n?.[pa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Po.add(n),ND(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),mk(n,r)}else n&&Po.delete(n),r(!1)})}function mk(n,e){let t=n[pa]?.running;if(t){t.then(()=>{n[pa].running=void 0,Po.delete(n),e(!0)});return}e(!1)}function yk(n,e){let t=n.cleanup,r=e[To];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[To]=null);let i=e[Mn];if(i!==null){e[Mn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[fa];if(o!==null){e[fa]=null;for(let s of o)s.destroy()}}function vk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ee(4,a,u);try{u.call(a)}finally{Ee(5,a,u)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function _k(n,e,t){return Ek(n,e.parent,t)}function Ek(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Wt];if(gr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===On.None||i===On.Emulated)return null}return an(r,t)}function Ik(n,e,t){return Tk(n,e,t)}function wk(n,e,t){return n.type&40?an(n,t):null}var Tk=wk,AT;function Gg(n,e,t,r){let i=_k(n,r,e),o=e[Ne],s=r.parent||e[Vt],a=Ik(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)IT(o,i,t[u],a,!1);else IT(o,i,t,a,!1);AT!==void 0&&AT(o,r,e,t,i)}function Ta(n,e){if(e!==null){let t=e.type;if(t&3)return an(e,n);if(t&4)return wg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ta(n,r);{let i=n[e.index];return Kt(i)?wg(-1,i):Ut(i)}}else{if(t&128)return Ta(n,e.next);if(t&32)return Bg(e,n)()||Ut(n[e.index]);{let r=kD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ur(n[jt]);return Ta(i,r)}else return Ta(n,e.next)}}}return null}function kD(n,e){if(e!==null){let r=n[jt][Vt],i=e.projection;return r.projection[i]}return null}function wg(n,e){let t=_t+n+1;if(t<e.length){let r=e[t],i=r[ne].firstChild;if(i!==null)return Ta(r,i)}return e[pr]}function Wg(n,e,t,r,i,o,s){for(;t!=null;){let a=r[fr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Mo(Ut(u),r),t.flags|=2),!Lg(t))if(l&8)Wg(n,e,t.child,r,i,o,!1),Ro(e,n,a,i,u,t,o,r);else if(l&32){let h=Bg(t,r),p;for(;p=h();)Ro(e,n,a,i,p,t,o,r);Ro(e,n,a,i,u,t,o,r)}else l&16?Dk(n,e,r,t,i,o):Ro(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Hl(n,e,t,r,i,o){Wg(t,r,n.firstChild,e,i,o,!1)}function Dk(n,e,t,r,i,o){let s=t[jt],u=s[Vt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ro(e,n,t[fr],i,h,r,o,t)}else{let l=u,h=s[Xe];sD(r)&&(l.flags|=128),Wg(n,e,l,h,i,o,!0)}}function bk(n,e,t,r,i,o,s){let a=r[pr],u=Ut(r);a!==u&&Ro(e,n,t,o,a,i,s);for(let l=_t;l<r.length;l++){let h=r[l];Hl(h[ne],h,n,e,o,a)}}function Ck(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ln.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ln.Important),n.setStyle(t,r,i,o))}}function xD(n,e,t,r,i){let o=di(),s=r&2;try{mr(-1),s&&e.length>Rt&&bD(n,e,Rt,!1),Ee(s?2:0,i,t),t(r,i)}finally{mr(o),Ee(s?3:1,i,t)}}function Kg(n,e,t){kk(n,e,t),(t.flags&64)===64&&xk(n,e,t)}function OD(n,e,t=an){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Sk(n,e,t,r){let o=r.get(fD,hD)||t===On.ShadowDom,s=n.selectRootElement(e,o);return Ak(s),s}function Ak(n){Rk(n)}var Rk=()=>null;function Nk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function LD(n,e,t,r,i,o){let s=e[ne];if(Qg(n,s,e,t,r)){gr(n)&&Pk(e,n.index);return}n.type&3&&(t=Nk(t)),Mk(n,e,t,r,i,o)}function Mk(n,e,t,r,i,o){if(n.type&3){let s=an(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Pk(n,e){let t=Bt(e,n);t[J]&16||(t[J]|=64)}function kk(n,e,t){let r=t.directiveStart,i=t.directiveEnd;gr(t)&&nk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Dl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=bl(e,n,s,t);if(Mo(u,e),o!==null&&Lk(e,s-r,u,a,t,o),sn(a)){let l=Bt(t.index,e);l[st]=bl(e,n,s,t)}}}function xk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rT();try{mr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];dl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ok(u,l)}}finally{mr(-1),dl(s)}}function Ok(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function FD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];HP(e,o.selectors,!1)&&(r??=[],sn(o)?r.unshift(o):r.push(o))}return r}function Lk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];_g(r,t,u,l)}}function Fk(n,e,t,r,i){let o=Rt+t,s=e[ne],a=i(s,e,n,r,t);e[o]=a,Co(n,!0);let u=n.type===2;return u?(wD(e[Ne],a,n),(Hw()===0||ya(n))&&Mo(a,e),qw()):Mo(a,e),pl()&&(!u||!Lg(n))&&Gg(s,e,a,n),n}function Vk(n){let e=n;return Hp()?Jw():(e=e.parent,Co(e,!1)),e}function jk(n,e){let t=n[fr];if(!t)return;let r;try{r=t.get(It,null)}catch{r=null}r?.(e)}function Qg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];_g(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];_g(h,l,r,i),a=!0}return a}function Uk(n,e){let t=Bt(e,n),r=t[ne];Bk(r,t);let i=t[Wt];i!==null&&t[da]===null&&(t[da]=pD(i,t[fr])),Ee(18),Yg(r,t,t[st]),Ee(19,t[st])}function Bk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Yg(n,e,t){hl(e);try{let r=n.viewQuery;r!==null&&yg(1,r,t);let i=n.template;i!==null&&xD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ui]?.finishViewCreation(n),n.staticContentQueries&&gD(n,e),n.staticViewQueries&&yg(2,n.viewQuery,t);let o=n.components;o!==null&&$k(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,fl()}}function $k(n,e){for(let t=0;t<e.length;t++)Uk(n,e[t])}function Hk(n,e,t,r){let i=ee(null);try{let o=e.tView,a=n[J]&4096?4096:16,u=jg(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ai]=l;let h=n[ui];return h!==null&&(u[ui]=h.createEmbeddedView(o)),Yg(o,u,t),u}finally{ee(i)}}function RT(n,e){return!e||e.firstChild===null||sD(n)}function Ca(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ut(o)),Kt(o)&&VD(o,r);let s=t.type;if(s&8)Ca(n,e,t.child,r);else if(s&32){let a=Bg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kD(e,t);if(Array.isArray(a))r.push(...a);else{let u=ur(e[jt]);Ca(u[ne],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VD(n,e){for(let t=_t;t<n.length;t++){let r=n[t],i=r[ne].firstChild;i!==null&&Ca(r[ne],r,i,e)}n[pr]!==n[Wt]&&e.push(n[pr])}function jD(n){if(n[sl]!==null){for(let e of n[sl])e.impl.addSequence(e);n[sl].length=0}}var UD=[];function qk(n){return n[At]??zk(n)}function zk(n){let e=UD.pop()??Object.create(Wk);return e.lView=n,e}function Gk(n){n.lView[At]!==n&&(n.lView=null,UD.push(n))}var Wk=me(V({},Ji),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ea(n.lView)},consumerOnSignalRead(){this.lView[At]=this}});function Kk(n){let e=n[At]??Object.create(Qk);return e.lView=n,e}var Qk=me(V({},Ji),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ur(n.lView);for(;e&&!BD(e[ne]);)e=ur(e);e&&jp(e)},consumerOnSignalRead(){this.lView[At]=this}});function BD(n){return n.type!==2}function $D(n){if(n[fa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var Yk=100;function HD(n,e=0){let r=n[xn].rendererFactory,i=!1;i||r.begin?.();try{Zk(n,e)}finally{i||r.end?.()}}function Zk(n,e){let t=qp();try{zp(!0),Tg(n,e);let r=0;for(;_a(n);){if(r===Yk)throw new j(103,!1);r++,Tg(n,1)}}finally{zp(t)}}function Jk(n,e,t,r){if(li(e))return;let i=e[J],o=!1,s=!1;hl(e);let a=!0,u=null,l=null;o||(BD(n)?(l=qk(e),u=eo(l)):yu()===null?(a=!1,l=Kk(e),u=eo(l)):e[At]&&(Xs(e[At]),e[At]=null));try{Vp(e),Xw(n.bindingStartIndex),t!==null&&xD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&vl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&_l(e,y,0,null),ng(e,0)}if(s||Xk(e),$D(e),qD(e,0),n.contentQueries!==null&&gD(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&vl(e,y)}else{let y=n.contentHooks;y!==null&&_l(e,y,1),ng(e,1)}tx(n,e);let p=n.components;p!==null&&GD(e,p,0);let m=n.viewQuery;if(m!==null&&yg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&vl(e,y)}else{let y=n.viewHooks;y!==null&&_l(e,y,2),ng(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ol]){for(let y of e[ol])y();e[ol]=null}o||(jD(e),e[J]&=-73)}catch(h){throw o||Ea(e),h}finally{l!==null&&(Zs(l,u),a&&Gk(l)),fl()}}function qD(n,e){for(let t=cD(n);t!==null;t=uD(t))for(let r=_t;r<t.length;r++){let i=t[r];zD(i,e)}}function Xk(n){for(let e=cD(n);e!==null;e=uD(e)){if(!(e[J]&2))continue;let t=e[ma];for(let r=0;r<t.length;r++){let i=t[r];jp(i)}}}function ex(n,e,t){Ee(18);let r=Bt(e,n);zD(r,t),Ee(19,r[st])}function zD(n,e){cl(n)&&Tg(n,e)}function Tg(n,e){let r=n[ne],i=n[J],o=n[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Js(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)Jk(r,n,r.template,n[st]);else if(i&8192){let a=ee(null);try{$D(n),qD(n,1);let u=r.components;u!==null&&GD(n,u,1),jD(n)}finally{ee(a)}}}function GD(n,e,t){for(let r=0;r<e.length;r++)ex(n,e[r],t)}function tx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)mr(~i);else{let o=i,s=t[++r],a=t[++r];nT(s,o);let u=e[o];Ee(24,u),a(2,u),Ee(25,u)}}}finally{mr(-1)}}function Zg(n,e){let t=qp()?64:1088;for(n[xn].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=ur(n);if(bo(n)&&!r)return n;n=r}return null}function WD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nx(n,e,t,r=!0){let i=e[ne];if(rx(i,e,n,t),r){let s=wg(t,n),a=e[Ne],u=a.parentNode(n[pr]);u!==null&&pk(i,n[Vt],a,e,u,s)}let o=e[da];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Dg(n,e){if(n.length<=_t)return;let t=_t+e,r=n[t];if(r){let i=r[ai];i!==null&&i!==n&&zg(i,r),e>0&&(n[t-1][Ft]=r[Ft]);let o=ca(n,_t+e);fk(r[ne],r);let s=o[ui];s!==null&&s.detachView(o[ne]),r[Xe]=null,r[Ft]=null,r[J]&=-129}return r}function rx(n,e,t,r){let i=_t+r,o=t.length;r>0&&(t[i-1][Ft]=e),r<o-_t?(e[Ft]=t[i],Cp(t,_t+r,e)):(t.push(e),e[Ft]=null),e[Xe]=t;let s=e[ai];s!==null&&t!==s&&KD(s,e);let a=e[ui];a!==null&&a.insertView(n),ul(e),e[J]|=128}function KD(n,e){let t=n[ma],r=e[Xe];if(on(r))n[J]|=2;else{let i=r[Xe][jt];e[jt]!==i&&(n[J]|=2)}t===null?n[ma]=[e]:t.push(e)}var vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ne];return Ca(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return li(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(Kt(e)){let t=e[ga],r=t?t.indexOf(this):-1;r>-1&&(Dg(e,r),ca(t,r))}this._attachedToViewContainer=!1}PD(this._lView[ne],this._lView)}onDestroy(e){Up(this._lView,e)}markForCheck(){Zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){ul(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,HD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bo(this._lView),t=this._lView[ai];t!==null&&!e&&zg(t,this._lView),MD(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=bo(this._lView),r=this._lView[ai];r!==null&&!t&&KD(r,this._lView),ul(this._lView)}};var Na=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ix;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Hk(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new vr(o)}}return n})();function ix(){return ox(Et(),we())}function ox(n,e){return n.type&4?new Na(e,n,Fl(n,e)):null}function Jg(n,e,t,r,i){let o=n.data[e];if(o===null)o=sx(n,e,t,r,i),tT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Zw();o.injectorIndex=s===null?-1:s.injectorIndex}return Co(o,!0),o}function sx(n,e,t,r,i){let o=$p(),s=Hp(),a=s?o:o&&o.parent,u=n.data[e]=cx(n,a,t,e,r,i);return ax(n,u,o,s),u}function ax(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Gw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iW=new RegExp(`^(\\d+)*(${xP}|${kP})*(.*)`);var ux=()=>null;function NT(n,e){return ux(n,e)}var QD=class{},ql=class{},bg=class{resolveComponentFactory(e){throw new j(917,!1)}},Ma=class{static NULL=new bg},pi=class{},YD=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>lx()}return n})();function lx(){let n=we(),e=Et(),t=Bt(e.index,n);return(on(t)?t:n)[Ne]}var ZD=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var El={},Cg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,El,r);return i!==El||t===El?i:this.parentInjector.get(e,t,r)}};function MT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gp(i,a);else if(o==2){let u=a,l=e[++s];r=gp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function dn(n,e=0){let t=we();if(t===null)return te(n,e);let r=Et();return rD(r,t,Je(n),e)}function JD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}fx(n,e,t,a,o,u,l)}o!==null&&r!==null&&dx(t,r,o)}function dx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function hx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fx(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&sn(y)&&(u=!0,hx(n,t,m)),fg(Dl(t,e),n,y.type)}_x(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=DD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=ba(t.mergedAttrs,y.hostAttrs),gx(n,t,e,p,y),vx(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}px(n,t,o)}function px(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))PT(0,e,i,r),PT(1,e,i,r),xT(e,r,!1);else{let o=t.get(i);kT(0,e,o,r),kT(1,e,o,r),xT(e,r,!0)}}}function PT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XD(e,o)}}function kT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XD(e,s)}}function XD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function xT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Fg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function gx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new fi(o,sn(i),dn,null);n.blueprint[r]=s,t[r]=s,mx(n,e,r,DD(n,t,i.hostVars,Er),i)}function mx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yx(s)!=a&&s.push(a),s.push(t,r,o)}}function yx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function vx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sn(e)&&(t[""]=n)}}function _x(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eb(n,e,t,r,i,o,s,a){let u=e[ne],l=u.consts,h=va(l,s),p=Jg(u,n,t,r,h);return o&&JD(u,e,p,va(l,a),i),p.mergedAttrs=ba(p.mergedAttrs,p.attrs),p.attrs!==null&&MT(p,p.attrs,!1),p.mergedAttrs!==null&&MT(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function tb(n,e){QT(n,e),Lp(e)&&n.queries.elementEnd(e)}function Xg(n){return rb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function zl(n,e,t){if(t===Er)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function og(n,e,t){return function r(i){let o=gr(n)?Bt(n.index,e):e;Zg(o,5);let s=e[st],a=OT(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=OT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function OT(n,e,t,r){let i=ee(null);try{return Ee(6,e,t),t(r)!==!1}catch(o){return jk(n,o),!1}finally{Ee(7,e,t),ee(i)}}function Ex(n,e,t,r,i,o,s,a){let u=ya(n),l=!1,h=null;if(!r&&u&&(h=wx(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=an(n,t),m=r?r(p):p;LP(t,m,o,a);let y=i.listen(m,o,a);if(!Ix(o)){let S=r?M=>r(Ut(M[n.index])):n.index;ib(S,e,t,o,a,y,!1)}}return l}function Ix(n){return n.startsWith("animation")||n.startsWith("transition")}function wx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[To],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ib(n,e,t,r,i,o,s){let a=e.firstCreatePass?$w(e):null,u=Bw(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function LT(n,e,t,r,i,o){let s=e[t],a=e[ne],l=a.data[t].outputs[r],p=s[l].subscribe(o);ib(n.index,a,e,i,o,p,!0)}var Sg=Symbol("BINDING");var Rl=class extends Ma{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=hr(e);return new ko(t,this.ngModule)}};function Tx(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Bl.SignalBased)!==0};return i&&(o.transform=i),o})}function Dx(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function bx(n,e,t){let r=e instanceof je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Cg(t,r):t}function Cx(n){let e=n.get(pi,null);if(e===null)throw new j(407,!1);let t=n.get(ZD,null),r=n.get(lr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Sx(n,e){let t=ob(n);return ED(e,t,t==="svg"?Lw:t==="math"?Fw:null)}function ob(n){return(n.selectors[0][0]||"div").toLowerCase()}var ko=class extends ql{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Dx(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=WP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ee(22);let a=ee(null);try{let u=this.componentDef,l=Ax(r,u,s,o),h=bx(u,i||this.ngModule,e),p=Cx(h),m=p.rendererFactory.createRenderer(null,u),y=r?Sk(m,r,u.encapsulation,h):Sx(u,m),S=s?.some(FT)||o?.some(O=>typeof O!="function"&&O.bindings.some(FT)),M=jg(null,l,null,512|TD(u),null,null,p,m,h,null,pD(y,h,!0));M[Rt]=y,hl(M);let R=null;try{let O=eb(Rt,M,2,"#host",()=>l.directiveRegistry,!0,0);wD(m,y,O),Mo(y,M),Kg(l,M,O),mD(l,O,M),tb(l,O),t!==void 0&&Nx(O,this.ngContentSelectors,t),R=Bt(O.index,M),M[st]=R[st],Yg(l,M,null)}catch(O){throw R!==null&&gg(R),gg(M),O}finally{Ee(23),fl()}return new Nl(this.componentType,M,!!S)}finally{ee(a)}}};function Ax(n,e,t,r){let i=n?["ng-version","20.3.9"]:KP(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Sg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Sg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Np(p);u.push(m)}return Vg(0,null,Rx(o,s),1,a,u,null,null,null,[i],null)}function Rx(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function FT(n){let e=n[Sg].kind;return e==="input"||e==="twoWay"}var Nl=class extends QD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=al(t[ne],Rt),this.location=Fl(this._tNode,t),this.instance=Bt(this._tNode.index,t)[st],this.hostView=this.changeDetectorRef=new vr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Qg(r,i[ne],i,e,t);this.previousInputValues.set(e,t);let s=Bt(r.index,i);Zg(s,1)}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Nx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var yi=(()=>{class n{static __NG_ELEMENT_ID__=Mx}return n})();function Mx(){let n=Et();return kx(n,we())}var Px=yi,sb=class extends Px{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pg(this._hostTNode,this._hostLView);if(ZT(e)){let t=Tl(e,this._hostLView),r=wl(e),i=t[ne].data[r+8];return new hi(i,t)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=VT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=NT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,RT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!cP(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new ko(hr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(je,null);O&&(o=O)}let m=hr(h.componentType??{}),y=NT(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,RT(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Vw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Xe],l=new sb(u,u[Vt],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return nx(s,i,o,r),e.attachToViewContainerRef(),Cp(sg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=VT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Dg(this._lContainer,t);r&&(ca(sg(this._lContainer),t),PD(r[ne],r))}detach(e){let t=this._adjustIndex(e,-1),r=Dg(this._lContainer,t);return r&&ca(sg(this._lContainer),t)!=null?new vr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function VT(n){return n[ga]}function sg(n){return n[ga]||(n[ga]=[])}function kx(n,e){let t,r=e[n.index];return Kt(r)?t=r:(t=WD(r,e,null,n),e[n.index]=t,Ug(e,t)),Ox(t,e,n,r),new sb(t,n,e)}function xx(n,e){let t=n[Ne],r=t.createComment(""),i=an(e,n),o=t.parentNode(i);return Cl(t,o,r,t.nextSibling(i),!1),r}var Ox=Vx,Lx=()=>!1;function Fx(n,e,t){return Lx(n,e,t)}function Vx(n,e,t,r){if(n[pr])return;let i;t.type&8?i=Ut(r):i=xx(e,t),n[pr]=i}var gi=class{},Gl=class{};var Ml=class extends gi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Rl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Rp(e);this._bootstrapComponents=vD(o.bootstrap),this._r3Injector=Yp(e,t,[{provide:gi,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver},...r],Pn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pl=class extends Gl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ml(this.moduleType,e,[])}};var Sa=class extends gi{injector;componentFactoryResolver=new Rl(this);instance=null;constructor(e){super();let t=new ii([...e.providers,{provide:gi,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],e.parent||la(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pa(n,e,t=null){return new Sa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var jx=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Mp(!1,t.type),i=r.length>0?Pa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(te(je))})}return n})();function em(n){return Oo(()=>{let e=ab(n),t=me(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jx).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||On.Emulated,styles:n.styles||Ct,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&$l("NgStandalone"),cb(t);let r=n.dependencies;return t.directiveDefs=jT(r,Ux),t.pipeDefs=jT(r,Aw),t.id=Hx(t),t})}function Ux(n){return hr(n)||Np(n)}function ka(n){return Oo(()=>({type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bx(n,e){if(n==null)return dr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Bl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function $x(n){if(n==null)return dr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Lo(n){return Oo(()=>{let e=ab(n);return cb(e),e})}function ab(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||dr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Bx(n.inputs,e),outputs:$x(n.outputs),debugInfo:null}}function cb(n){n.features?.forEach(e=>e(n))}function jT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Hx(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qx(n){return Object.getPrototypeOf(n.prototype).constructor}function ub(n){let e=qx(n.type),t=!0,r=[n];for(;e;){let i;if(sn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ag(n.inputs),s.declaredInputs=ag(n.declaredInputs),s.outputs=ag(n.outputs);let a=i.hostBindings;a&&Qx(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Wx(n,u),l&&Kx(n,l),zx(n,i),Ew(n.outputs,i.outputs),sn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ub&&(t=!1)}}e=Object.getPrototypeOf(e)}Gx(r)}function zx(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Gx(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ba(i.hostAttrs,t=ba(t,i.hostAttrs))}}function ag(n){return n===dr?{}:n===Ct?[]:n}function Wx(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Kx(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Qx(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Yx(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ba(n.mergedAttrs,n.attrs);let h=n.tView=Vg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Co(n,!1);let u=Jx(t,e,n,r);pl()&&Gg(t,e,u,n),Mo(u,e);let l=WD(u,e,u,n);e[r+Rt]=l,Ug(e,l),Fx(l,n,e)}function Zx(n,e,t,r,i,o,s,a,u,l,h){let p=t+Rt,m;return e.firstCreatePass?(m=Jg(e,p,4,s||null,a||null),Bp()&&JD(e,n,m,va(e.consts,l),FD),QT(e,m)):m=e.data[p],Yx(m,n,e,t,r,i,o,u),ya(m)&&Kg(e,n,m),l!=null&&OD(n,m,h),m}function lb(n,e,t,r,i,o,s,a){let u=we(),l=$t(),h=va(l.consts,o);return Zx(u,l,n,e,t,r,i,h,void 0,s,a),lb}var Jx=Xx;function Xx(n,e,t,r){return gl(!0),e[Ne].createComment("")}var tm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var nm=new U("");function Fo(n){return!!n&&typeof n.then=="function"}function rm(n){return!!n&&typeof n.subscribe=="function"}var db=new U("");var im=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=k(db,{optional:!0})??[];injector=k($e);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(Fo(o))t.push(o);else if(rm(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wl=new U("");function hb(){Vf(()=>{let n="";throw new j(600,n)})}function fb(n){return n.isBoundToModule}var eO=10;var vi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(It);afterRenderManager=k(RD);zonelessEnabled=k(Ia);rootEffectScheduler=k(tg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=k(cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ie(t=>!t))}constructor(){k(Ra,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=k(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=$e.NULL){return this._injector.get(ye).run(()=>{Ee(10);let s=t instanceof ql;if(!this._injector.get(im).done){let S="";throw new j(405,S)}let u;s?u=t:u=this._injector.get(Ma).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=fb(u)?void 0:this._injector.get(gi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(nm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Da(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ee(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($g.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<eO;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!_a(i))continue;let o=r&&!this.zonelessEnabled?0:1;HD(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_a(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Da(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Wl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Da(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Da(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var dW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function pb(n,e,t){let r=we(),i=ll();if(zl(r,i,e)){let o=$t(),s=Qp();LD(s,r,n,e,r[Ne],t)}return pb}function UT(n,e,t,r,i){Qg(e,n,t,i?"class":"style",r)}function om(n,e,t,r){let i=we(),o=i[ne],s=n+Rt,a=o.firstCreatePass?eb(s,i,2,e,FD,Bp(),t,r):o.data[s];if(Fk(a,i,n,e,tO),ya(a)){let u=i[ne];Kg(u,i,a),mD(u,a,i)}return r!=null&&OD(i,a),om}function sm(){let n=$t(),e=Et(),t=Vk(e);return n.firstCreatePass&&tb(n,t),Ww(t)&&Kw(),zw(),t.classesWithoutHost!=null&&pP(t)&&UT(n,t,we(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&gP(t)&&UT(n,t,we(),t.stylesWithoutHost,!1),sm}function Kl(n,e,t,r){return om(n,e,t,r),sm(),Kl}var tO=(n,e,t,r,i)=>(gl(!0),ED(e[Ne],r,uT()));function nO(){return we()}var xa="en-US";var rO=xa;function gb(n){typeof n=="string"&&(rO=n.toLowerCase().replace(/_/g,"-"))}function mb(n,e,t){let r=we(),i=$t(),o=Et();return yb(i,r,r[Ne],o,n,e,t),mb}function yb(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=og(r,e,o),Ex(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=og(r,e,o),LT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=og(r,e,o),LT(r,e,p,i,i,u)}}function iO(n=1){return cT(n)}function yl(n,e){return n<<17|e<<2}function mi(n){return n>>17&32767}function oO(n){return(n&2)==2}function sO(n,e){return n&131071|e<<17}function Ag(n){return n|2}function xo(n){return(n&131068)>>2}function cg(n,e){return n&-131069|e<<2}function aO(n){return(n&1)===1}function Rg(n){return n|1}function cO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mi(s),u=xo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||wo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=mi(n[a+1]);n[r+1]=yl(m,a),m!==0&&(n[m+1]=cg(n[m+1],r)),n[a+1]=sO(n[a+1],r)}else n[r+1]=yl(a,0),a!==0&&(n[a+1]=cg(n[a+1],r)),a=r;else n[r+1]=yl(u,0),a===0?a=r:n[u+1]=cg(n[u+1],r),u=r;l&&(n[r+1]=Ag(n[r+1])),BT(n,h,r,!0),BT(n,h,r,!1),uO(e,h,n,r,o),s=yl(a,u),o?e.classBindings=s:e.styleBindings=s}function uO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&wo(o,e)>=0&&(t[r+1]=Rg(t[r+1]))}function BT(n,e,t,r){let i=n[t+1],o=e===null,s=r?mi(i):xo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];lO(u,e)&&(a=!0,n[s+1]=r?Rg(l):Ag(l)),s=r?mi(l):xo(l)}a&&(n[t+1]=r?Ag(i):Rg(i))}function lO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?wo(n,e)>=0:!1}function vb(n,e,t){return Eb(n,e,t,!1),vb}function _b(n,e){return Eb(n,e,null,!0),_b}function Eb(n,e,t,r){let i=we(),o=$t(),s=eT(2);if(o.firstUpdatePass&&hO(o,n,s,r),e!==Er&&zl(i,s,e)){let a=o.data[di()];yO(o,a,i,i[Ne],n,i[s+1]=vO(e,t),r,s)}}function dO(n,e){return e>=n.expandoStartIndex}function hO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[di()],s=dO(n,t);_O(o,r)&&e===null&&!s&&(e=!1),e=fO(i,o,e,r),cO(i,o,e,t,s,r)}}function fO(n,e,t,r){let i=iT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ug(null,n,e,t,r),t=Aa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ug(i,n,e,t,r),o===null){let u=pO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ug(null,n,e,u[1],r),u=Aa(u,e.attrs,r),gO(n,e,r,u))}else o=mO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(xo(r)!==0)return n[mi(r)]}function gO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[mi(i)]=r}function mO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Aa(r,s,t)}return Aa(r,e.attrs,t)}function ug(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Aa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Aa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Sw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function yO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=aO(l)?$T(u,e,t,i,xo(l),s):void 0;if(!kl(h)){kl(o)||oO(l)&&(o=$T(u,null,t,i,a,s));let p=Fp(di(),t);Ck(r,s,p,i,o)}}function $T(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Er&&(m=p?Ct:void 0);let y=p?il(m,r):h===r?m:void 0;if(l&&!kl(y)&&(y=il(u,r)),kl(y)&&(a=y,s))return a;let S=n[i+1];i=s?mi(S):xo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=il(u,r))}return a}function kl(n){return n!==void 0}function vO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pn(yD(n)))),n}function _O(n,e){return(n.flags&(e?8:16))!==0}function EO(n,e=""){let t=we(),r=$t(),i=n+Rt,o=r.firstCreatePass?Jg(r,i,1,e,null):r.data[i],s=IO(r,t,o,e,n);t[i]=s,pl()&&Gg(r,t,s,o),Co(o,!1)}var IO=(n,e,t,r,i)=>(gl(!0),QP(e[Ne],r));function Ib(n,e,t,r=""){return zl(n,ll(),t)?e+Tp(t)+r:Er}function wb(n){return am("",n),wb}function am(n,e,t){let r=we(),i=Ib(r,n,e,t);return i!==Er&&wO(r,di(),i),am}function wO(n,e,t){let r=Fp(e,n);YP(n[Ne],r,t)}function Tb(n,e,t){Jp(e)&&(e=e());let r=we(),i=ll();if(zl(r,i,e)){let o=$t(),s=Qp();LD(s,r,n,e,r[Ne],t)}return Tb}function TO(n,e){let t=Jp(n);return t&&n.set(e),t}function Db(n,e){let t=we(),r=$t(),i=Et();return yb(r,t,t[Ne],i,n,e),Db}function DO(n,e,t=""){return Ib(we(),n,e,t)}function bO(n,e,t){let r=$t();if(r.firstCreatePass){let i=sn(n);Ng(t,r.data,r.blueprint,i,!0),Ng(e,r.data,r.blueprint,i,!1)}}function Ng(n,e,t,r,i){if(n=Je(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ng(n[o],e,t,r,i);else{let o=$t(),s=we(),a=Et(),u=ri(n)?n:Je(n.provide),l=kp(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ri(n)||!n.multi){let y=new fi(l,i,dn,null),S=dg(u,e,i?h:h+m,p);S===-1?(fg(Dl(a,s),o,u),lg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=dg(u,e,h+m,p),S=dg(u,e,h,h+m),M=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!M){fg(Dl(a,s),o,u);let O=AO(i?SO:CO,t.length,i,r,l,n);!i&&R&&(t[S].providerFactory=O),lg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=bb(t[i?S:y],l,!i&&r);lg(o,n,y>-1?y:S,O)}!i&&r&&R&&t[S].componentProviders++}}}function lg(n,e,t,r){let i=ri(e),o=kw(e);if(i||o){let u=(o?Je(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function bb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function CO(n,e,t,r,i){return Mg(this.multi,[])}function SO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=bl(r,r[ne],this.providerFactory.index,i);s=u.slice(0,a),Mg(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Mg(o,s);return s}function Mg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AO(n,e,t,r,i,o){let s=new fi(n,t,dn,null);return s.multi=[],s.index=e,s.componentProviders=0,bb(s,i,r&&!t),s}function RO(n,e=[]){return t=>{t.providersResolver=(r,i)=>bO(r,i?i(n):n,e)}}var xl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cm=(()=>{class n{compileModuleSync(t){return new Pl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Rp(t),o=vD(i.declarations).reduce((s,a)=>{let u=hr(a);return u&&s.push(new ko(u)),s},[]);return new xl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NO=(()=>{class n{zone=k(ye);changeDetectionScheduler=k(lr);applicationRef=k(vi);applicationErrorHandler=k(It);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cb=new U("",{factory:()=>!1});function um({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(me(V({},lm()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:kn,multi:!0,useFactory:()=>{let r=k(NO,{optional:!0});return()=>r.initialize()}},{provide:kn,multi:!0,useFactory:()=>{let r=k(PO);return()=>{r.initialize()}}},e===!0?{provide:Xp,useValue:!0}:[],{provide:eg,useValue:t??CD},{provide:It,useFactory:()=>{let r=k(ye),i=k(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(rn),o.handleError(s))})}}}]}function MO(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=um({ngZoneFactory:()=>{let i=lm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&$l("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return St([{provide:Cb,useValue:!0},{provide:Ia,useValue:!1},r])}function lm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var PO=(()=>{class n{subscription=new Ce;initialized=!1;zone=k(ye);pendingTasks=k(cn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sb=(()=>{class n{applicationErrorHandler=k(It);appRef=k(vi);taskService=k(cn);ngZone=k(ye);zonelessEnabled=k(Ia);tracing=k(Ra,{optional:!0});disableScheduling=k(Xp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(eg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Al||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?TT:SD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,TT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kO(){return typeof $localize<"u"&&$localize.locale||xa}var Ql=new U("",{providedIn:"root",factory:()=>k(Ql,{optional:!0,skipSelf:!0})||kO()});function Ln(n){return yw(n)}function xO(n,e){return Iu(n,e?.equal)}var Ab=class{[ot];constructor(e){this[ot]=e}destroy(){this[ot].destroy()}};var Pb=Symbol("InputSignalNode#UNSET"),JO=me(V({},wu),{transformFn:void 0,applyValueToInputSignal(n,e){no(n,e)}});function kb(n,e){let t=Object.create(JO);t.value=n,t.transformFn=e?.transform;function r(){if(Xi(t),t.value===Pb){let i=null;throw new j(-950,i)}return t.value}return r[ot]=t,r}var XO=new U("");XO.__NG_ELEMENT_ID__=n=>{let e=Et();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function Rb(n,e){return kb(n,e)}function e1(n){return kb(Pb,n)}var xb=(Rb.required=e1,Rb);var dm=new U(""),t1=new U("");function Oa(n){return!n.moduleRef}function n1(n){let e=Oa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Oa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(It),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Oa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(dm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(dm);s.add(o),n.moduleRef.onDestroy(()=>{Da(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return i1(r,t,()=>{let o=e.get(cn),s=o.add(),a=e.get(im);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ql,xa);if(gb(u||xa),!e.get(t1,!0))return Oa(n)?e.get(vi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Oa(n)){let h=e.get(vi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return r1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var r1;function i1(n,e,t){try{let r=t();return Fo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Yl=null;function o1(n=[],e){return $e.create({name:e,providers:[{provide:ua,useValue:"platform"},{provide:dm,useValue:new Set([()=>Yl=null])},...n]})}function s1(n=[]){if(Yl)return Yl;let e=o1(n);return Yl=e,hb(),a1(e),e}function a1(n){let e=n.get(jl,null);Ue(n,()=>{e?.forEach(t=>t())})}function mm(){return!1}var ym=(()=>{class n{static __NG_ELEMENT_ID__=c1}return n})();function c1(n){return u1(Et(),we(),(n&16)===16)}function u1(n,e,t){if(gr(n)&&!t){let r=Bt(n.index,e);return new vr(r,r)}else if(n.type&175){let r=e[jt];return new vr(r,e)}return null}var hm=class{constructor(){}supports(e){return Xg(e)}create(e){return new fm(e)}},l1=(n,e)=>e,fm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||l1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Nb(r,i,o)?t:r,a=Nb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Xg(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,nb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new pm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},gm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Zl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new gm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Mb(){return new vm([new hm])}var vm=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:Mb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=k(n,{optional:!0,skipSelf:!0});return n.create(t,r||Mb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function Ob(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ee(8);try{let o=i?.injector??s1(r),s=[um({}),{provide:lr,useExisting:Sb},dT,...t||[]],a=new Sa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return n1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ee(9)}}function d1(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Vb=null;function Fn(){return Vb}function _m(n){Vb??=n}var La=class{},Em=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k(jb),providedIn:"platform"})}return n})();var jb=(()=>{class n extends Em{_location;_history;_doc=k(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ub(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Lb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ir(n){return n&&n[0]!=="?"?`?${n}`:n}var Jl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k($b),providedIn:"root"})}return n})(),Bb=new U(""),$b=(()=>{class n extends Jl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ub(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(te(Em),te(Bb,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vo=(()=>{class n{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=p1(Lb(Fb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return n.stripTrailingSlash(f1(this._basePath,Fb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=Ub;static stripTrailingSlash=Lb;static \u0275fac=function(r){return new(r||n)(te(Jl))};static \u0275prov=$({token:n,factory:()=>h1(),providedIn:"root"})}return n})();function h1(){return new Vo(te(Jl))}function f1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Fb(n){return n.replace(/\/index.html$/,"")}function p1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Xl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zb=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Hb(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Hb(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(dn(yi),dn(Na),dn(vm))};static \u0275dir=Lo({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Hb(n,e){n.context.$implicit=e.item}var g1=(()=>{class n{_viewContainer;_context=new ed;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(dn(yi),dn(Na))};static \u0275dir=Lo({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ed=class{$implicit=null;ngIf=null};function qb(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}var Gb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ka({type:n});static \u0275inj=Io({})}return n})();function Im(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Fa=class{};var Wb="browser";var Va=class{_doc;constructor(e){this._doc=e}manager},td=(()=>{class n extends Va{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(te(He))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),rd=new U(""),Cm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof td));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof td);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(te(rd),te(ye))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),wm="ng-app-id";function Kb(n){for(let e of n)e.remove()}function Qb(n,e){let t=e.createElement("style");return t.textContent=n,t}function m1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${wm}="${e}"],link[${wm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(wm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Dm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Sm=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,m1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Qb);r?.forEach(i=>this.addUsage(i,this.external,Dm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Kb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Kb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Qb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Dm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(te(He),te(Vl),te(Ul,8),te(_r))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Am=/%COMP%/g;var Zb="%COMP%",y1=`_nghost-${Zb}`,v1=`_ngcontent-${Zb}`,_1=!0,E1=new U("",{providedIn:"root",factory:()=>_1});function I1(n){return v1.replace(Am,n)}function w1(n){return y1.replace(Am,n)}function Jb(n,e){return e.map(t=>t.replace(Am,n))}var Rm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new ja(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof nd?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case On.Emulated:o=new nd(u,l,r,this.appId,h,s,a,p,m);break;case On.ShadowDom:return new bm(u,l,t,r,s,a,this.nonce,p,m);default:o=new Ua(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(te(Cm),te(Sm),te(Vl),te(E1),te(He),te(_r),te(ye),te(Ul),te(Ra,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ja=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Tm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Yb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Yb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Tm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Tm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(t,r,i&ln.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Yb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var bm=class extends ja{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Jb(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Dm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends ja{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?Jb(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Po.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},nd=class extends Ua{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=I1(h),this.hostAttr=w1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var id=class n extends La{supportsDOMEvents=!0;static makeCurrent(){_m(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=T1();return t==null?null:D1(t)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Im(document.cookie,e)}},Ba=null;function T1(){return Ba=Ba||document.head.querySelector("base"),Ba?Ba.getAttribute("href"):null}function D1(n){return new URL(n,document.baseURI).pathname}var b1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Xb=["alt","control","meta","shift"],C1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eC=(()=>{class n extends Va{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Xb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=C1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Xb.forEach(s=>{if(s!==i){let a=S1[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(te(He))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function A1(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},R1(e));return Ob(r)}function R1(n){return{appProviders:[...x1,...n?.providers??[]],platformProviders:k1}}function N1(){id.makeCurrent()}function M1(){return new rn}function P1(){return Og(document),document}var k1=[{provide:_r,useValue:Wb},{provide:jl,useValue:N1,multi:!0},{provide:He,useFactory:P1}];var x1=[{provide:ua,useValue:"root"},{provide:rn,useFactory:M1},{provide:rd,useClass:td,multi:!0,deps:[He]},{provide:rd,useClass:eC,multi:!0,deps:[He]},Rm,Sm,Cm,{provide:pi,useExisting:Rm},{provide:Fa,useClass:b1},[]];var tC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(te(He))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",nc=Symbol("RouteTitle"),xm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wi(n){return new xm(n)}function uC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function L1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hn(n[t],e[t]))return!1;return!0}function hn(n,e){let t=n?Om(n):void 0,r=e?Om(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lC(n[i],e[i]))return!1;return!0}function Om(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dC(n){return n.length>0?n[n.length-1]:null}function Un(n){return Xf(n)?n:Fo(n)?Se(Promise.resolve(n)):G(n)}var F1={exact:fC,subset:pC},hC={exact:V1,subset:j1,ignored:()=>!0};function nC(n,e,t){return F1[t.paths](n.root,e.root,t.matrixParams)&&hC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function V1(n,e){return hn(n,e)}function fC(n,e,t){if(!Ei(n.segments,e.segments)||!ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fC(n.children[r],e.children[r],t))return!1;return!0}function j1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lC(n[t],e[t]))}function pC(n,e,t){return gC(n,e,e.segments,t)}function gC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ei(i,t)||e.hasChildren()||!ad(i,t,r))}else if(n.segments.length===t.length){if(!Ei(n.segments,t)||!ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ei(n.segments,i)||!ad(n.segments,i,r)||!n.children[Q]?!1:gC(n.children[Q],e,o,r)}}function ad(n,e,t){return e.every((r,i)=>hC[t](n[i].parameters,r.parameters))}var pn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return $1.serialize(this)}},he=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}},wr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return yC(this)}};function U1(n,e){return Ei(n,e)&&n.every((t,r)=>hn(t.parameters,e[r].parameters))}function Ei(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function B1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var rc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Ti,providedIn:"root"})}return n})(),Ti=class{parse(e){let t=new Fm(e);return new pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$a(e.root,!0)}`,r=z1(e.queryParams),i=typeof e.fragment=="string"?`#${H1(e.fragment)}`:"";return`${t}${r}${i}`}},$1=new Ti;function cd(n){return n.segments.map(e=>yC(e)).join("/")}function $a(n,e){if(!n.hasChildren())return cd(n);if(e){let t=n.children[Q]?$a(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${$a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=B1(n,(r,i)=>i===Q?[$a(n.children[Q],!1)]:[`${i}:${$a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${cd(n)}/${t[0]}`:`${cd(n)}/(${t.join("//")})`}}function mC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(n){return mC(n).replace(/%3B/gi,";")}function H1(n){return encodeURI(n)}function Lm(n){return mC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(n){return decodeURIComponent(n)}function rC(n){return ud(n.replace(/\+/g,"%20"))}function yC(n){return`${Lm(n.path)}${q1(n.parameters)}`}function q1(n){return Object.entries(n).map(([e,t])=>`;${Lm(e)}=${Lm(t)}`).join("")}function z1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${od(t)}=${od(i)}`).join("&"):`${od(t)}=${od(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var G1=/^[^\/()?;#]+/;function Nm(n){let e=n.match(G1);return e?e[0]:""}var W1=/^[^\/()?;=#]+/;function K1(n){let e=n.match(W1);return e?e[0]:""}var Q1=/^[^=?&#]+/;function Y1(n){let e=n.match(Q1);return e?e[0]:""}var Z1=/^[^&#]+/;function J1(n){let e=n.match(Z1);return e?e[0]:""}var Fm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new he(e,t)),r}parseSegment(){let e=Nm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new wr(ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=K1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Nm(this.remaining);i&&(r=i,this.capture(r))}e[ud(t)]=ud(r)}parseQueryParam(e){let t=Y1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=J1(this.remaining);s&&(r=s,this.capture(r))}let i=rC(t),o=rC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o??Q]=Object.keys(s).length===1&&s[Q]?s[Q]:new he([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function vC(n){return n.segments.length>0?new he([],{[Q]:n}):n}function _C(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_C(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new he(n.segments,e);return X1(t)}function X1(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new he(n.segments.concat(e.segments),e.children)}return n}function Ho(n){return n instanceof pn}function EC(n,e,t=null,r=null){let i=IC(n);return wC(i,e,t,r)}function IC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new he(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=vC(r);return e??i}function wC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Mm(i,i,i,t,r);let o=eL(e);if(o.toRoot())return Mm(i,i,new he([],{}),t,r);let s=tL(o,i,n),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):DC(s.segmentGroup,s.index,o.commands);return Mm(i,s.segmentGroup,a,t,r)}function ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Wa(n){return typeof n=="object"&&n!=null&&n.outlets}function Mm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=TC(n,e,t);let a=vC(_C(s));return new pn(a,o,i)}function TC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=TC(o,e,t)}),new he(n.segments,r)}var dd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ld(r[0]))throw new j(4003,!1);let i=r.find(Wa);if(i&&i!==dC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dd(t,e,r)}var Bo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function tL(n,e,t){if(n.isAbsolute)return new Bo(e,!0,0);if(!t)return new Bo(e,!1,NaN);if(t.parent===null)return new Bo(t,!0,0);let r=ld(n.commands[0])?0:1,i=t.segments.length-1+r;return nL(t,i,n.numberOfDoubleDots)}function nL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Bo(r,!1,i-o)}function rL(n){return Wa(n[0])?n[0].outlets:{[Q]:n}}function DC(n,e,t){if(n??=new he([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=iL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new he(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new he(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new he(n.segments,{}):r.match&&!n.hasChildren()?Vm(n,e,t):r.match?qa(n,0,i):Vm(n,e,t)}function qa(n,e,t){if(t.length===0)return new he(n.segments,{});{let r=rL(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=qa(n.children[Q],e,t);return new he(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=DC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new he(n.segments,i)}}function iL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Wa(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oC(u,l,s))return o;r+=2}else{if(!oC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Wa(o)){let u=oL(o.outlets);return new he(r,u)}if(i===0&&ld(t[0])){let u=n.segments[e];r.push(new wr(u.path,iC(t[0]))),i++;continue}let s=Wa(o)?o.outlets[Q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ld(a)?(r.push(new wr(s,iC(a))),i+=2):(r.push(new wr(s,{})),i++)}return new he(r,{})}function oL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Vm(new he([],{}),0,r))}),e}function iC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oC(n,e,t){return n==t.path&&hn(e,t.parameters)}var za="imperative",qe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(qe||{}),Pt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Di=class extends Pt{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends Pt{urlAfterRedirects;type=qe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(gt||{}),Ka=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Ka||{}),fn=class extends Pt{reason;code;type=qe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends Pt{reason;code;type=qe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},qo=class extends Pt{error;target;type=qe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qa=class extends Pt{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hd=class extends Pt{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class extends Pt{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pd=class extends Pt{urlAfterRedirects;state;type=qe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gd=class extends Pt{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class{route;type=qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yd=class{route;type=qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vd=class{snapshot;type=qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_d=class{snapshot;type=qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Id=class{snapshot;type=qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ya=class{},zo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function sL(n){return!(n instanceof Ya)&&!(n instanceof zo)}function aL(n,e){return n.providers&&!n._injector&&(n._injector=Pa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yt(n){return n.outlet||Q}function cL(n,e){let t=n.filter(r=>Yt(r)===e);return t.push(...n.filter(r=>Yt(r)!==e)),t}function Ko(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var wd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ko(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Qo(this.rootInjector)}},Qo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(te(je))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Td=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=jm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=jm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Um(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Um(e,this._root).map(t=>t.value)}};function jm(n,e){if(n===e.value)return e;for(let t of e.children){let r=jm(n,t);if(r)return r}return null}function Um(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Um(n,t);if(r.length)return r.unshift(e),r}return[]}var Mt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Uo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Za=class extends Td{snapshot;constructor(e,t){super(e),this.snapshot=t,Km(this,e)}toString(){return this.snapshot.toString()}};function bC(n){let e=uL(n),t=new Ze([new wr("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Tr(t,r,o,s,i,Q,n,e.root);return a.snapshot=e.root,new Za(new Mt(a,[]),e)}function uL(n){let e={},t={},r={},o=new Ii([],e,r,"",t,Q,n,null,{});return new Ja("",new Mt(o,[]))}var Tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[nc]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&SC(i)&&(r.resolve[nc]=i.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ja=class extends Td{url;constructor(e,t){super(t),this.url=e,Km(this,t)}toString(){return CC(this._root)}};function Km(n,e){e.value._routerState=n,e.children.forEach(t=>Km(n,t))}function CC(n){let e=n.children.length>0?` { ${n.children.map(CC).join(", ")} } `:"";return`${n.value}${e}`}function Pm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hn(e.params,t.params)||n.paramsSubject.next(t.params),L1(e.url,t.url)||n.urlSubject.next(t.url),hn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bm(n,e){let t=hn(n.params,e.params)&&U1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Bm(n.parent,e.parent))}function SC(n){return typeof n.title=="string"||n.title===null}var AC=new U(""),Qm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=xb();parentContexts=k(Qo);location=k(yi);changeDetector=k(ym);inputBinder=k(Ad,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $m(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Lo({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ol]})}return n})(),$m=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Tr?this.route:e===Qo?this.childContexts:e===AC?this.outletData:this.parent.get(e,t)}},Ad=new U("");var Ym=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=em({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Kl(0,"router-outlet")},dependencies:[Qm],encapsulation:2})}return n})();function Zm(n){let e=n.children&&n.children.map(Zm),t=e?me(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=Ym),t}function lL(n,e,t){let r=Xa(n,e._root,t?t._root:void 0);return new Za(r,e)}function Xa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=dL(n,e,t);return new Mt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xa(n,a)),s}}let r=hL(e.value),i=e.children.map(o=>Xa(n,o));return new Mt(r,i)}}function dL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xa(n,r,i);return Xa(n,r)})}function hL(n){return new Tr(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var Go=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RC="ngNavigationCancelingError";function bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NC(!1,gt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RC]=!0,t.cancellationCode=e,t}function fL(n){return MC(n)&&Ho(n.url)}function MC(n){return!!n&&n[RC]}var pL=(n,e,t,r)=>ie(i=>(new Hm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Uo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Uo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Id(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _d(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Pm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Pm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Cd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$o=class{component;route;constructor(e,t){this.component=e,this.route=t}};function gL(n,e,t){let r=n._root,i=e?e._root:null;return Ha(r,i,t,[r.value])}function mL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Yo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!yp(n)?n:e.get(n):r}function Ha(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uo(e);return n.children.forEach(s=>{yL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,t.getContext(s),i)),i}function yL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=vL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ha(n,e,a?a.children:null,r,i):Ha(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $o(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Cd(r)),o.component?Ha(n,null,a?a.children:null,r,i):Ha(n,null,t,r,i);return i}function vL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ei(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(n.url,e.url)||!hn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(n,e)||!hn(n.queryParams,e.queryParams);case"paramsChange":default:return!Bm(n,e)}}function Ga(n,e,t){let r=Uo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $o(e.outlet.component,i)):t.canDeactivateChecks.push(new $o(null,i)):t.canDeactivateChecks.push(new $o(null,i))}function ic(n){return typeof n=="function"}function _L(n){return typeof n=="boolean"}function EL(n){return n&&ic(n.canLoad)}function IL(n){return n&&ic(n.canActivate)}function wL(n){return n&&ic(n.canActivateChild)}function TL(n){return n&&ic(n.canDeactivate)}function DL(n){return n&&ic(n.canMatch)}function PC(n){return n instanceof An||n?.name==="EmptyError"}var sd=Symbol("INITIAL_VALUE");function Wo(){return ft(n=>Gu(n.map(e=>e.pipe(Rn(1),Qu(sd)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===sd)return sd;if(t===!1||bL(t))return t}return!0}),Dt(e=>e!==sd),Rn(1)))}function bL(n){return Ho(n)||n instanceof Go}function CL(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(me(V({},t),{guardsResult:!0})):SL(s,r,i,n).pipe(Ve(a=>a&&_L(a)?AL(r,o,n,e):G(a)),ie(a=>me(V({},t),{guardsResult:a})))})}function SL(n,e,t,r){return Se(n).pipe(Ve(i=>kL(i.component,i.route,t,e,r)),Nn(i=>i!==!0,!0))}function AL(n,e,t,r){return Se(e).pipe(mo(i=>go(NL(i.route.parent,r),RL(i.route,r),PL(n,i.path,t),ML(n,i.route,t))),Nn(i=>i!==!0,!0))}function RL(n,e){return n!==null&&e&&e(new Ed(n)),G(!0)}function NL(n,e){return n!==null&&e&&e(new vd(n)),G(!0)}function ML(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>na(()=>{let s=Ko(e)??t,a=Yo(o,s),u=IL(a)?a.canActivate(e,n):Ue(s,()=>a(e,n));return Un(u).pipe(Nn())}));return G(i).pipe(Wo())}function PL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>mL(s)).filter(s=>s!==null).map(s=>na(()=>{let a=s.guards.map(u=>{let l=Ko(s.node)??t,h=Yo(u,l),p=wL(h)?h.canActivateChild(r,n):Ue(l,()=>h(r,n));return Un(p).pipe(Nn())});return G(a).pipe(Wo())}));return G(o).pipe(Wo())}function kL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=Ko(e)??i,l=Yo(a,u),h=TL(l)?l.canDeactivate(n,e,t,r):Ue(u,()=>l(n,e,t,r));return Un(h).pipe(Nn())});return G(s).pipe(Wo())}function xL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=Yo(s,n),u=EL(a)?a.canLoad(e,t):Ue(n,()=>a(e,t));return Un(u)});return G(o).pipe(Wo(),kC(r))}function kC(n){return Su(Be(e=>{if(typeof e!="boolean")throw bd(n,e)}),ie(e=>e===!0))}function OL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=Yo(s,n),u=DL(a)?a.canMatch(e,t):Ue(n,()=>a(e,t));return Un(u)});return G(o).pipe(Wo(),kC(r))}var ec=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function jo(n){return po(new ec(n))}function LL(n){return po(new j(4e3,!1))}function FL(n){return po(NC(!1,gt.GuardRejected))}var qm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[Q])return LL(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return VL(t,i,o).pipe(ie(s=>{if(s instanceof pn)throw new tc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new tc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new pn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new he(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function VL(n,e,t){if(typeof n=="string")return G(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Un(Ue(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jL(n,e,t,r,i){let o=xC(n,e,t);return o.matched?(r=aL(e,r),OL(r,e,t,i).pipe(ie(s=>s===!0?o:V({},zm)))):G(o)}function xC(n,e,t){if(e.path==="**")return UL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},zm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uC)(t,n,e);if(!i)return V({},zm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UL(n){return{matched:!0,parameters:n.length>0?dC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sC(n,e,t,r){return t.length>0&&HL(n,t,r)?{segmentGroup:new he(e,$L(r,new he(t,n.children))),slicedSegments:[]}:t.length===0&&qL(n,t,r)?{segmentGroup:new he(n.segments,BL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new he(n.segments,n.children),slicedSegments:t}}function BL(n,e,t,r){let i={};for(let o of t)if(Rd(n,e,o)&&!r[Yt(o)]){let s=new he([],{});i[Yt(o)]=s}return V(V({},r),i)}function $L(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&Yt(r)!==Q){let i=new he([],{});t[Yt(r)]=i}return t}function HL(n,e,t){return t.some(r=>Rd(n,e,r)&&Yt(r)!==Q)}function qL(n,e,t){return t.some(r=>Rd(n,e,r))}function Rd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zL(n,e,t){return e.length===0&&!n.children[t]}var Gm=class{};function GL(n,e,t,r,i,o,s="emptyOnly"){return new Wm(n,e,t,r,i,s,o).recognize()}var WL=31,Wm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=sC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Mt(r,t),o=new Ja("",i),s=EC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ii([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(ie(r=>({children:r,rootSnapshot:t})),ar(r=>{if(r instanceof tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ec?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Mt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(mo(s=>{let a=r.children[s],u=cL(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ku((s,a)=>(s.push(...a),s)),cr(null),ep(),Ve(s=>{if(s===null)return jo(r);let a=OC(s);return KL(a),G(a)}))}processSegment(e,t,r,i,o,s,a){return Se(t).pipe(mo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ar(l=>{if(l instanceof ec)return G(null);throw l}))),Nn(u=>!!u),ar(u=>{if(PC(u))return zL(r,i,o)?G(new Gm):jo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Yt(r)!==s&&(s===Q||!Rd(i,o,r))?jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):jo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=xC(t,i,o);if(!u)return jo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WL&&(this.allowRedirects=!1));let y=new Ii(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,aC(i),Yt(i),i.component??i._loadedComponent??null,i,cC(i)),S=Dd(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(ft(R=>this.applyRedirects.lineralizeSegments(i,R)),Ve(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=jL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ft(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ft(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Ii(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,aC(r),Yt(r),r.component??r._loadedComponent??null,r,cC(r)),M=Dd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=sC(t,m,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ie(W=>new Mt(S,W)));if(l.length===0&&O.length===0)return G(new Mt(S,[]));let z=Yt(r)===o;return this.processSegment(h,l,R,O,z?Q:o,!0,S).pipe(ie(W=>new Mt(S,W instanceof Mt?[W]:[])))}))):jo(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):xL(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(Be(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):FL(t))):G({routes:[],injector:e})}};function KL(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function QL(n){let e=n.value.routeConfig;return e&&e.path===""}function OC(n){let e=[],t=new Set;for(let r of n){if(!QL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!t.has(r))}function aC(n){return n.data||{}}function cC(n){return n.resolve||{}}function YL(n,e,t,r,i,o){return Ve(s=>GL(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>me(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function ZL(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of LC(u))s.add(l);let a=0;return Se(s).pipe(mo(u=>o.has(u)?JL(u,r,n,e):(u.data=Dd(u,u.parent,n).resolve,G(void 0))),Be(()=>a++),yo(1),Ve(u=>a===s.size?G(t):yt))})}function LC(n){let e=n.children.map(t=>LC(t)).flat();return[n,...e]}function JL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!SC(i)&&(o[nc]=i.title),na(()=>(n.data=Dd(n,n.parent,t).resolve,XL(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function XL(n,e,t,r){let i=Om(n);if(i.length===0)return G({});let o={};return Se(i).pipe(Ve(s=>eF(n[s],e,t,r).pipe(Nn(),Be(a=>{if(a instanceof Go)throw bd(new Ti,a);o[s]=a}))),yo(1),ie(()=>o),ar(s=>PC(s)?yt:po(s)))}function eF(n,e,t,r){let i=Ko(e)??r,o=Yo(n,i),s=o.resolve?o.resolve(e,t):Ue(i,()=>o(e,t));return Un(s)}function km(n){return ft(e=>{let t=n(e);return t?Se(t).pipe(ie(()=>e)):G(e)})}var Jm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[nc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k(FC),providedIn:"root"})}return n})(),FC=(()=>{class n extends Jm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(te(tC))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oc=new U("",{providedIn:"root",factory:()=>({})}),sc=new U(""),VC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(cm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Un(Ue(t,()=>r.loadComponent())).pipe(ie(UC),ft(BC),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ra(()=>{this.componentLoaders.delete(r)})),o=new uo(i,()=>new Ye).pipe(co());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jC(r,this.compiler,t,this.onLoadEndListener).pipe(ra(()=>{this.childrenLoaders.delete(r)})),s=new uo(o,()=>new Ye).pipe(co());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jC(n,e,t,r){return Un(Ue(t,()=>n.loadChildren())).pipe(ie(UC),ft(BC),Ve(i=>i instanceof Gl||Array.isArray(i)?G(i):Se(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(sc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zm),injector:o}}))}function tF(n){return n&&typeof n=="object"&&"default"in n}function UC(n){return tF(n)?n.default:n}function BC(n){return G(n)}var Nd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k(nF),providedIn:"root"})}return n})(),nF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$C=new U("");var HC=new U(""),qC=(()=>{class n{currentNavigation=So(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=k(VC);environmentInjector=k(je);destroyRef=k(yr);urlSerializer=k(rc);rootContexts=k(Qo);location=k(Vo);inputBindingEnabled=k(Ad,{optional:!0})!==null;titleStrategy=k(Jm);options=k(oc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(Nd);createViewTransition=k($C,{optional:!0});navigationErrorHandler=k(HC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new md(i)),r=i=>this.events.next(new yd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Ln(()=>{this.transitions?.next(me(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(Dt(r=>r!==null),ft(r=>{let i=!1;return G(r).pipe(ft(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),yt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ka.IgnoredSameUrlNavigation)),o.resolve(!1),yt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(ft(u=>(this.events.next(new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?yt:Promise.resolve(u))),YL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Qa(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Di(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=bC(this.rootComponentType).snapshot;return this.currentTransition=r=me(V({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:me(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),G(r)}else return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ka.IgnoredByUrlHandlingStrategy)),o.resolve(!1),yt}),Be(o=>{let s=new hd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ie(o=>(this.currentTransition=r=me(V({},o),{guards:gL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),CL(this.environmentInjector,o=>this.events.next(o)),Be(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw bd(this.urlSerializer,o.guardsResult);let s=new fd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Dt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",gt.GuardRejected),!1)),km(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(Be(s=>{let a=new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ft(s=>{let a=!1;return G(s).pipe(ZL(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",gt.NoDataFromResolver)}}))}),Be(s=>{let a=new gd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),km(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ko(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Be(h=>{a.component=h}),ie(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Gu(s(o.targetSnapshot.root)).pipe(cr(null),Rn(1))}),km(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Se(a).pipe(ie(()=>r)):G(r)}),ie(o=>{let s=lL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Be(()=>{this.events.next(new Ya)}),pL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Rn(1),Yu(new K(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Dt(()=>!i&&!r.targetRouterState),Be(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",gt.Aborted)}))),Be({next:o=>{i=!0,this.lastSuccessfulNavigation=Ln(this.currentNavigation),this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Yu(this.transitionAbortWithErrorSubject.pipe(Be(o=>{throw o}))),ra(()=>{i||this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ar(o=>{if(this.destroyed)return r.resolve(!1),yt;if(i=!0,MC(o))this.events.next(new fn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),fL(o)?this.events.next(new zo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new qo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Go){let{message:u,cancellationCode:l}=bd(this.urlSerializer,a);this.events.next(new fn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new zo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return yt}))}))}cancelNavigationTransition(t,r,i){let o=new fn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ln(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rF(n){return n!==za}var zC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k(iF),providedIn:"root"})}return n})(),Sd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},iF=(()=>{class n extends Sd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ll(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GC=(()=>{class n{urlSerializer=k(rc);options=k(oc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(Vo);urlHandlingStrategy=k(Nd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=bC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>k(oF),providedIn:"root"})}return n})(),oF=(()=>{class n extends GC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Di?this.updateStateMemento():t instanceof jn?this.commitTransition(r):t instanceof Qa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ya?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof fn&&t.code!==gt.SupersededByNewNavigation&&t.code!==gt.Redirect?this.restoreHistory(r):t instanceof qo?this.restoreHistory(r,!0):t instanceof Vn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ll(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xm(n,e){n.events.pipe(Dt(t=>t instanceof Vn||t instanceof fn||t instanceof qo||t instanceof jn),ie(t=>t instanceof Vn||t instanceof jn?0:(t instanceof fn?t.code===gt.Redirect||t.code===gt.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),Rn(1)).subscribe(()=>{e()})}var sF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Md=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(tm);stateManager=k(GC);options=k(oc,{optional:!0})||{};pendingTasks=k(cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(qC);urlSerializer=k(rc);location=k(Vo);urlHandlingStrategy=k(Nd);injector=k(je);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(zC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(sc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Ad,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ln(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fn&&r.code!==gt.Redirect&&r.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof zo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rF(i.source)},s);this.scheduleNavigation(a,za,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),za,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(It)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ln(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=IC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return wC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ho(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,za,null,r)}navigate(t,r={skipLocationChange:!1}){return cF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Eo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},sF):r===!1?i=V({},aF):i=r,Ho(t))return nC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Xm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var lF=new U("");function dF(n,...e){return St([{provide:sc,multi:!0,useValue:n},[],{provide:Tr,useFactory:hF,deps:[Md]},{provide:Wl,multi:!0,useFactory:fF},e.map(t=>t.\u0275providers)])}function hF(n){return n.routerState.root}function fF(){let n=k($e);return e=>{let t=n.get(vi);if(e!==t.components[0])return;let r=n.get(Md),i=n.get(pF);n.get(gF)===1&&r.initialNavigation(),n.get(mF,null,{optional:!0})?.setUpPreloading(),n.get(lF,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pF=new U("",{factory:()=>new Ye}),gF=new U("",{providedIn:"root",factory:()=>1});var mF=new U("");var WC=()=>{};var YC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ty;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ty=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_F=function(n){let e=YC(n);return Pd.encodeByteArray(e,!0)},cc=function(n){return _F(n).replace(/\./g,"")},kd=function(n){try{return Pd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EF=()=>ry().__FIREBASE_DEFAULTS__,IF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&kd(n[1]);return e&&JSON.parse(e)},xd=()=>{try{return WC()||EF()||IF()||wF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iy=n=>{var e,t;return(t=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZC=n=>{let e=iy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oy=()=>{var n;return(n=xd())===null||n===void 0?void 0:n.config},sy=n=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${n}`]};var bi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Dr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Od(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function JC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cc(JSON.stringify(t)),cc(JSON.stringify(s)),""].join(".")}var ac={};function TF(){let n={prod:[],emulator:[]};for(let e of Object.keys(ac))ac[e]?n.emulator.push(e):n.prod.push(e);return n}function DF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var KC=!1;function Ld(n,e){if(typeof window>"u"||typeof document>"u"||!Dr(window.location.host)||ac[n]===e||ac[n]||KC)return;ac[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=TF().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KC=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=DF(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),O=t("preprendIcon"),z=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;a(W),h(R,M);let ve=l();u(z,O),W.append(z,S,R,ve),document.body.appendChild(W)}o?(S.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function bF(){var n;let e=(n=xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){let n=ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iS(){return!bF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uc(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var CF="FirebaseError",kt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}},Zt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new kt(i,a,r)}};function SF(n,e){return n.replace(AF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AF=/\{\$([^}]+)}/g;function sS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QC(o)&&QC(s)){if(!gn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QC(n){return n!==null&&typeof n=="object"}function lc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zo(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Jo(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aS(n,e){let t=new ny(n,e);return t.subscribe.bind(t)}var ny=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ey),i.error===void 0&&(i.error=ey),i.complete===void 0&&(i.complete=ey);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function RF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ey(){}var gee=14400*1e3;function Me(n){return n&&n._delegate?n._delegate:n}var mt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var ay=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new bi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MF(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NF(n){return n===Ci?void 0:n}function MF(n){return n.instantiationMode==="EAGER"}var Fd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ay(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var PF=[],oe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(oe||{}),kF={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},xF=oe.INFO,OF={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},LF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=OF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mn=class{constructor(e){this.name=e,this._logLevel=xF,this._logHandler=LF,this._userLogHandler=null,PF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var FF=(n,e)=>e.some(t=>n instanceof t),cS,uS;function VF(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jF(){return uS||(uS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lS=new WeakMap,uy=new WeakMap,dS=new WeakMap,cy=new WeakMap,dy=new WeakMap;function UF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&lS.set(t,n)}).catch(()=>{}),dy.set(e,n),e}function BF(n){if(uy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});uy.set(n,e)}var ly={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hS(n){ly=n(ly)}function $F(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Vd(this),e,...t);return dS.set(r,e.sort?e.sort():[e]),yn(r)}:jF().includes(n)?function(...e){return n.apply(Vd(this),e),yn(lS.get(this))}:function(...e){return yn(n.apply(Vd(this),e))}}function HF(n){return typeof n=="function"?$F(n):(n instanceof IDBTransaction&&BF(n),FF(n,VF())?new Proxy(n,ly):n)}function yn(n){if(n instanceof IDBRequest)return UF(n);if(cy.has(n))return cy.get(n);let e=HF(n);return e!==n&&(cy.set(n,e),dy.set(e,n)),e}var Vd=n=>dy.get(n);function pS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=yn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(yn(s.result),u.oldVersion,u.newVersion,yn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qF=["get","getKey","getAll","getAllKeys","count"],zF=["put","add","delete","clear"],hy=new Map;function fS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qF.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return hy.set(e,o),o}hS(n=>me(V({},n),{get:(e,t,r)=>fS(e,t)||n.get(e,t,r),has:(e,t)=>!!fS(e,t)||n.has(e,t)}));var py=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function GF(n){let e=n.getComponent();return e?.type==="VERSION"}var gy="@firebase/app",gS="0.13.2";var Bn=new mn("@firebase/app"),WF="@firebase/app-compat",KF="@firebase/analytics-compat",QF="@firebase/analytics",YF="@firebase/app-check-compat",ZF="@firebase/app-check",JF="@firebase/auth",XF="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",rV="@firebase/functions",iV="@firebase/functions-compat",oV="@firebase/installations",sV="@firebase/installations-compat",aV="@firebase/messaging",cV="@firebase/messaging-compat",uV="@firebase/performance",lV="@firebase/performance-compat",dV="@firebase/remote-config",hV="@firebase/remote-config-compat",fV="@firebase/storage",pV="@firebase/storage-compat",gV="@firebase/firestore",mV="@firebase/ai",yV="@firebase/firestore-compat",vV="firebase",_V="11.10.0";var my="[DEFAULT]",EV={[gy]:"fire-core",[WF]:"fire-core-compat",[QF]:"fire-analytics",[KF]:"fire-analytics-compat",[ZF]:"fire-app-check",[YF]:"fire-app-check-compat",[JF]:"fire-auth",[XF]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[rV]:"fire-fn",[iV]:"fire-fn-compat",[oV]:"fire-iid",[sV]:"fire-iid-compat",[aV]:"fire-fcm",[cV]:"fire-fcm-compat",[uV]:"fire-perf",[lV]:"fire-perf-compat",[dV]:"fire-rc",[hV]:"fire-rc-compat",[fV]:"fire-gcs",[pV]:"fire-gcs-compat",[gV]:"fire-fst",[yV]:"fire-fst-compat",[mV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};var dc=new Map,IV=new Map,yy=new Map;function mS(n,e){try{n.container.addComponent(e)}catch(t){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jt(n){let e=n.name;if(yy.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,n);for(let t of dc.values())mS(t,n);for(let t of IV.values())mS(t,n);return!0}function Xo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xt(n){return n==null?!1:n.settings!==void 0}var wV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Zt("app","Firebase",wV);var vy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Cr=_V;function Iy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:my,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(t||(t=oy()),!t)throw br.create("no-options");let o=dc.get(i);if(o){if(gn(t,o.options)&&gn(r,o.config))return o;throw br.create("duplicate-app",{appName:i})}let s=new Fd(i);for(let u of yy.values())s.addComponent(u);let a=new vy(t,r,s);return dc.set(i,a),a}function Si(n=my){let e=dc.get(n);if(!e&&n===my&&oy())return Iy();if(!e)throw br.create("no-app",{appName:n});return e}function jd(){return Array.from(dc.values())}function Ae(n,e,t){var r;let i=(r=EV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}Jt(new mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var TV="firebase-heartbeat-database",DV=1,hc="firebase-heartbeat-store",fy=null;function ES(){return fy||(fy=pS(TV,DV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw br.create("idb-open",{originalErrorMessage:n.message})})),fy}function bV(n){return _(this,null,function*(){try{let t=(yield ES()).transaction(hc),r=yield t.objectStore(hc).get(IS(n));return yield t.done,r}catch(e){if(e instanceof kt)Bn.warn(e.message);else{let t=br.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(t.message)}}})}function yS(n,e){return _(this,null,function*(){try{let r=(yield ES()).transaction(hc,"readwrite");yield r.objectStore(hc).put(e,IS(n)),yield r.done}catch(t){if(t instanceof kt)Bn.warn(t.message);else{let r=br.create("idb-set",{originalErrorMessage:t?.message});Bn.warn(r.message)}}})}function IS(n){return`${n.name}!${n.options.appId}`}var CV=1024,SV=30,_y=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ey(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SV){let s=RV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=vS(),{heartbeatsToSend:r,unsentEntries:i}=AV(this._heartbeatsCache.heartbeats),o=cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bn.warn(t),""}})}};function vS(){return new Date().toISOString().substring(0,10)}function AV(n,e=CV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_S(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_S(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return uc()?oS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _S(n){return cc(JSON.stringify({version:2,heartbeats:n})).length}function RV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NV(n){Jt(new mt("platform-logger",e=>new py(e),"PRIVATE")),Jt(new mt("heartbeat",e=>new _y(e),"PRIVATE")),Ae(gy,gS,n),Ae(gy,gS,"esm2017"),Ae("fire-js","")}NV("");var MV="firebase",PV="11.10.0";Ae(MV,PV,"app");function wS(n){n===void 0&&(n=k($e));let e=n.get(Ao);return t=>new K(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Sr=new _o("ANGULARFIRE2_VERSION");function fc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ts=(n,e)=>{let t=e?[e]:jd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},es=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(es||{}),TS=mm()&&typeof Zone<"u"?es.WARN:es.SILENT;var Ud=class{zone;delegate;constructor(e,t=Zf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ar=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=k(ye);this.outsideAngular=t.runOutsideAngular(()=>new Ud(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ud(typeof Zone>"u"?void 0:Zone.current,Yf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DS=!1;function kV(n,e){!DS&&(TS>es.SILENT||mm())&&(DS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),TS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function xV(n){let e=k(ye,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ai(n){let e=k(ye,{optional:!0});return e?e.run(()=>n()):n()}var OV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ue(t,()=>Ai(()=>n.apply(void 0,r)))),at=(n,e,t)=>(t||=e?es.WARN:es.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=k(Ar),s=k(Ao),a=k(je)}catch{return kV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ai(()=>s.add())),i[l]=OV(i[l],r,a));let u=xV(()=>n.apply(this,i));return e?u instanceof K?u.pipe(sr(o.outsideAngular),or(o.insideAngular),wS(a)):u instanceof Promise?Ai(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ue(a,()=>Ai(()=>h(m))),m=>Ue(a,()=>Ai(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ai(()=>u):u instanceof K?u.pipe(sr(o.outsideAngular),or(o.insideAngular)):Ai(()=>u)});var $n=class{constructor(e){return e}},Ri=class{constructor(){return jd()}};function LV(n){return n&&n.length===1?n[0]:new $n(Si())}var wy=new U("angularfire2._apps"),FV={provide:$n,useFactory:LV,deps:[[new Nt,wy]]},VV={provide:Ri,deps:[[new Nt,wy]]};function jV(n){return(e,t)=>{let r=t.get(_r);Ae("angularfire",Sr.full,"core"),Ae("angularfire",Sr.full,"app"),Ae("angular",fp.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new $n(i)}}function lte(n,...e){return St([FV,VV,{provide:wy,useFactory:jV(n),multi:!0,deps:[ye,$e,Ar,...e]}])}var dte=at(Iy,!0);var UV=new Map,BV={activated:!1,tokenObservers:[]},$V={initialized:!1,enabled:!1};function Xt(n){return UV.get(n)||Object.assign({},BV)}function AS(){return $V}var HV="https://content-firebaseappcheck.googleapis.com/v1";var qV="exchangeDebugToken",bS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ete=1440*60*1e3;var by=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new bi,this.pending.promise.catch(t=>{}),yield zV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function zV(n){return new Promise(e=>{setTimeout(e,n)})}var GV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Rr=new Zt("appCheck","AppCheck",GV);function RS(n){if(!Xt(n).activated)throw Rr.create("use-before-activation",{appName:n.name})}function NS(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Rr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Rr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Rr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function MS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HV}/projects/${t}/apps/${r}:${qV}?key=${i}`,body:{debug_token:e}}}var WV="firebase-app-check-database",KV=1,Cy="firebase-app-check-store";var Bd=null;function QV(){return Bd||(Bd=new Promise((n,e)=>{try{let t=indexedDB.open(WV,KV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Rr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Cy,{keyPath:"compositeKey"})}}}catch(t){e(Rr.create("storage-open",{originalErrorMessage:t?.message}))}}),Bd)}function YV(n,e){return ZV(JV(n),e)}function ZV(n,e){return _(this,null,function*(){let r=(yield QV()).transaction(Cy,"readwrite"),o=r.objectStore(Cy).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Rr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function JV(n){return`${n.options.appId}-${n.name}`}var pc=new mn("@firebase/app-check");function Ty(n,e){return uc()?YV(n,e).catch(t=>{pc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PS(){return AS().enabled}function kS(){return _(this,null,function*(){let n=AS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var XV={error:"UNKNOWN_ERROR"};function ej(n){return Pd.encodeString(JSON.stringify(n),!1)}function Sy(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;RS(r);let i=Xt(r),o=i.token,s;if(o&&!gc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(gc(l)?o=l:yield Ty(r,void 0))}if(!e&&o&&gc(o))return{token:o.token};let a=!1;if(PS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=NS(MS(r,yield kS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Ty(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pc.warn(l.message):t&&pc.error(l),Dy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Xt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?pc.warn(l.message):t&&pc.error(l),s=l}let u;return o?s?gc(o)?u={token:o.token,internalError:s}:u=Dy(s):(u={token:o.token},i.token=o,yield Ty(r,o)):u=Dy(s),a&&ij(r,u),u})}function tj(n){return _(this,null,function*(){let e=n.app;RS(e);let{provider:t}=Xt(e);if(PS()){let r=yield kS(),{token:i}=yield NS(MS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function nj(n,e,t,r){let{app:i}=n,o=Xt(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),CS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>CS(n))}function xS(n,e){let t=Xt(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function CS(n){let{app:e}=n,t=Xt(e),r=t.tokenRefresher;r||(r=rj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rj(n){let{app:e}=n;return new by(()=>_(null,null,function*(){let t=Xt(e),r;if(t.token?r=yield Sy(n,!0):r=yield Sy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Xt(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},bS.RETRIAL_MIN_WAIT,bS.RETRIAL_MAX_WAIT)}function ij(n,e){let t=Xt(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gc(n){return n.expireTimeMillis-Date.now()>0}function Dy(n){return{token:ej(XV),error:n}}var Ay=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Xt(this.app);for(let t of e)xS(this.app,t.next);return Promise.resolve()}};function oj(n,e){return new Ay(n,e)}function sj(n){return{getToken:e=>Sy(n,e),getLimitedUseToken:()=>tj(n),addTokenListener:e=>nj(n,"INTERNAL",e),removeTokenListener:e=>xS(n.app,e)}}var aj="@firebase/app-check",cj="0.10.1";var uj="app-check",SS="app-check-internal";function lj(){Jt(new mt(uj,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return oj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SS).initialize()})),Jt(new mt(SS,n=>{let e=n.getProvider("app-check").getImmediate();return sj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ae(aj,cj)}lj();var dj="app-check";var ns=class{constructor(){return ts(dj)}};var hj=["localhost","0.0.0.0","127.0.0.1"],kte=typeof window<"u"&&hj.includes(window.location.hostname);function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JS=ZS,XS=new Zt("auth","Firebase",ZS());var Wd=new mn("@firebase/auth");function fj(n,...e){Wd.logLevel<=oe.WARN&&Wd.warn(`Auth (${Cr}): ${n}`,...e)}function Hd(n,...e){Wd.logLevel<=oe.ERROR&&Wd.error(`Auth (${Cr}): ${n}`,...e)}function _n(n,...e){throw Jy(n,...e)}function Ni(n,...e){return Jy(n,...e)}function eA(n,e,t){let r=Object.assign(Object.assign({},JS()),{[e]:t});return new Zt("auth","Firebase",r).create(e,{appName:n.name})}function Pr(n){return eA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function q(n,e,...t){if(!n)throw Jy(e,...t)}function Hn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Hd(e),new Error(e)}function kr(n,e){n||Hn(e)}function Py(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pj(){return OS()==="http:"||OS()==="https:"}function OS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pj()||tS()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Mi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=XC()||nS()}get(){return gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xy(n,e){kr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Kd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_j=new Mi(3e4,6e4);function ki(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xr(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return tA(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=lc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return eS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Dr(n.emulatorConfig.host)&&(y.credentials="include"),Kd.fetch()(yield nA(n,n.config.apiHost,t,p),y)}))})}function tA(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yj),e);try{let i=new ky(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw $d(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw $d(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw $d(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eA(n,h,l);_n(n,h)}}catch(i){if(i instanceof kt)throw i;_n(n,"network-request-failed",{message:String(i)})}})}function oh(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield xr(n,e,t,r,i);return"mfaPendingCredential"in l&&_n(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function nA(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Xy(n.config,i):`${n.config.apiScheme}://${i}`;return vj.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Ej(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ky=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),_j.get())})}};function $d(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ni(n,e,r);return i.customData._tokenResponse=t,i}function LS(n){return n!==void 0&&n.enterprise!==void 0}var xy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ej(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Ij(n,e){return _(this,null,function*(){return xr(n,"GET","/v2/recaptchaConfig",ki(n,e))})}function wj(n,e){return _(this,null,function*(){return xr(n,"POST","/v1/accounts:delete",e)})}function Qd(n,e){return _(this,null,function*(){return xr(n,"POST","/v1/accounts:lookup",e)})}function yc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ev(n,e=!1){return _(this,null,function*(){let t=Me(n),r=yield t.getIdToken(e),i=tv(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yc(Ry(i.auth_time)),issuedAtTime:yc(Ry(i.iat)),expirationTime:yc(Ry(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ry(n){return Number(n)*1e3}function tv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=kd(t);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FS(n){let e=tv(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _c(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof kt&&Tj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Tj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Oy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ec=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Yd(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield _c(n,Qd(t,{idToken:r}));q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rA(o.providerUserInfo):[],a=Dj(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ec(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function nv(n){return _(this,null,function*(){let e=Me(n);yield Yd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Dj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rA(n){return n.map(e=>{var{providerId:t}=e,r=Jf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bj(n,e){return _(this,null,function*(){let t=yield tA(n,{},()=>_(null,null,function*(){let r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield nA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Dr(n.emulatorConfig.host)&&(u.credentials="include"),Kd.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Cj(n,e){return _(this,null,function*(){return xr(n,"POST","/v2/accounts:revokeToken",ki(n,e))})}var vc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=FS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bj(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function Nr(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Mr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ec(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield _c(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ev(this,e)}reload(){return nv(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Yd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(xt(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield _c(this,wj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:ve,isAnonymous:lt,providerData:ge,stsTokenManager:T}=t;q(W&&T,e,"internal-error");let v=vc.fromJSON(this.name,T);q(typeof W=="string",e,"internal-error"),Nr(p,e.name),Nr(m,e.name),q(typeof ve=="boolean",e,"internal-error"),q(typeof lt=="boolean",e,"internal-error"),Nr(y,e.name),Nr(S,e.name),Nr(M,e.name),Nr(R,e.name),Nr(O,e.name),Nr(z,e.name);let I=new n({uid:W,auth:e,email:m,emailVerified:ve,displayName:p,isAnonymous:lt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:O,lastLoginAt:z});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new vc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?rA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var VS=new Map;function qn(n){kr(n instanceof Function,"Expected a class definition");let e=VS.get(n);return e?(kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VS.set(n,e),e)}var Sj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ly=Sj;function qd(n,e,t){return`firebase:${n}:${e}:${t}`}var Zd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=qd(this.userKey,i.apiKey,o),this.fullPersistenceKey=qd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Qd(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(qn(Ly),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||qn(Ly),s=qd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Qd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Mr._fromGetAccountInfoResponse(e,m,h)}else p=Mr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function jS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(lA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||sA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function iA(n=ze()){return/firefox\//i.test(n)}function oA(n=ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sA(n=ze()){return/crios\//i.test(n)}function aA(n=ze()){return/iemobile/i.test(n)}function cA(n=ze()){return/android/i.test(n)}function uA(n=ze()){return/blackberry/i.test(n)}function lA(n=ze()){return/webos/i.test(n)}function rv(n=ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Aj(n=ze()){var e;return rv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rj(){return rS()&&document.documentMode===10}function dA(n=ze()){return rv(n)||cA(n)||lA(n)||uA(n)||/windows phone/i.test(n)||aA(n)}function hA(n,e=[]){let t;switch(n){case"Browser":t=jS(ze());break;case"Worker":t=`${jS(ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cr}/${r}`}var Fy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Nj(t){return _(this,arguments,function*(n,e={}){return xr(n,"GET","/v2/passwordPolicy",ki(n,e))})}var Mj=6,Vy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Mj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jd(this),this.idTokenSubscription=new Jd(this),this.beforeStateQueue=new Fy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qn(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Zd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Qd(this,{idToken:e}),r=yield Mr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(xt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Yd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(xt(this.app))return Promise.reject(Pr(this));let t=e?Me(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return xt(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xt(this.app)?Promise.reject(Pr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Nj(this),t=new Vy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Cj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&qn(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=yield Zd.create(this,[qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&fj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function rs(n){return Me(n)}var Jd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pj(n){sh=n}function fA(n){return sh.loadJS(n)}function kj(){return sh.recaptchaEnterpriseScript}function xj(){return sh.gapiScript}function pA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Uy=class{constructor(){this.enterprise=new By}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},By=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Oj="recaptcha-enterprise",gA="NO_RECAPTCHA",$y=class{constructor(e){this.type=Oj,this.auth=rs(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Ij(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new xy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;LS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(gA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&LS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kj();u.length!==0&&(u+=a),fA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function mc(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new $y(n),s;if(i)s=gA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function US(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield mc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield mc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield mc(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield mc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield mc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function iv(n,e){let t=Xo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(gn(o,e??{}))return i;_n(i,"already-initialized")}return t.initialize({options:e})}function Lj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ov(n,e,t){let r=rs(n);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mA(e),{host:s,port:a}=Fj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(gn(l,r.config.emulator)&&gn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Dr(s)?(Od(`${o}//${s}${u}`),Ld("Auth",!0)):i||Vj()}function mA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Fj(n){let e=mA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:BS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:BS(s)}}}function BS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Vj(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ic=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,t){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}};function jj(n,e){return _(this,null,function*(){return xr(n,"POST","/v1/accounts:signUp",e)})}function Uj(n,e){return _(this,null,function*(){return oh(n,"POST","/v1/accounts:signInWithPassword",ki(n,e))})}function Bj(n,e){return _(this,null,function*(){return oh(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,e))})}function $j(n,e){return _(this,null,function*(){return oh(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,e))})}var wc=class n extends Ic{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return US(e,t,"signInWithPassword",Uj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Bj(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return US(e,r,"signUpPassword",jj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $j(e,{idToken:t,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ny(n,e){return _(this,null,function*(){return oh(n,"POST","/v1/accounts:signInWithIdp",ki(n,e))})}function Hj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qj(n){let e=Zo(Jo(n)).link,t=e?Zo(Jo(e)).deep_link_id:null,r=Zo(Jo(n)).deep_link_id;return(r?Zo(Jo(r)).link:null)||r||t||e||n}var Xd=class n{constructor(e){var t,r,i,o,s,a;let u=Zo(Jo(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Hj((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=qj(e);try{return new n(t)}catch{return null}}};var yA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return wc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Xd.parseLink(r);return q(i,"argument-error"),wc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),eh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hy=class extends eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Mr._fromIdTokenResponse(e,r,i),s=$S(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=$S(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function $S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var qy=class n extends kt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qy._fromErrorAndOperation(n,o,e,r):o})}function zj(n,e,t=!1){return _(this,null,function*(){let r=yield _c(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tc._forOperation(n,"link",r)})}function Gj(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(xt(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let o=yield _c(n,vA(r,i,e,n),t);q(o.idToken,r,"internal-error");let s=tv(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(n.uid===a,r,"user-mismatch"),Tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_n(r,"user-mismatch"),o}})}function _A(n,e,t=!1){return _(this,null,function*(){if(xt(n.app))return Promise.reject(Pr(n));let r="signIn",i=yield vA(n,r,e),o=yield Tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function sv(n,e){return _(this,null,function*(){return _A(rs(n),e)})}function Wj(n){return _(this,null,function*(){let e=rs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function av(n,e,t){return xt(n.app)?Promise.reject(Pr(n)):sv(Me(n),yA.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Wj(n),r}))}function ah(n,e,t,r){return Me(n).onIdTokenChanged(e,t,r)}function cv(n,e,t){return Me(n).beforeAuthStateChanged(e,t)}function ch(n,e,t,r){return Me(n).onAuthStateChanged(e,t,r)}var th="__sak";var nh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Kj=1e3,Qj=10,Yj=(()=>{class n extends nh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Rj()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Qj):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield rr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield rr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield rr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),EA=Yj;var Zj=(()=>{class n extends nh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),uv=Zj;function Jj(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Xj=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield Jj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function IA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var zy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=IA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vn(){return window}function e2(n){vn().location.href=n}function wA(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}function t2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function n2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r2(){return wA()?self:null}var TA="firebaseLocalStorageDb",i2=1,rh="firebaseLocalStorage",DA="fbase_key",Pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function uh(n,e){return n.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function o2(){let n=indexedDB.deleteDatabase(TA);return new Pi(n).toPromise()}function Gy(){let n=indexedDB.open(TA,i2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(rh,{keyPath:DA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),yield o2(),e(yield Gy()))}))})}function HS(n,e,t){return _(this,null,function*(){let r=uh(n,!0).put({[DA]:e,value:t});return new Pi(r).toPromise()})}function s2(n,e){return _(this,null,function*(){let t=uh(n,!1).get(e),r=yield new Pi(t).toPromise();return r===void 0?null:r.value})}function qS(n,e){let t=uh(n,!0).delete(e);return new Pi(t).toPromise()}var a2=800,c2=3,u2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Gy(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>c2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return wA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Xj._getInstance(r2()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield t2(),!this.activeServiceWorker)return;this.sender=new zy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||n2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Gy();return yield HS(t,th,"1"),yield qS(t,th),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>HS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>s2(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>qS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=uh(o,!1).getAll();return new Pi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),bA=u2;var Bte=pA("rcb"),$te=new Mi(3e4,6e4);function l2(n,e){return e?qn(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Dc=class extends Ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ny(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ny(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ny(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function d2(n){return _A(n.auth,new Dc(n),n.bypassAuthState)}function h2(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),Gj(t,new Dc(n),n.bypassAuthState)}function f2(n){return _(this,null,function*(){let{auth:e,user:t}=n;return q(t,e,"internal-error"),zj(t,new Dc(n),n.bypassAuthState)})}var Wy=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return f2;case"reauthViaPopup":case"reauthViaRedirect":return h2;default:_n(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Hte=new Mi(2e3,1e4);var p2="pendingRedirect",zd=new Map,Ky=class n extends Wy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=zd.get(this.auth._key());if(!e){try{let r=(yield g2(this.resolver,this.auth))?yield rr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return rr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,rr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function g2(n,e){return _(this,null,function*(){let t=v2(e),r=y2(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function m2(n,e){zd.set(n._key(),e)}function y2(n){return qn(n._redirectPersistence)}function v2(n){return qd(p2,n.config.apiKey,n.name)}function _2(n,e,t=!1){return _(this,null,function*(){if(xt(n.app))return Promise.reject(Pr(n));let r=rs(n),i=l2(r,e),s=yield new Ky(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var E2=600*1e3,Qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!CA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}};function zS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function I2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(n);default:return!1}}function w2(t){return _(this,arguments,function*(n,e={}){return xr(n,"GET","/v1/projects",e)})}var T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;function b2(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield w2(n);for(let t of e)try{if(C2(t))return}catch{}_n(n,"unauthorized-domain")})}function C2(n){let e=Py(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!D2.test(t))return!1;if(T2.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var S2=new Mi(3e4,6e4);function GS(){let n=vn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A2(n){return new Promise((e,t)=>{var r,i,o;function s(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),t(Ni(n,"network-request-failed"))},timeout:S2.get()})}if(!((i=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vn().gapi)===null||o===void 0)&&o.load)s();else{let a=pA("iframefcb");return vn()[a]=()=>{gapi.load?s():t(Ni(n,"network-request-failed"))},fA(`${xj()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Gd=null,e})}var Gd=null;function R2(n){return Gd=Gd||A2(n),Gd}var N2=new Mi(5e3,15e3),M2="__/auth/iframe",P2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Xy(e,P2):`https://${n.config.authDomain}/${M2}`,r={apiKey:e.apiKey,appName:n.name,v:Cr},i=x2.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${lc(r).slice(1)}`}function L2(n){return _(this,null,function*(){let e=yield R2(n),t=vn().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:O2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ni(n,"network-request-failed"),a=vn().setTimeout(()=>{o(s)},N2.get());function u(){vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,j2=600,U2="_blank",B2="http://localhost",ih=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $2(n,e,t,r=V2,i=j2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},F2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ze().toLowerCase();t&&(a=sA(l)?U2:t),iA(l)&&(e=e||B2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(Aj(l)&&a!=="_self")return H2(e||"",a),new ih(null);let p=window.open(e||"",a,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new ih(p)}function H2(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var q2="__/auth/handler",z2="emulator/auth/handler",G2=encodeURIComponent("fac");function WS(n,e,t,r,i,o){return _(this,null,function*(){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cr,eventId:i};if(e instanceof eh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",sS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Hy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${G2}=${encodeURIComponent(u)}`:"";return`${W2(n)}?${lc(a).slice(1)}${l}`})}function W2({config:n}){return n.emulator?Xy(n,z2):`https://${n.authDomain}/${q2}`}var My="webStorageSupport",Yy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uv,this._completeRedirectFn=_2,this._overrideRedirectResult=m2}_openPopup(e,t,r,i){return _(this,null,function*(){var o;kr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield WS(e,t,r,Py(),i);return $2(e,s,IA())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield WS(e,t,r,Py(),i);return e2(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(kr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield L2(e),r=new Qy(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(My,{type:My},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[My];s!==void 0&&t(!!s),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dA()||oA()||rv()}},SA=Yy;var KS="@firebase/auth",QS="1.10.8";var Zy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function K2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(n){Jt(new mt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hA(n)},l=new jy(r,i,o,u);return Lj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new mt("auth-internal",e=>{let t=rs(e.getProvider("auth").getImmediate());return(r=>new Zy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(KS,QS,K2(n)),Ae(KS,QS,"esm2017")}var Y2=300,Z2=sy("authIdTokenMaxAge")||Y2,YS=null,J2=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z2)return;let i=t?.token;YS!==i&&(YS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function lv(n=Si()){let e=Xo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=iv(n,{popupRedirectResolver:SA,persistence:[bA,EA,uv]}),r=sy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J2(o.toString());cv(t,s,()=>s(t.currentUser)),ah(t,a=>s(a))}}let i=iy("auth");return i&&ov(t,`http://${i}`),t}function X2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Pj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ni("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",X2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");function RA(n){return new K(function(e){var t=ch(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var NA="auth",bc=class{constructor(e){return e}},Cc=class{constructor(){return ts(NA)}};var dv=new U("angularfire2.auth-instances");function $U(n,e){let t=fc(NA,n,e);return t&&new bc(t)}function HU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bc(r)}}var qU={provide:Cc,deps:[[new Nt,dv]]},zU={provide:bc,useFactory:$U,deps:[[new Nt,dv],$n]};function One(n,...e){return Ae("angularfire",Sr.full,"auth"),St([zU,qU,{provide:dv,useFactory:HU(n),multi:!0,deps:[ye,$e,Ar,Ri,[new Nt,ns],...e]}])}var Lne=at(RA,!0);var Fne=at(lv,!0);var Vne=at(av,!0,2);var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PA={};var zn,hv;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,C){for(var E=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)E[bn-2]=arguments[bn];return v.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var C=T.g[3],E=v+(C^I&(D^C))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[2]+606105819&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[6]+2821735955&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[10]+4294925233&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[14]+2792965006&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^C&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[11]+643717713&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[15]+3634488961&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[3]+4107603335&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[7]+1735328473&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^C)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[11]+1839030562&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[7]+4139469664&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[3]+3572445317&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[15]+530742520&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~C))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[14]+2878612391&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[10]+4293915773&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[6]+2734768916&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[2]+718787259&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<v;)if(w[D++]=T[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;w&&C==v||(I[D]=C,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(M(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=ve(I,v).g;I=O(I,D.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function M(T){return T.h==-1}n.l=function(T){return T=O(this,T),M(T)?-1:S(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var C=w+(this.i(D)&65535)+(T.i(D)&65535),E=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,C&=65535,E&=65535,I[D]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(T,v){return T.add(R(v))}n.j=function(T){if(S(this)||S(T))return p;if(M(this))return M(T)?R(this).j(R(T)):R(R(this).j(T));if(M(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var C=this.i(w)>>>16,E=this.i(w)&65535,bn=T.i(D)>>>16,Ms=T.i(D)&65535;I[2*w+2*D]+=E*Ms,z(I,2*w+2*D),I[2*w+2*D+1]+=C*Ms,z(I,2*w+2*D+1),I[2*w+2*D+1]+=E*bn,z(I,2*w+2*D+1),I[2*w+2*D+2]+=C*bn,z(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function z(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function W(T,v){this.g=T,this.h=v}function ve(T,v){if(S(v))throw Error("division by zero");if(S(T))return new W(p,p);if(M(T))return v=ve(R(T),v),new W(R(v.g),R(v.h));if(M(v))return v=ve(T,R(v)),new W(R(v.g),v.h);if(30<T.g.length){if(M(T)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=lt(I),w=lt(w);var D=ge(I,1),C=ge(w,1);for(w=ge(w,2),I=ge(I,2);!S(w);){var E=C.add(w);0>=E.l(T)&&(D=D.add(I),C=E),w=ge(w,1),I=ge(I,1)}return v=O(T,D.j(v)),new W(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(v);M(E)||0<E.l(T);)I-=w,C=l(I),E=C.j(v);S(C)&&(C=m),D=D.add(C),T=O(T,E)}return new W(D,T)}n.A=function(T){return ve(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function lt(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function ge(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],C=0;C<w;C++)D[C]=0<v?T.i(C+I)>>>v|T.i(C+I+1)<<32-v:T.i(C+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hv=PA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,zn=PA.Integer=s}).apply(typeof MA<"u"?MA:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gn={};var fv,GU,is,pv,Sc,dh,gv,mv,yv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return d.prototype[b].apply(g,x)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let x=0;x<A;x++)c[b+x]=g[x]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ve(c){return ve[" "](c),c}ve[" "]=function(){};var lt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ge(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function E(){var c=cf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,f){let g=Ms.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ms=new O(()=>new dN,c=>c.reset());class dN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ps,ks=!1,cf=new bn,OE=()=>{let c=a.Promise.resolve(void 0);Ps=()=>{c.then(hN)}};var hN=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){C(f)}var d=Ms;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ks=!1};function Xn(){this.s=this.s,this.C=this.C}Xn.prototype.s=!1,Xn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var fN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function xs(c,d){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(lt){e:{try{ve(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xs.aa.h.call(this)}}S(xs,et);var pN={2:"touch",3:"pen",4:"mouse"};xs.prototype.h=function(){xs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Os="closure_listenable_"+(1e6*Math.random()|0),gN=0;function mN(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++gN,this.da=this.fa=!1}function Qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yc(c){this.src=c,this.g={},this.h=0}Yc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var x=lf(c,d,g,b);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new mN(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function uf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function lf(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var df="closure_lm_"+(1e6*Math.random()|0),hf={};function LE(c,d,f,g,b){if(g&&g.once)return VE(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)LE(c,d[A],f,g,b);return null}return f=mf(f),c&&c[Os]?c.K(d,f,l(g)?!!g.capture:!!g,b):FE(c,d,f,!1,g,b)}function FE(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,_e=pf(c);if(_e||(c[df]=_e=new Yc(c)),f=_e.add(d,f,g,x,A),f.proxy)return f;if(g=yN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)fN||(b=x),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(UE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function yN(){function c(f){return d.call(c.src,c.listener,f)}let d=vN;return c}function VE(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)VE(c,d[A],f,g,b);return null}return f=mf(f),c&&c[Os]?c.L(d,f,l(g)?!!g.capture:!!g,b):FE(c,d,f,!0,g,b)}function jE(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)jE(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=mf(f),c&&c[Os]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=lf(A,f,g,b),-1<f&&(Qc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=pf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=lf(d,f,g,b)),(f=-1<c?d[c]:null)&&ff(f))}function ff(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Os])uf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(UE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=pf(d))?(uf(f,c),f.h==0&&(f.src=null,d[df]=null)):Qc(c)}}}function UE(c){return c in hf?hf[c]:hf[c]="on"+c}function vN(c,d){if(c.da)c=!0;else{d=new xs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&ff(c),c=f.call(g,d)}return c}function pf(c){return c=c[df],c instanceof Yc?c:null}var gf="__closure_events_fn_"+(1e9*Math.random()>>>0);function mf(c){return typeof c=="function"?c:(c[gf]||(c[gf]=function(d){return c.handleEvent(d)}),c[gf])}function tt(){Xn.call(this),this.i=new Yc(this),this.M=this,this.F=null}S(tt,Xn),tt.prototype[Os]=!0,tt.prototype.removeEventListener=function(c,d,f,g){jE(this,c,d,f,g)};function dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new et(d,c);else if(d instanceof et)d.target=d.target||c;else{var b=d;d=new et(g,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var x=d.g=f[A];b=Zc(x,g,!0,d)&&b}if(x=d.g=c,b=Zc(x,g,!0,d)&&b,b=Zc(x,g,!1,d)&&b,f)for(A=0;A<f.length;A++)x=d.g=f[A],b=Zc(x,g,!1,d)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Qc(f[g]);delete c.g[d],c.h--}}this.F=null},tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Zc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==f){var _e=x.listener,Qe=x.ha||x.src;x.fa&&uf(c.i,x),b=_e.call(Qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function BE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function $E(c){c.g=BE(()=>{c.g=null,c.i&&(c.i=!1,$E(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class _N extends Xn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$E(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(c){Xn.call(this),this.h=c,this.g={}}S(Ls,Xn);var HE=[];function qE(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&ff(d)},c),c.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),qE(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yf=a.JSON.stringify,EN=a.JSON.parse,IN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vf(){}vf.prototype.h=null;function zE(c){return c.h||(c.h=c.i())}function GE(){}var Fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _f(){et.call(this,"d")}S(_f,et);function Ef(){et.call(this,"c")}S(Ef,et);var Gr={},WE=null;function Jc(){return WE=WE||new tt}Gr.La="serverreachability";function KE(c){et.call(this,Gr.La,c)}S(KE,et);function Vs(c){let d=Jc();dt(d,new KE(d))}Gr.STAT_EVENT="statevent";function QE(c,d){et.call(this,Gr.STAT_EVENT,c),this.stat=d}S(QE,et);function ht(c){let d=Jc();dt(d,new QE(d,c))}Gr.Ma="timingevent";function YE(c,d){et.call(this,Gr.Ma,c),this.size=d}S(YE,et);function js(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function wN(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var x="",_e=A.split("&"),Qe=0;Qe<_e.length;Qe++){var de=_e[Qe].split("=");if(1<de.length){var nt=de[0];de=de[1];var rt=nt.split("_");x=2<=rt.length&&rt[1]=="type"?x+(nt+"="+de+"&"):x+(nt+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function TN(c,d,f,g,b,A,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+x})}function Wi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+bN(c,f)+(g?" "+g:"")})}function DN(c,d){c.info(function(){return"TIMEOUT: "+d})}Us.prototype.info=function(){};function bN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return yf(f)}catch{return d}}var Xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ZE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},If;function eu(){}S(eu,vf),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},If=new eu;function er(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}var XE={},wf={};function Tf(c,d,f){c.L=1,c.v=iu(Cn(d)),c.m=f,c.P=!0,eI(c,null)}function eI(c,d){c.F=Date.now(),tu(c),c.A=Cn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),pI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new JE,c.g=PI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new _N(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(HE[0]=b.toString()),b=HE);for(var A=0;A<b.length;A++){var x=LE(f,b[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Vs(),wN(c.i,c.u,c.A,c.l,c.R,c.m)}er.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sn(c)==3?d.j():this.Y(c)},er.prototype.Y=function(c){try{if(c==this.g)e:{let rt=Sn(this.g);var d=this.g.Ba();let Yi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||II(this.g)))){this.J||rt!=4||d==7||(d==8||0>=Yi?Vs(3):Vs(2)),Df(this);var f=this.g.Z();this.X=f;t:if(tI(this)){var g=II(this.g);c="";var b=g.length,A=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Bs(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,TN(this.i,this.u,this.A,this.l,this.R,rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Qe=this.g;if((_e=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(_e)){var de=_e;break t}}de=null}if(f=de)Wi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,f);else{this.o=!1,this.s=3,ht(12),Wr(this),Bs(this);break e}}if(this.P){f=!0;let zt;for(;!this.J&&this.C<x.length;)if(zt=CN(this,x),zt==wf){rt==4&&(this.s=4,ht(14),f=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==XE){this.s=4,ht(15),Wi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Wi(this.i,this.l,zt,null),bf(this,zt);if(tI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||x.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)Wi(this.i,this.l,x,"[Invalid Chunked Response]"),Wr(this),Bs(this);else if(0<x.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Mf(nt),nt.M=!0,ht(11))}}else Wi(this.i,this.l,x,null),bf(this,x);rt==4&&Wr(this),this.o&&!this.J&&(rt==4?AI(this.j,this):(this.o=!1,tu(this)))}else HN(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Wr(this),Bs(this)}}}catch{}finally{}};function tI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function CN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?wf:(f=Number(d.substring(f,g)),isNaN(f)?XE:(g+=1,g+f>d.length?wf:(d=d.slice(g,g+f),c.C=g+f,d)))}er.prototype.cancel=function(){this.J=!0,Wr(this)};function tu(c){c.S=Date.now()+c.I,nI(c,c.I)}function nI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=js(m(c.ba,c),d)}function Df(c){c.B&&(a.clearTimeout(c.B),c.B=null)}er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(DN(this.i,this.A),this.L!=2&&(Vs(),ht(17)),Wr(this),this.s=2,Bs(this)):nI(this,this.S-c)};function Bs(c){c.j.G==0||c.J||AI(c.j,c)}function Wr(c){Df(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,qE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function bf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Cf(f.h,c))){if(!c.K&&Cf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)uu(f),au(f);else break e;Nf(f),ht(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=js(m(f.Za,f),6e3));if(1>=oI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Qr(f,11)}else if((c.K||f.g==c)&&uu(f),!z(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let de=b[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let nt=de[3];nt!=null&&(f.la=nt,f.j.info("VER="+f.la));let rt=de[4];rt!=null&&(f.Aa=rt,f.j.info("SVER="+f.Aa));let Yi=de[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(g=1.5*Yi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let zt=c.g;if(zt){let du=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var A=g.h;A.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Sf(A,A.h),A.h=null))}if(g.D){let Pf=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pf&&(g.ya=Pf,Ie(g.I,g.D,Pf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=MI(g,g.J?g.ia:null,g.W),x.K){sI(g.h,x);var _e=x,Qe=g.L;Qe&&(_e.I=Qe),_e.B&&(Df(_e),tu(_e)),g.g=x}else CI(g);0<f.i.length&&cu(f)}else de[0]!="stop"&&de[0]!="close"||Qr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Qr(f,7):Rf(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Vs(4)}catch{}}var SN=class{constructor(c,d){this.g=c,this.map=d}};function rI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oI(c){return c.h?1:c.g?c.g.size:0}function Cf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Sf(c,d){c.g?c.g.add(d):c.h=d}function sI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}rI.prototype.cancel=function(){if(this.i=aI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function aI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function AN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function RN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function cI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=RN(c),g=AN(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var uI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Kr){this.h=c.h,nu(this,c.j),this.o=c.o,this.g=c.g,ru(this,c.s),this.l=c.l;var d=c.i,f=new qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),lI(this,f),this.m=c.m}else c&&(d=String(c).match(uI))?(this.h=!1,nu(this,d[1]||"",!0),this.o=$s(d[2]||""),this.g=$s(d[3]||"",!0),ru(this,d[4]),this.l=$s(d[5]||"",!0),lI(this,d[6]||"",!0),this.m=$s(d[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}Kr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Hs(d,dI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Hs(d,dI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Hs(f,f.charAt(0)=="/"?kN:PN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Hs(f,ON)),c.join("")};function Cn(c){return new Kr(c)}function nu(c,d,f){c.j=f?$s(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ru(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function lI(c,d,f){d instanceof qs?(c.i=d,LN(c.i,c.h)):(f||(d=Hs(d,xN)),c.i=new qs(d,c.h))}function Ie(c,d,f){c.i.set(d,f)}function iu(c){return Ie(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $s(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,MN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function MN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dI=/[#\/\?@]/g,PN=/[#\?:]/g,kN=/[#\?]/g,xN=/[#\?@]/g,ON=/#/g;function qs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&NN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=qs.prototype,n.add=function(c,d){tr(this),this.i=null,c=Ki(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function hI(c,d){tr(c),d=Ki(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function fI(c,d){return tr(c),d=Ki(c,d),c.g.has(d)}n.forEach=function(c,d){tr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){tr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){tr(this);let d=[];if(typeof c=="string")fI(this,c)&&(d=d.concat(this.g.get(Ki(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return tr(this),this.i=null,c=Ki(this,c),fI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function pI(c,d,f){hI(c,d),0<f.length&&(c.i=null,c.g.set(Ki(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=A;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),c.push(b)}}return this.i=c.join("&")};function Ki(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function LN(c,d){d&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(hI(this,g),pI(this,b,f))},c)),c.j=d}function FN(c,d){let f=new Us;if(a.Image){let g=new Image;g.onload=y(nr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(nr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(nr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(nr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function VN(c,d){let f=new Us,g=new AbortController,b=setTimeout(()=>{g.abort(),nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?nr(f,"TestPingServer: ok",!0,d):nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),nr(f,"TestPingServer: error",!1,d)})}function nr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function jN(){this.g=new IN}function UN(c,d,f){let g=f||"";try{cI(c,function(b,A){let x=b;l(b)&&(x=yf(b)),d.push(g+A+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function zs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(zs,vf),zs.prototype.g=function(){return new ou(this.l,this.j)},zs.prototype.i=(function(c){return function(){return c}})({});function ou(c,d){tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ou,tt),n=ou.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ws(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Gs(this):Ws(this),this.readyState==3&&gI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Gs(this))},n.Qa=function(c){this.g&&(this.response=c,Gs(this))},n.ga=function(){this.g&&Gs(this)};function Gs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ws(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ws(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mI(c){let d="";return ge(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Af(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=mI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ie(c,d,f))}function be(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(be,tt);var BN=/^https?$/i,$N=["POST","PUT"];n=be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():If.g(),this.v=this.o?zE(this.o):zE(If),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){yI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($N,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of f)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){yI(this,A)}};function yI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,vI(c),su(c)}function vI(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),su(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_I(this):this.bb())},n.bb=function(){_I(this)};function _I(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)BE(c.Ea,0,c);else if(dt(c,"readystatechange"),Sn(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var b=String(c.D).match(uI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!BN.test(b?b.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var A=2<Sn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",vI(c)}}finally{su(c)}}}}function su(c,d){if(c.g){EI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function EI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),EN(d)}};function II(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HN(c){let d={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function wI(c){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rI(c&&c.concurrentRequestLimit),this.Da=new jN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=MI(this,null,this.W),cu(this)};function Rf(c){if(TI(c),c.G==3){var d=c.U++,f=Cn(c.I);if(Ie(f,"SID",c.K),Ie(f,"RID",d),Ie(f,"TYPE","terminate"),Qs(c,f),d=new er(c,c.j,d),d.L=2,d.v=iu(Cn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=PI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),tu(d)}NI(c)}function au(c){c.g&&(Mf(c),c.g.cancel(),c.g=null)}function TI(c){au(c),c.u&&(a.clearTimeout(c.u),c.u=null),uu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function cu(c){if(!iI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ps||OE(),ks||(Ps(),ks=!0),cf.add(d,c),c.B=0}}function qN(c,d){return oI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=js(m(c.Ga,c,d),RI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new er(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=bI(this,b,d),f=Cn(this.I),Ie(f,"RID",c),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),Qs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(mI(A)))+"&"+d:this.m&&Af(f,this.m,A)),Sf(this.h,b),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",d),Ie(f,"SID","null"),b.T=!0,Tf(b,f,null)):Tf(b,f,d),this.G=2}}else this.G==3&&(c?DI(this,c):this.i.length==0||iI(this.h)||DI(this))};function DI(c,d){var f;d?f=d.l:f=c.U++;let g=Cn(c.I);Ie(g,"SID",c.K),Ie(g,"RID",f),Ie(g,"AID",c.T),Qs(c,g),c.m&&c.o&&Af(g,c.m,c.o),f=new er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=bI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sf(c.h,f),Tf(f,g,d)}function Qs(c,d){c.H&&ge(c.H,function(f,g){Ie(d,g,f)}),c.l&&cI({},function(f,g){Ie(d,g,f)})}function bI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let x=["count="+f];A==-1?0<f?(A=b[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let _e=!0;for(let Qe=0;Qe<f;Qe++){let de=b[Qe].g,nt=b[Qe].map;if(de-=A,0>de)A=Math.max(0,b[Qe].g-100),_e=!1;else try{UN(nt,x,"req"+de+"_")}catch{g&&g(nt)}}if(_e){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function CI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ps||OE(),ks||(Ps(),ks=!0),cf.add(d,c),c.v=0}}function Nf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=js(m(c.Fa,c),RI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,SI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=js(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),au(this),SI(this))};function Mf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function SI(c){c.g=new er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Cn(c.qa);Ie(d,"RID","rpc"),Ie(d,"SID",c.K),Ie(d,"AID",c.T),Ie(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ie(d,"TO",c.ja),Ie(d,"TYPE","xmlhttp"),Qs(c,d),c.m&&c.o&&Af(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=iu(Cn(d)),f.m=null,f.P=!0,eI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,au(this),Nf(this),ht(19))};function uu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function AI(c,d){var f=null;if(c.g==d){uu(c),Mf(c),c.g=null;var g=2}else if(Cf(c.h,d))f=d.D,sI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Jc(),dt(g,new YE(g,f)),cu(c)}else CI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&qN(c,d)||g==2&&Nf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Qr(c,5);break;case 4:Qr(c,10);break;case 3:Qr(c,6);break;default:Qr(c,2)}}}function RI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Qr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Kr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nu(g,"https"),iu(g),b?FN(g.toString(),f):VN(g.toString(),f)}else ht(2);c.G=0,c.l&&c.l.sa(d),NI(c),TI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function NI(c){if(c.G=0,c.ka=[],c.l){let d=aI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function MI(c,d,f){var g=f instanceof Kr?Cn(f):new Kr(f);if(g.g!="")d&&(g.g=d+"."+g.g),ru(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Kr(null);g&&nu(A,g),d&&(A.g=d),b&&ru(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ie(g,f,d),Ie(g,"VER",c.la),Qs(c,g),g}function PI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new be(new zs({eb:f})):new be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kI(){}n=kI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lu(){}lu.prototype.g=function(c,d){return new wt(c,d)};function wt(c,d){tt.call(this),this.g=new wI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Qi(this)}S(wt,tt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Rf(this.g)},wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=yf(c),c=f);d.i.push(new SN(d.Ya++,c)),d.G==3&&cu(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Rf(this.g),delete this.g,wt.aa.N.call(this)};function xI(c){_f.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(xI,_f);function OI(){Ef.call(this),this.status=1}S(OI,Ef);function Qi(c){this.g=c}S(Qi,kI),Qi.prototype.ua=function(){dt(this.g,"a")},Qi.prototype.ta=function(c){dt(this.g,new xI(c))},Qi.prototype.sa=function(c){dt(this.g,new OI)},Qi.prototype.ra=function(){dt(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,yv=Gn.createWebChannelTransport=function(){return new lu},mv=Gn.getStatEventTarget=function(){return Jc()},gv=Gn.Event=Gr,dh=Gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xc.NO_ERROR=0,Xc.TIMEOUT=8,Xc.HTTP_ERROR=6,Sc=Gn.ErrorCode=Xc,ZE.COMPLETE="complete",pv=Gn.EventType=ZE,GE.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",tt.prototype.listen=tt.prototype.K,is=Gn.WebChannel=GE,GU=Gn.FetchXmlHttpFactory=zs,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,fv=Gn.XhrIo=be}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});var kA="@firebase/firestore",xA="4.8.0";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var Ss="11.10.0";var Vi=new mn("@firebase/firestore");function os(){return Vi.logLevel}function F(n,...e){if(Vi.logLevel<=oe.DEBUG){let t=e.map(aE);Vi.debug(`Firestore (${Ss}): ${n}`,...t)}}function Kn(n,...e){if(Vi.logLevel<=oe.ERROR){let t=e.map(aE);Vi.error(`Firestore (${Ss}): ${n}`,...t)}}function Br(n,...e){if(Vi.logLevel<=oe.WARN){let t=e.map(aE);Vi.warn(`Firestore (${Ss}): ${n}`,...t)}}function aE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function H(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,S0(n,r,t)}function S0(n,e,t){let r=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Kn(r),new Error(r)}function pe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||S0(e,i,r)}function Y(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ge.UNAUTHENTICATED))}shutdown(){}},Tv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Dv=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}},bv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Cv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_h=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Sv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _h(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _h(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function A0(){return new TextEncoder}var kc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=WU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function Av(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=A0(),s=KU(o.encode(OA(n,t)),o.encode(OA(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function OA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function KU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function fs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var LA="__name__",Eh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&H(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&H(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Av(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zn.fromString(e.substring(4,e.length-2))}},De=class n extends Eh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},QU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class n extends Eh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return QU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LA}static keyField(){return new n([LA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};function R0(n,e,t){if(!t)throw new L(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YU(n,e,t,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FA(n){if(!B.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VA(n){if(B.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function N0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":H(12329,{type:typeof n})}function Or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Jh(n);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Le(n,e){let t={typeString:n};return e&&(t.value=e),t}function qc(n,e){if(!N0(n))throw new L(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new L(N.INVALID_ARGUMENT,t);return!0}var jA=-62135596800,UA=1e6,Fe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*UA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jA)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UA}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-jA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Le("string",Fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Fe(0,0))}static max(){return new n(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xc=-1,Rv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Rv.UNKNOWN_ID=-1;function ZU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Fe(t+1,0):new Fe(t,r));return new ji(i,B.empty(),e)}function JU(n){return new ji(n.readTime,n.key,xc)}var ji=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),B.empty(),xc)}static max(){return new n(X.max(),B.empty(),xc)}};function XU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var eB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function As(n){return _(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==eB)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function tB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rs(n){return n.name==="IndexedDbTransactionError"}var cE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),uE=-1;function Xh(n){return n==null}function Oc(n){return n===0&&1/n==-1/0}function nB(n){return typeof n=="number"&&Number.isInteger(n)&&!Oc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var M0="";function rB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BA(e)),e=iB(n.get(t),e);return BA(e)}function iB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case M0:t+="";break;default:t+=o}}return t}function BA(n){return n+M0+""}var oB="remoteDocuments",P0="owner";var k0="mutationQueues";var x0="mutations";var O0="documentMutations",sB="remoteDocumentsV14";var L0="remoteDocumentGlobal";var F0="targets";var V0="targetDocuments";var j0="targetGlobal",U0="collectionParents";var B0="clientMetadata";var $0="bundles";var H0="namedQueries";var aB="indexConfiguration";var cB="indexState";var uB="indexEntries";var q0="documentOverlays";var lB="globals";var dB=[k0,x0,O0,oB,F0,P0,j0,V0,B0,L0,U0,$0,H0],Xne=[...dB,q0],hB=[k0,x0,O0,sB,F0,P0,j0,V0,B0,L0,U0,$0,H0,q0],fB=hB,pB=[...fB,aB,cB,uB];var ere=[...pB,lB];function $A(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function z0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Re=class n{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new us(this.root,e,this.comparator,!1)}getReverseIterator(){return new us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new us(this.root,e,this.comparator,!0)}},us=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},En=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class n{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ih(this.data.getIterator())}getIteratorFrom(e){return new Ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qt=class n{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new n([])}unionWith(e){let t=new We(Lt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var gB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(n){if(pe(!!n,39018),typeof n=="string"){let e=0,t=gB.exec(n);if(pe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yn(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}var G0="server_timestamp",W0="__type__",K0="__previous_value__",Q0="__local_write_time__";function lE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[W0])===null||t===void 0?void 0:t.stringValue)===G0}function ef(n){let e=n.mapValue.fields[K0];return lE(e)?ef(e):e}function Lc(n){let e=Qn(n.mapValue.fields[Q0].timestampValue);return new Fe(e.seconds,e.nanos)}var Mv=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Th="(default)",Dh=class n{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var dE="__type__",Y0="__max__",hh={mapValue:{fields:{__type__:{stringValue:Y0}}}},hE="__vector__",ps="value";function $r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lE(n)?4:J0(n)?9007199254740991:Z0(n)?10:11:H(28295,{value:n})}function Tn(n,e){if(n===e)return!0;let t=$r(n);if(t!==$r(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Qn(i.timestampValue),a=Qn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Yn(i.bytesValue).isEqual(Yn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),a=Te(o.doubleValue);return s===a?Oc(s)===Oc(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return fs(n.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($A(s)!==$A(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Tn(s[u],a[u])))return!1;return!0})(n,e);default:return H(52216,{left:n})}}function Fc(n,e){return(n.values||[]).find(t=>Tn(t,e))!==void 0}function gs(n,e){if(n===e)return 0;let t=$r(n),r=$r(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return HA(n.timestampValue,e.timestampValue);case 4:return HA(Lc(n),Lc(e));case 5:return Av(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Yn(o),u=Yn(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=re(Te(o.latitude),Te(s.latitude));return a!==0?a:re(Te(o.longitude),Te(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[ps])===null||a===void 0?void 0:a.arrayValue,S=(u=m[ps])===null||u===void 0?void 0:u.arrayValue,M=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:qA(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===hh.mapValue&&s===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(s===hh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Av(u[p],h[p]);if(m!==0)return m;let y=gs(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)})(n.mapValue,e.mapValue);default:throw H(23264,{le:t})}}function HA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=Qn(n),r=Qn(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function qA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=gs(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function ms(n){return Pv(n)}function Pv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Qn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Pv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Pv(t.fields[s])}`;return i+"}"})(n.mapValue):H(61005,{value:n})}function gh(n){switch($r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ef(n);return e?16+gh(e):16;case 5:return 2*n.stringValue.length;case 6:return Yn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+gh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return zr(r.fields,(o,s)=>{i+=o.length+gh(s)}),i})(n.mapValue);default:throw H(13486,{value:n})}}function zA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kv(n){return!!n&&"integerValue"in n}function fE(n){return!!n&&"arrayValue"in n}function GA(n){return!!n&&"nullValue"in n}function WA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function Z0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dE])===null||t===void 0?void 0:t.stringValue)===hE}function Rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return zr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function J0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Y0}var nre={mapValue:{fields:{[dE]:{stringValue:hE},[ps]:{arrayValue:{}}}}};var Ot=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(t)}setAll(e){let t=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Rc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zr(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Rc(this.value))}};function X0(n){let e=[];return zr(n.fields,(t,r)=>{let i=new Lt([t]);if(mh(r)){let o=X0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new qt(e)}var en=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Ot.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Ot.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Ot.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ys=class{constructor(e,t){this.position=e,this.inclusive=t}};function KA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=gs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tn(n.position[t],e.position[t]))return!1;return!0}var vs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function mB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var bh=class{},Oe=class n extends bh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ov(e,t,r):t==="array-contains"?new Vv(e,r):t==="in"?new jv(e,r):t==="not-in"?new Uv(e,r):t==="array-contains-any"?new Bv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Lv(e,r):new Fv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gs(t,this.value)):t!==null&&$r(this.value)===$r(t)&&this.matchesComparison(gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tn=class n extends bh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return eR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function eR(n){return n.op==="and"}function tR(n){return yB(n)&&eR(n)}function yB(n){for(let e of n.filters)if(e instanceof tn)return!1;return!0}function xv(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+ms(n.value);if(tR(n))return n.filters.map(e=>xv(e)).join(",");{let e=n.filters.map(t=>xv(t)).join(",");return`${n.op}(${e})`}}function nR(n,e){return n instanceof Oe?(function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&Tn(r.value,i.value)})(n,e):n instanceof tn?(function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&nR(s,i.filters[a]),!0):!1})(n,e):void H(19439)}function rR(n){return n instanceof Oe?(function(t){return`${t.field.canonicalString()} ${t.op} ${ms(t.value)}`})(n):n instanceof tn?(function(t){return t.op.toString()+" {"+t.getFilters().map(rR).join(" ,")+"}"})(n):"Filter"}var Ov=class extends Oe{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},Lv=class extends Oe{constructor(e,t){super(e,"in",t),this.keys=iR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Fv=class extends Oe{constructor(e,t){super(e,"not-in",t),this.keys=iR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function iR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var Vv=class extends Oe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fE(t)&&Fc(t.arrayValue,this.value)}},jv=class extends Oe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}},Uv=class extends Oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fc(this.value.arrayValue,t)}},Bv=class extends Oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}};var $v=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function YA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new $v(n,e,t,r,i,o,s)}function pE(n){let e=Y(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ms(r)).join(",")),e.Pe=t}return e.Pe}function gE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QA(n.startAt,e.startAt)&&QA(n.endAt,e.endAt)}function Hv(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ui=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function vB(n,e,t,r,i,o,s,a){return new Ui(n,e,t,r,i,o,s,a)}function mE(n){return new Ui(n)}function ZA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oR(n){return n.collectionGroup!==null}function Nc(n){let e=Y(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new We(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new vs(o,r))}),t.has(Lt.keyField().canonicalString())||e.Te.push(new vs(Lt.keyField(),r))}return e.Te}function In(n){let e=Y(n);return e.Ie||(e.Ie=_B(e,Nc(n))),e.Ie}function _B(n,e){if(n.limitType==="F")return YA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new vs(i.field,o)});let t=n.endAt?new ys(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ys(n.startAt.position,n.startAt.inclusive):null;return YA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qv(n,e){let t=n.filters.concat([e]);return new Ui(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zv(n,e,t){return new Ui(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tf(n,e){return gE(In(n),In(e))&&n.limitType===e.limitType}function sR(n){return`${pE(In(n))}|lt:${n.limitType}`}function ss(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>rR(i)).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ms(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ms(i)).join(",")),`Target(${r})`})(In(n))}; limitType=${n.limitType})`}function nf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=KA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(s,a,u){let l=KA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Nc(r),i))})(n,e)}function EB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aR(n){return(e,t)=>{let r=!1;for(let i of Nc(n)){let o=IB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IB(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?gs(u,l):H(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:n.dir})}}var Zn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return z0(this.inner)}size(){return this.innerSize}};var wB=new Re(B.comparator);function Jn(){return wB}var cR=new Re(B.comparator);function Ac(...n){let e=cR;for(let t of n)e=e.insert(t.key,t);return e}function uR(n){let e=cR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xi(){return Mc()}function lR(){return Mc()}function Mc(){return new Zn(n=>n.toString(),(n,e)=>n.isEqual(e))}var TB=new Re(B.comparator),DB=new We(B.comparator);function ce(...n){let e=DB;for(let t of n)e=e.add(t);return e}var bB=new We(re);function CB(){return bB}function yE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function dR(n){return{integerValue:""+n}}function SB(n,e){return nB(e)?dR(e):yE(n,e)}var _s=class{constructor(){this._=void 0}};function AB(n,e,t){return n instanceof Es?(function(i,o){let s={fields:{[W0]:{stringValue:G0},[Q0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lE(o)&&(o=ef(o)),o&&(s.fields[K0]=o),{mapValue:s}})(t,e):n instanceof Bi?fR(n,e):n instanceof $i?pR(n,e):(function(i,o){let s=hR(i,o),a=JA(s)+JA(i.Ee);return kv(s)&&kv(i.Ee)?dR(a):yE(i.serializer,a)})(n,e)}function RB(n,e,t){return n instanceof Bi?fR(n,e):n instanceof $i?pR(n,e):t}function hR(n,e){return n instanceof Is?(function(r){return kv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Es=class extends _s{},Bi=class extends _s{constructor(e){super(),this.elements=e}};function fR(n,e){let t=gR(e);for(let r of n.elements)t.some(i=>Tn(i,r))||t.push(r);return{arrayValue:{values:t}}}var $i=class extends _s{constructor(e){super(),this.elements=e}};function pR(n,e){let t=gR(e);for(let r of n.elements)t=t.filter(i=>!Tn(i,r));return{arrayValue:{values:t}}}var Is=class extends _s{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function JA(n){return Te(n.integerValue||n.doubleValue)}function gR(n){return fE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof $i&&i instanceof $i?fs(r.elements,i.elements,Tn):r instanceof Is&&i instanceof Is?Tn(r.Ee,i.Ee):r instanceof Es&&i instanceof Es})(n.transform,e.transform)}var Gv=class{constructor(e,t){this.version=e,this.transformResults=t}},Lr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ws=class{};function mR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ch(n.key,Lr.none()):new Hi(n.key,n.data,Lr.none());{let t=n.data,r=Ot.empty(),i=new We(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dn(n.key,r,new qt(i.toArray()),Lr.none())}}function MB(n,e,t){n instanceof Hi?(function(i,o,s){let a=i.value.clone(),u=e0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Dn?(function(i,o,s){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=e0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(yR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Pc(n,e,t,r){return n instanceof Hi?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=o.value.clone(),h=t0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Dn?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=t0(o.fieldTransforms,u,s),h=s.data;return h.setAll(yR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function PB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=hR(r.transform,i||null);o!=null&&(t===null&&(t=Ot.empty()),t.set(r.field,o))}return t||null}function XA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(o,s)=>NB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Hi=class extends ws{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dn=class extends ws{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function e0(n,e,t){let r=new Map;pe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,RB(s,a,t[i]))}return r}function t0(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,AB(o,s,e))}return r}var Ch=class extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Wv=class extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Kv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&MB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=lR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=mR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(t,r)=>XA(t,r))&&fs(this.baseMutations,e.baseMutations,(t,r)=>XA(t,r))}},Qv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return TB})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Yv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Zv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ke,le;function kB(n){switch(n){case N.OK:return H(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return H(15467,{code:n})}}function vR(n){if(n===void 0)return Kn("GRPC error has no .code"),N.UNKNOWN;switch(n){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return H(39323,{code:n})}}(le=ke||(ke={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var n0=null;var xB=new zn([4294967295,4294967295],0);function r0(n){let e=A0().encode(n),t=new hv;return t.update(e),new Uint8Array(t.digest())}function i0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zn([t,r],0),new zn([i,o],0)]}var Jv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Oi(`Invalid padding: ${t}`);if(r<0)throw new Oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Oi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=zn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(zn.fromNumber(r)));return i.compare(xB)===1&&(i=new zn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=r0(e),[r,i]=i0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=r0(e),[r,i]=i0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Re(re),Jn(),ce())}},Vc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var ls=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Ah=class{constructor(e,t){this.targetId=e,this.De=t}},Rh=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Nh=class{constructor(){this.ve=0,this.Ce=o0(),this.Fe=ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ce(),t=ce(),r=ce();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new Vc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=o0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Xv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jn(),this.je=fh(),this.Je=fh(),this.He=new Re(re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Hv(o))if(r===0){let s=new B(o.path);this.Xe(t,s,en.newNoDocument(s,X.min()))}else pe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}n0?.ct((function(h,p,m,y,S){var M,R,O,z,W,ve;let lt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ge=p.unchangedNames;return ge&&(lt.bloomFilter={applied:S===0,hashCount:(M=ge?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(z=(O=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&z!==void 0?z:0,padding:(ve=(W=ge?.bits)===null||W===void 0?void 0:W.padding)!==null&&ve!==void 0?ve:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),lt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Yn(r).toUint8Array()}catch(u){if(u instanceof wh)return Br("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Jv(s,i,o)}catch(u){return Br(u instanceof Oi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Hv(a.target)){let u=new B(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,en.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Sh(e,t,this.He,this.ze,r);return this.ze=Jn(),this.je=fh(),this.Je=fh(),this.He=new Re(re),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Nh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new We(re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new We(re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function fh(){return new Re(B.comparator)}function o0(){return new Re(B.comparator)}var OB={asc:"ASCENDING",desc:"DESCENDING"},LB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FB={and:"AND",or:"OR"},e_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function t_(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _R(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VB(n,e){return Mh(n,e.toTimestamp())}function wn(n){return pe(!!n,49232),X.fromTimestamp((function(t){let r=Qn(t);return new Fe(r.seconds,r.nanos)})(n))}function vE(n,e){return n_(n,e).canonicalString()}function n_(n,e){let t=(function(i){return new De(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ER(n){let e=De.fromString(n);return pe(bR(e),10190,{key:e.toString()}),e}function r_(n,e){return vE(n.databaseId,e.path)}function vv(n,e){let t=ER(e);if(t.get(1)!==n.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(wR(t))}function IR(n,e){return vE(n.databaseId,e)}function jB(n){let e=ER(n);return e.length===4?De.emptyPath():wR(e)}function i_(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wR(n){return pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function s0(n,e,t){return{name:r_(n,e),fields:t.value.mapValue.fields}}function UB(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(pe(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:vR(l.code);return new L(h,l.message||"")})(s);t=new Rh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vv(n,r.document.name),o=wn(r.document.updateTime),s=r.document.createTime?wn(r.document.createTime):X.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vv(n,r.document),o=r.readTime?wn(r.readTime):X.min(),s=en.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vv(n,r.document),o=r.removedTargetIds||[];t=new ls([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Zv(i,o),a=r.targetId;t=new Ah(a,s)}}return t}function BB(n,e){let t;if(e instanceof Hi)t={update:s0(n,e.key,e.value)};else if(e instanceof Ch)t={delete:r_(n,e.key)};else if(e instanceof Dn)t={update:s0(n,e.key,e.data),updateMask:YB(e.fieldMask)};else{if(!(e instanceof Wv))return H(16599,{Rt:e.type});t={verify:r_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $i)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:VB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)})(n,e.precondition)),t}function $B(n,e){return n&&n.length>0?(pe(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?wn(i.updateTime):wn(o);return s.isEqual(X.min())&&(s=wn(o)),new Gv(s,i.transformResults||[])})(t,e))):[]}function HB(n,e){return{documents:[IR(n,e.path)]}}function qB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=IR(n,i);let o=(function(l){if(l.length!==0)return DR(tn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:as(m.field),direction:WB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=t_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function zB(n){let e=jB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){pe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=TR(p);return m instanceof tn&&tR(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new vs(cs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Xh(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ys(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ys(y,m)})(t.endAt)),vB(e,i,s,o,a,"F",u,l)}function GB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=cs(t.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=cs(t.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=cs(t.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=cs(t.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Oe.create(cs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tn.create(t.compositeFilter.filters.map(r=>TR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(t.compositeFilter.op))})(n):H(30097,{filter:n})}function WB(n){return OB[n]}function KB(n){return LB[n]}function QB(n){return FB[n]}function as(n){return{fieldPath:n.canonicalString()}}function cs(n){return Lt.fromServerFormat(n.fieldPath)}function DR(n){return n instanceof Oe?(function(t){if(t.op==="=="){if(WA(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NAN"}};if(GA(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WA(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NOT_NAN"}};if(GA(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(t.field),op:KB(t.op),value:t.value}}})(n):n instanceof tn?(function(t){let r=t.getFilters().map(i=>DR(i));return r.length===1?r[0]:{compositeFilter:{op:QB(t.op),filters:r}}})(n):H(54877,{filter:n})}function YB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var jc=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),a=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var o_=class{constructor(e){this.gt=e}};function ZB(n){let e=zB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zv(e,e.limit,"L"):e}var Ph=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Oc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Qn(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Yn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?J0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Z0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):H(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ps,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Te(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ph.Ut=new Ph;var s_=class{constructor(){this.Dn=new a_}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ji.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},a_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new We(De.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(De.comparator)).toArray()}};var rre=new Uint8Array(0);var a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CR=41943040,Ht=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(CR,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);var Uc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var c0="LruGarbageCollector",JB=1048576;function u0([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var c_=class{constructor(e){this.Tr=e,this.buffer=new We(u0),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();u0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},u_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(c0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Rs(t)?F(c0,"Ignoring IndexedDB error during garbage collection: ",t):yield As(t)}yield this.Rr(3e5)}))}},l_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(cE.ue);let r=new c_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(a0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),os()<=oe.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function XB(n,e){return new l_(n,e)}var d_=class{constructor(){this.changes=new Zn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var h_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var f_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pc(r.mutation,i,qt.empty(),Fe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ac();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Jn(),s=Mc(),a=(function(){return Mc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Dn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Pc(h.mutation,l,h.mutation.getFieldMask(),Fe.now())):s.set(l.key,qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new h_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Mc(),i=new Re((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||qt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=lR();h.forEach(m=>{if(!o.has(m)){let y=mR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(xi()),a=xc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(h=>({batchId:a,changes:uR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ac();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new Ui(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,en.newInvalidDocument(h)))});let a=Ac();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Pc(h.mutation,l,qt.empty(),Fe.now()),nf(t,l)&&(a=a.insert(u,l))}),a})}};var p_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:ZB(i.bundledQuery),readTime:wn(i.readTime)}})(t)),P.resolve()}};var g_=class{constructor(){this.overlays=new Re(B.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=xi(),o=t.length+1,s=new B(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Re((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Yv(t,r));let o=this.kr.get(t);o===void 0&&(o=ce(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var m_=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Bc=class{constructor(){this.qr=new We(xe.Qr),this.$r=new We(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new xe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new xe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new De([])),r=new xe(t,e),i=new xe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new De([])),r=new xe(t,e),i=new xe(t,e+1),o=ce();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new xe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||re(e.Hr,t.Hr)}static Ur(e,t){return re(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var y_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new We(xe.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Kv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?uE:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new xe(t,0),i=new xe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(re);return t.forEach(i=>{let o=new xe(i,0),s=new xe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new xe(new B(o),0),a=new We(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new xe(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var v_=class{constructor(e){this.ni=e,this.docs=(function(){return new Re(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jn(),s=t.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XU(JU(h),r)<=0||(i.has(h.key)||nf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){H(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new __(this)}getSize(e){return P.resolve(this.size)}},__=class extends d_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var E_=class{constructor(e){this.persistence=e,this.ii=new Zn(t=>pE(t),gE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.si=0,this.oi=new Bc,this.targetCount=0,this._i=Uc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var kh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new cE(0),this.ci=!1,this.ci=!0,this.li=new m_,this.referenceDelegate=e(this),this.hi=new E_(this),this.indexManager=new s_,this.remoteDocumentCache=(function(i){return new v_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new o_(t),this.Ti=new p_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new y_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new I_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},I_=class extends Nv{constructor(e){super(),this.currentSequenceNumber=e}},w_=class n{constructor(e){this.persistence=e,this.Ai=new Bc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},xh=class n{constructor(e,t){this.persistence=e,this.gi=new Zn(r=>rB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=XB(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var T_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var D_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var b_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return iS()?8:tB(ze())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new D_;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(os()<=oe.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ss(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(os()<=oe.DEBUG&&F("QueryEngine","Query:",ss(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(os()<=oe.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ss(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(t))):P.resolve())}ps(e,t){if(ZA(t))return P.resolve(null);let r=In(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zv(t,null,"F"),r=In(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,zv(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return ZA(t)||i.isEqual(X.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(os()<=oe.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ss(t)),this.vs(e,s,t,ZU(i,xc)).next(a=>a))})}bs(e,t){let r=new We(aR(e));return t.forEach((i,o)=>{nf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return os()<=oe.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ss(t)),this.gs.getDocumentsMatchingQuery(e,t,ji.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _E="LocalStore",e$=3e8,C_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Re(re),this.Ms=new Zn(o=>pE(o),gE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function t$(n,e,t,r){return new C_(n,e,t,r)}function SR(n,e){return _(this,null,function*(){let t=Y(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function n$(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);pe(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function AR(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function r$(n,e){let t=Y(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=e$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Jn(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(i$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(X.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function i$(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Jn();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(_E,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function o$(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s$(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function S_(n,e,t){return _(this,null,function*(){let r=Y(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Rs(s))throw s;F(_E,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function l0(n,e,t){let r=Y(n),i=X.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:ce())).next(a=>(a$(r,EB(e),a),{documents:a,qs:o})))}function a$(n,e,t){let r=n.xs.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Oh=class{constructor(){this.activeTargetIds=CB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var A_=class{constructor(){this.Fo=new Oh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Oh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var R_=class{xo(e){}shutdown(){}};var d0="ConnectivityMonitor",Lh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(d0,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(d0,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function N_(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}var _v="RestConnection",c$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},M_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=N_(),a=this.Go(e,t.toUriEncodedString());F(_v,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Dr(l);return this.jo(e,a,u,r,h).then(p=>(F(_v,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Br(_v,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ss})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=c$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var P_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ct="WebChannelConnection",k_=class extends M_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=N_();return new Promise((a,u)=>{let l=new fv;l.setWithCredentials(!0),l.listenOnce(pv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sc.NO_ERROR:let p=l.getResponseJson();F(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Sc.TIMEOUT:F(ct,`RPC '${e}' ${s} timed out`),u(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:let m=l.getStatus();if(F(ct,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(O){let z=O.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(z)>=0?z:N.UNKNOWN})(S.status);u(new L(M,S.message))}else u(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(N.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(ct,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(ct,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=N_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yv(),a=mv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new P_({Ho:R=>{y?F(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(ct,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,O,z)=>{R.listen(O,W=>{try{z(W)}catch(ve){setTimeout(()=>{throw ve},0)}})};return M(p,is.EventType.OPEN,()=>{y||(F(ct,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,is.EventType.CLOSE,()=>{y||(y=!0,F(ct,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,is.EventType.ERROR,R=>{y||(y=!0,Br(ct,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,is.EventType.MESSAGE,R=>{var O;if(!y){let z=R.data[0];pe(!!z,16349);let W=z,ve=W?.error||((O=W[0])===null||O===void 0?void 0:O.error);if(ve){F(ct,`RPC '${e}' stream ${i} received error:`,ve);let lt=ve.status,ge=(function(I){let w=ke[I];if(w!==void 0)return vR(w)})(lt),T=ve.message;ge===void 0&&(ge=N.INTERNAL,T="Unknown error status: "+lt+" with message "+ve.message),y=!0,S.__(new L(ge,T)),p.close()}else F(ct,`RPC '${e}' stream ${i} received:`,z),S.a_(z)}}),M(a,gv.STAT_EVENT,R=>{R.stat===dh.PROXY?F(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===dh.NOPROXY&&F(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Ev(){return typeof document<"u"?document:null}function rf(n){return new e_(n,!0)}var Fh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var h0="PersistentStream",Vh=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Fh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(F(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},x_=class extends Vh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=UB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?wn(s.readTime):X.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=i_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=Hv(u)?{documents:HB(o,u)}:{query:qB(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_R(o,s.resumeToken);let l=t_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Mh(o,s.snapshotVersion.toTimestamp());let l=t_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=GB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=i_(this.serializer),t.removeTarget=e,this.k_(t)}},O_=class extends Vh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=$B(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=i_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>BB(this.serializer,r))};this.k_(t)}};var L_=class{},F_=class extends L_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,n_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,n_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},V_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kn(t),this._a=!1):F("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var qi="RemoteStore",j_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Gi(this)&&(F(qi,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=Y(u);l.Ia.add(4),yield zc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield of(l)})})(this))}))}),this.Aa=new V_(r,i)}};function of(n){return _(this,null,function*(){if(Gi(n))for(let e of n.da)yield e(!0)})}function zc(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function RR(n,e){let t=Y(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),TE(t)?wE(t):Ns(t).x_()&&IE(t,e))}function EE(n,e){let t=Y(n),r=Ns(t);t.Ta.delete(e),r.x_()&&NR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Gi(t)&&t.Aa.set("Unknown"))}function IE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ns(n).H_(e)}function NR(n,e){n.Ra.$e(e),Ns(n).Y_(e)}function wE(n){n.Ra=new Xv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ns(n).start(),n.Aa.aa()}function TE(n){return Gi(n)&&!Ns(n).M_()&&n.Ta.size>0}function Gi(n){return Y(n).Ia.size===0}function MR(n){n.Ra=void 0}function u$(n){return _(this,null,function*(){n.Aa.set("Online")})}function l$(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{IE(n,e)})})}function d$(n,e){return _(this,null,function*(){MR(n),TE(n)?(n.Aa.la(e),wE(n)):n.Aa.set("Unknown")})}function h$(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Rh&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){F(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jh(n,r)}else if(e instanceof ls?n.Ra.Ye(e):e instanceof Ah?n.Ra.it(e):n.Ra.et(e),!t.isEqual(X.min()))try{let r=yield AR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),NR(o,u);let p=new jc(h.target,u,l,h.sequenceNumber);IE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){F(qi,"Failed to raise snapshot:",r),yield jh(n,r)}})}function jh(n,e,t){return _(this,null,function*(){if(!Rs(e))throw e;n.Ia.add(1),yield zc(n),n.Aa.set("Offline"),t||(t=()=>AR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(qi,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield of(n)}))})}function PR(n,e){return e().catch(t=>jh(n,t,e))}function sf(n){return _(this,null,function*(){let e=Y(n),t=Hr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:uE;for(;f$(e);)try{let i=yield o$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,p$(e,i)}catch(i){yield jh(e,i)}kR(e)&&xR(e)})}function f$(n){return Gi(n)&&n.Pa.length<10}function p$(n,e){n.Pa.push(e);let t=Hr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function kR(n){return Gi(n)&&!Hr(n).M_()&&n.Pa.length>0}function xR(n){Hr(n).start()}function g$(n){return _(this,null,function*(){Hr(n).na()})}function m$(n){return _(this,null,function*(){let e=Hr(n);for(let t of n.Pa)e.X_(t.mutations)})}function y$(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=Qv.from(r,e,t);yield PR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sf(n)})}function v$(n,e){return _(this,null,function*(){e&&Hr(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return kB(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();Hr(r).N_(),yield PR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield sf(r)}})})(n,e)),kR(n)&&xR(n)})}function f0(n,e){return _(this,null,function*(){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),F(qi,"RemoteStore received new credentials");let r=Gi(t);t.Ia.add(3),yield zc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield of(t)})}function _$(n,e){return _(this,null,function*(){let t=Y(n);e?(t.Ia.delete(2),yield of(t)):e||(t.Ia.add(2),yield zc(t),t.Aa.set("Unknown"))})}function Ns(n){return n.Va||(n.Va=(function(t,r,i){let o=Y(t);return o.ia(),new x_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:u$.bind(null,n),e_:l$.bind(null,n),n_:d$.bind(null,n),J_:h$.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),TE(n)?wE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),MR(n))}))),n.Va}function Hr(n){return n.ma||(n.ma=(function(t,r,i){let o=Y(t);return o.ia(),new O_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:g$.bind(null,n),n_:v$.bind(null,n),ea:m$.bind(null,n),ta:y$.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield sf(n)):(yield n.ma.stop(),n.Pa.length>0&&(F(qi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var U_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DE(n,e){if(Kn("AsyncQueue",`${e}: ${n}`),Rs(n))return new L(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Uh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=Ac(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Bh=class{constructor(){this.fa=new Re(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ts=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Uh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var B_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},$_=class{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Y(t),o=i.queries;i.queries=p0(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function p0(){return new Zn(n=>sR(n),tf)}function E$(n,e){return _(this,null,function*(){let t=Y(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new B_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=DE(s,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&bE(t)})}function I$(n,e){return _(this,null,function*(){let t=Y(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function w$(n,e){let t=Y(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&bE(t)}function T$(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function bE(n){n.Da.forEach(e=>{e.next()})}var H_,g0;(g0=H_||(H_={})).Fa="default",g0.Cache="cache";var q_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==H_.Cache}};var $h=class{constructor(e){this.key=e}},Hh=class{constructor(e){this.key=e}},z_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ce(),this.mutatedKeys=ce(),this.Xa=aR(e),this.eu=new Uh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Bh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=nf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:R})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ts(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Bh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Hh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new $h(r))}),t}uu(e){this.Ha=e.qs,this.Za=ce();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ts.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},CE="SyncEngine",G_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},W_=class{constructor(e){this.key=e,this.lu=!1}},K_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Zn(a=>sR(a),tf),this.Tu=new Map,this.Iu=new Set,this.du=new Re(B.comparator),this.Eu=new Map,this.Au=new Bc,this.Ru={},this.Vu=new Map,this.mu=Uc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function D$(n,e,t=!0){return _(this,null,function*(){let r=UR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield OR(r,e,t,!0),i})}function b$(n,e){return _(this,null,function*(){let t=UR(n);yield OR(t,e,!0,!1)})}function OR(n,e,t,r){return _(this,null,function*(){let i=yield s$(n.localStore,In(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield C$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&RR(n.remoteStore,i),a})}function C$(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,O,z){return _(this,null,function*(){let W=R.view.nu(O);W.Ds&&(W=yield l0(M.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,W)));let ve=z&&z.targetChanges.get(R.targetId),lt=z&&z.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges(W,M.isPrimaryClient,ve,lt);return y0(M,R.targetId,ge._u),ge.snapshot})})(n,p,m,y);let o=yield l0(n.localStore,e,!0),s=new z_(e,o.qs),a=s.nu(o.documents),u=Vc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);y0(n,t,l._u);let h=new G_(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function S$(n,e,t){return _(this,null,function*(){let r=Y(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!tf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&EE(r.remoteStore,i.targetId),Q_(r,i.targetId)}).catch(As))):(Q_(r,i.targetId),yield S_(r.localStore,i.targetId,!0))})}function A$(n,e){return _(this,null,function*(){let t=Y(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),EE(t.remoteStore,r.targetId))})}function R$(n,e,t){return _(this,null,function*(){let r=L$(n);try{let i=yield(function(s,a){let u=Y(s),l=Fe.now(),h=a.reduce((y,S)=>y.add(S.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Jn(),M=ce();return u.Os.getEntries(y,h).next(R=>{S=R,S.forEach((O,z)=>{z.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let O=[];for(let z of a){let W=PB(z,p.get(z.key).overlayedDocument);W!=null&&O.push(new Dn(z.key,W,X0(W.value.mapValue),Lr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:uR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Re(re)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Gc(r,i.changes),yield sf(r.remoteStore)}catch(i){let o=DE(i,"Failed to persist write");t.reject(o)}})}function LR(n,e){return _(this,null,function*(){let t=Y(n);try{let r=yield r$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?pe(s.lu,14607):i.removedDocuments.size>0&&(pe(s.lu,42227),s.lu=!1))}),yield Gc(t,r,e)}catch(r){yield As(r)}})}function m0(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&bE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function N$(n,e,t){return _(this,null,function*(){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Re(B.comparator);s=s.insert(o,en.newNoDocument(o,X.min()));let a=ce().add(o),u=new Sh(X.min(),new Map,new Re(re),s,a);yield LR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),SE(r)}else yield S_(r.localStore,e,!1).then(()=>Q_(r,e,t)).catch(As)})}function M$(n,e){return _(this,null,function*(){let t=Y(n),r=e.batch.batchId;try{let i=yield n$(t.localStore,e);VR(t,r,null),FR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gc(t,i)}catch(i){yield As(i)}})}function P$(n,e,t){return _(this,null,function*(){let r=Y(n);try{let i=yield(function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(pe(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);VR(r,e,t),FR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gc(r,i)}catch(i){yield As(i)}})}function FR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function VR(n,e,t){let r=Y(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||jR(n,r)})}function jR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(EE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),SE(n))}function y0(n,e,t){for(let r of t)r instanceof $h?(n.Au.addReference(r.key,e),k$(n,r)):r instanceof Hh?(F(CE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||jR(n,r.key)):H(19791,{yu:r})}function k$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(F(CE,"New document in limbo: "+t),n.Iu.add(r),SE(n))}function SE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(De.fromString(e)),r=n.mu.next();n.Eu.set(r,new W_(t)),n.du=n.du.insert(t,r),RR(n.remoteStore,new jc(In(mE(t.path)),r,"TargetPurposeLimboResolution",cE.ue))}}function Gc(n,e,t){return _(this,null,function*(){let r=Y(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=T_.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Rs(p))throw p;F(_E,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function x$(n,e){return _(this,null,function*(){let t=Y(n);if(!t.currentUser.isEqual(e)){F(CE,"User change. New user:",e.toKey());let r=yield SR(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gc(t,r.Bs)}})}function O$(n,e){let t=Y(n),r=t.Eu.get(e);if(r&&r.lu)return ce().add(r.key);{let i=ce(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function UR(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.hu.J_=w$.bind(null,e.eventManager),e.hu.pu=T$.bind(null,e.eventManager),e}function L$(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}var BR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return t$(this.persistence,new b_,t.initialUser,this.serializer)}Du(t){return new kh(w_.Vi,this.serializer)}bu(t){return new A_}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Y_=class extends BR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){pe(this.persistence.referenceDelegate instanceof xh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new u_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new kh(r=>xh.Vi(r,t),this.serializer)}};var F$=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x$.bind(null,this.syncEngine),yield _$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new $_})()}createDatastore(t){let r=rf(t.databaseInfo.databaseId),i=(function(s){return new k_(s)})(t.databaseInfo);return(function(s,a,u,l){return new F_(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new j_(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>m0(this.syncEngine,r,0),(function(){return Lh.C()?new Lh:new R_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new K_(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=Y(o);F(qi,"RemoteStore shutting down."),s.Ia.add(5),yield zc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Z_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var qr="FirestoreClient",J_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){F(qr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(qr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=DE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Iv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(qr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield SR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Br("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Br("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function v0(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield V$(n);F(qr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>f0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>f0(e.remoteStore,i)),n._onlineComponents=e})}function V$(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(qr,"Using user provided OfflineComponentProvider");try{yield Iv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Br("Error using user provided cache. Falling back to memory cache: "+t),yield Iv(n,new BR)}}else F(qr,"Using default OfflineComponentProvider"),yield Iv(n,new Y_(void 0));return n._offlineComponents})}function $R(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(qr,"Using user provided OnlineComponentProvider"),yield v0(n,n._uninitializedComponentsProvider._online)):(F(qr,"Using default OnlineComponentProvider"),yield v0(n,new F$))),n._onlineComponents})}function j$(n){return $R(n).then(e=>e.syncEngine)}function _0(n){return _(this,null,function*(){let e=yield $R(n),t=e.eventManager;return t.onListen=D$.bind(null,e.syncEngine),t.onUnlisten=S$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=b$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A$.bind(null,e.syncEngine),t})}function HR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var E0=new Map;var qR="firestore.googleapis.com",I0=!0,qh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qR,this.ssl=I0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JB)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ds=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wv;switch(r.type){case"firstParty":return new Cv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=E0.get(t);r&&(F("ComponentProvider","Removing Datastore"),E0.delete(t),r.terminate())})(this),Promise.resolve()}};function zR(n,e,t,r={}){var i;n=Or(n,Ds);let o=Dr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Od(`https://${u}`),Ld("Firestore",!0)),s.host!==qR&&s.host!==u&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!gn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ge.MOCK_USER;else{h=JC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ge(m)}n._authCredentials=new Tv(new vh(h,p))}}var bs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ke=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(qc(t,n._jsonSchema))return new n(e,r||null,new B(De.fromString(t.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Le("string",Ke._jsonSchemaVersion),referencePath:Le("string")};var Fr=class n extends bs{constructor(e,t,r){super(e,t,mE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function GR(n,e,...t){if(n=Me(n),R0("collection","path",e),n instanceof Ds){let r=De.fromString(e,...t);return VA(r),new Fr(n,null,r)}{if(!(n instanceof Ke||n instanceof Fr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return VA(r),new Fr(n.firestore,null,r)}}function WR(n,e,...t){if(n=Me(n),arguments.length===1&&(e=kc.newId()),R0("doc","path",e),n instanceof Ds){let r=De.fromString(e,...t);return FA(r),new Ke(n,null,new B(r))}{if(!(n instanceof Ke||n instanceof Fr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return FA(r),new Ke(n.firestore,n instanceof Fr?n.converter:null,new B(r))}}var w0="AsyncQueue",zh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Fh(this,"async_queue_retry"),this.oc=()=>{let r=Ev();r&&F(w0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Ev();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Ev();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Wn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Rs(e))throw e;F(w0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Kn("INTERNAL UNHANDLED ERROR: ",T0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=U_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:T0(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function T0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function D0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var zi=class extends Ds{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zh(e),this._firestoreClient=void 0,yield e}})}};function KR(n,e){let t=typeof n=="object"?n:Si(),r=typeof n=="string"?n:e||Th,i=Xo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ZC("firestore");o&&zR(i,...o)}return i}function QR(n){if(n._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||U$(n),n._firestoreClient}function U$(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new Mv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new J_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Vr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:Le("string",Vr._jsonSchemaVersion),bytes:Le("string")};var Cs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $c=class{constructor(e){this._methodName=e}};var jr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(qc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:Le("string",jr._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};var Ur=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new L(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Le("string",Ur._jsonSchemaVersion),vectorValues:Le("object")};var B$=/^__.*__$/,X_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hi(e,this.data,t,this.fieldTransforms)}},Gh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function YR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:n})}}var eE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(YR(this.Ec)&&B$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},tE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rf(e)}Dc(e,t,r,i=!1){return new eE({Ec:e,methodName:t,bc:r,path:Lt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AE(n){let e=n._freezeSettings(),t=rf(n._databaseId);return new tE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $$(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);RE("Data must be an object, but it was:",s,r);let a=ZR(r,s),u,l;if(o.merge)u=new qt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=nE(e,p,t);if(!s.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XR(h,m)||h.push(m)}u=new qt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new X_(new Ot(a),u,l)}var Wh=class n extends $c{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function H$(n,e,t,r){let i=n.Dc(1,e,t);RE("Data must be an object, but it was:",i,r);let o=[],s=Ot.empty();zr(r,(u,l)=>{let h=NE(e,u,t);l=Me(l);let p=i.gc(h);if(l instanceof Wh)o.push(h);else{let m=Wc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new qt(o);return new Gh(s,a,i.fieldTransforms)}function q$(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[nE(e,r,t)],u=[i];if(o.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(nE(e,o[m])),u.push(o[m+1]);let l=[],h=Ot.empty();for(let m=a.length-1;m>=0;--m)if(!XR(l,a[m])){let y=a[m],S=u[m];S=Me(S);let M=s.gc(y);if(S instanceof Wh)l.push(y);else{let R=Wc(S,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new qt(l);return new Gh(h,p,s.fieldTransforms)}function z$(n,e,t,r=!1){return Wc(t,n.Dc(r?4:3,e))}function Wc(n,e){if(JR(n=Me(n)))return RE("Unsupported field value:",e,n),ZR(n,e);if(n instanceof $c)return(function(r,i){if(!YR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Wc(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Fe.fromDate(r);return{timestampValue:Mh(i.serializer,o)}}if(r instanceof Fe){let o=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(i.serializer,o)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:_R(i.serializer,r._byteString)};if(r instanceof Ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return(function(s,a){return{mapValue:{fields:{[dE]:{stringValue:hE},[ps]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return yE(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Jh(r)}`)})(n,e)}function ZR(n,e){let t={};return z0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(n,(r,i)=>{let o=Wc(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function JR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof jr||n instanceof Vr||n instanceof Ke||n instanceof $c||n instanceof Ur)}function RE(n,e,t){if(!JR(t)||!N0(t)){let r=Jh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function nE(n,e,t){if((e=Me(e))instanceof Cs)return e._internalPath;if(typeof e=="string")return NE(n,e);throw Kh("Field path arguments must be of type string or ",n,!1,void 0,t)}var G$=new RegExp("[~\\*/\\[\\]]");function NE(n,e,t){if(e.search(G$)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cs(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+n+u)}function XR(n,e){return n.some(t=>t.isEqual(e))}var Qh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ME("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},rE=class extends Qh{data(){return super.data()}};function ME(n,e){return typeof e=="string"?NE(n,e):e instanceof Cs?e._internalPath:e._delegate._internalPath}function W$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hc=class{},iE=class extends Hc{};function eN(n,e,...t){let r=[];e instanceof Hc&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof oE).length,a=o.filter(u=>u instanceof Yh).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Yh=class n extends iE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return nN(e._query,t),new bs(e.firestore,e.converter,qv(e._query,t))}_parse(e){let t=AE(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){C0(p,h);let S=[];for(let M of p)S.push(b0(u,o,M));m={arrayValue:{values:S}}}else m=b0(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||C0(p,h),m=z$(a,s,p,h==="in"||h==="not-in");return Oe.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function tN(n,e,t){let r=e,i=ME("where",n);return Yh._create(i,r,t)}var oE=class n extends Hc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:tn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)nN(s,u),s=qv(s,u)})(e._query,t),new bs(e.firestore,e.converter,qv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function b0(n,e,t){if(typeof(t=Me(t))=="string"){if(t==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(e)&&t.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(De.fromString(t));if(!B.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zA(n,new B(r))}if(t instanceof Ke)return zA(n,t._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function C0(n,e){if(!Array.isArray(n)||n.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nN(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var sE=class{convertValue(e,t="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return zr(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ps].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new Ur(o)}convertGeoPoint(e){return new jr(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ef(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){let t=Qn(e);return new Fe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=De.fromString(e);pe(bR(r),9688,{name:e});let i=new Dh(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||Kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function K$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Li=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fi=class n extends Qh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ME("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:Le("string",Fi._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};var ds=class extends Fi{data(e={}){return super.data(e)}},hs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Li(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ds(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Q$(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Q$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:n})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:Le("string",hs._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};var Zh=class extends sE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,t)}};function rN(n,e,t){n=Or(n,Ke);let r=Or(n.firestore,zi),i=K$(n.converter,e,t);return oN(r,[$$(AE(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Lr.none())])}function iN(n,e,t,...r){n=Or(n,Ke);let i=Or(n.firestore,zi),o=AE(i),s;return s=typeof(e=Me(e))=="string"||e instanceof Cs?q$(o,"updateDoc",n._key,e,t,r):H$(o,"updateDoc",n._key,e),oN(i,[s.toMutation(n._key,Lr.exists(!0))])}function PE(n,...e){var t,r,i;n=Me(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||D0(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(D0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ke)l=Or(n.firestore,zi),h=mE(n._key.path),u={next:p=>{e[s]&&e[s](Y$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Or(n,bs);l=Or(p.firestore,zi),h=p._query;let m=new Zh(l);u={next:y=>{e[s]&&e[s](new hs(l,m,p,y))},error:e[s+1],complete:e[s+2]},W$(n._query)}return(function(m,y,S,M){let R=new Z_(M),O=new q_(y,R,S);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return E$(yield _0(m),O)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return I$(yield _0(m),O)}))}})(QR(l),h,a,u)}function oN(n,e){return(function(r,i){let o=new Wn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return R$(yield j$(r),i,o)})),o.promise})(QR(n),e)}function Y$(n,e,t){let r=t.docs.get(e._key),i=new Zh(n);return new Fi(n,i,e._key,r,new Li(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ss=i})(Cr),Jt(new mt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new zi(new Dv(r.getProvider("auth-internal")),new Sv(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ae(kA,xA,e),Ae(kA,xA,"esm2017")})();var af=function(){return af=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},af.apply(this,arguments)};var X$={includeMetadataChanges:!1};function sN(n,e){return e===void 0&&(e=X$),new K(function(t){var r=PE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function aN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:af(af({},r),(t={},t[e.idField]=n.id,t))}function cN(n){return sN(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function uN(n,e){return e===void 0&&(e={}),cN(n).pipe(ie(function(t){return t.map(function(r){return aN(r,e)})}))}var Kc=class{constructor(e){return e}},lN="firestore",kE=class{constructor(){return ts(lN)}};var xE=new U("angularfire2.firestore-instances");function eH(n,e){let t=fc(lN,n,e);return t&&new Kc(t)}function tH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Kc(r)}}var nH={provide:kE,deps:[[new Nt,xE]]},rH={provide:Kc,useFactory:eH,deps:[[new Nt,xE],$n]};function Tie(n,...e){return Ae("angularfire",Sr.full,"fst"),St([rH,nH,{provide:xE,useFactory:tH(n),multi:!0,deps:[ye,$e,Ar,Ri,[new Nt,Cc],[new Nt,ns],...e]}])}var Die=at(uN,!0);var bie=at(GR,!0,2);var Cie=at(WR,!0,2);var Sie=at(KR,!0);var Aie=at(eN,!0,2);var Rie=at(rN,!0,2);var Nie=at(iN,!0,2);var Mie=at(tN,!0,2);export{V as a,me as b,_ as c,Ye as d,Se as e,G as f,ie as g,bM as h,ft as i,el as j,$ as k,Io as l,U as m,k as n,Qw as o,Yw as p,$e as q,YM as r,So as s,Ol as t,Ll as u,kg as v,rk as w,pt as x,YD as y,dn as z,em as A,ka as B,Lo as C,ub as D,lb as E,Fo as F,pb as G,om as H,sm as I,Kl as J,nO as K,mb as L,iO as M,vb as N,_b as O,EO as P,wb as Q,am as R,Tb as S,TO as T,Db as U,DO as V,RO as W,MO as X,Ln as Y,xO as Z,ym as _,d1 as $,Fn as aa,zb as ba,g1 as ca,Gb as da,A1 as ea,Qm as fa,Md as ga,dF as ha,lte as ia,dte as ja,bc as ka,One as la,Lne as ma,Fne as na,Vne as oa,Kc as pa,Tie as qa,Die as ra,bie as sa,Cie as ta,Sie as ua,Aie as va,Rie as wa,Nie as xa,Mie as ya};
