import{Bb as b,Db as s,Eb as o,Fb as c,H as m,Hb as g,Ib as v,Jb as y,Kb as C,N as f,S as n,c as a,m as u,q as d,wb as p,yb as h}from"./chunk-FER4OD27.js";var D=class i{firestore=n(b);auth=n(p);getCharacterByEmail(){return h(this.auth).pipe(m(e=>{if(e&&e.email){let t=o(this.firestore,"dissonancia-db"),r=g(t,C("email","==",e.email));return s(r,{idField:"docId"}).pipe(d(l=>l.length>0?l[0]:null))}else return u(null)}))}saveUserData(e){return a(this,null,function*(){let t=this.auth.currentUser;if(t){let r=c(this.firestore,`dissonancia-db/${t.uid}`);return v(r,e,{merge:!0})}return null})}updateCharacter(e,t){return a(this,null,function*(){let r=c(this.firestore,"dissonancia-db",e);return y(r,t)})}adminViewPlayers(){let e=o(this.firestore,"dissonancia-db");return s(e,{idField:"id"})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})};export{D as a};
