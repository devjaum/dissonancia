import{a as M,b,c as C,d as y,e as x}from"./chunk-2XYG4B7Q.js";import{c as _}from"./chunk-KGK6HB3U.js";import{a as w}from"./chunk-242GP2FT.js";import{Aa as h,Ka as t,La as i,Oa as S,S as c,Sa as r,Va as l,Wa as s,Xa as d,oa as a,qb as f,wa as m}from"./chunk-FER4OD27.js";var v=class u{constructor(p){this.router=p}dbService=c(w);docId=null;name="";characterClass="";lore="";uniqueSkills=[{name:"",description:""},{name:"",description:""}];pressureSign="";ngOnInit(){this.dbService.getCharacterByEmail().subscribe(p=>{if(p){this.docId=p.docId;let o=p;o.name&&(this.name=o.name),o.class&&(this.characterClass=o.class),o.lore&&(this.lore=o.lore),o.pressureSign&&(this.pressureSign=o.pressureSign),o.uniqueSkills&&(Array.isArray(o.uniqueSkills)?this.uniqueSkills=o.uniqueSkills:typeof o.uniqueSkills=="string"&&(this.uniqueSkills[0].description=o.uniqueSkills,this.uniqueSkills[0].name="Habilidade Antiga"))}})}save(){if(!this.docId){alert("Erro: Personagem n\xE3o encontrado. Crie a ficha base na tela anterior primeiro.");return}let p={name:this.name,class:this.characterClass,lore:this.lore,uniqueSkills:this.uniqueSkills,pressureSign:this.pressureSign};this.dbService.updateCharacter(this.docId,p).then(()=>{alert("Hist\xF3ria e detalhes salvos com sucesso!"),this.router.navigate(["/"])}).catch(o=>{console.error("Erro ao salvar hist\xF3ria:",o),alert("Erro ao salvar. Verifique o console.")})}static \u0275fac=function(o){return new(o||u)(m(_))};static \u0275cmp=h({type:u,selectors:[["app-lore"]],decls:48,vars:11,consts:[[1,"main"],[1,"lore"],[1,"intro-text"],[1,"info-personagem"],["type","text","placeholder","Digite o nome do seu personagem...",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descreva a classe do seu personagem...",3,"ngModelChange","ngModel"],[1,"question-group"],["rows","8","placeholder","Conte a hist\xF3ria do seu personagem...",3,"ngModelChange","ngModel"],["type","text","placeholder","Digite o nome da 1 habilidade",3,"ngModelChange","ngModel"],["placeholder","Digite o que a habilidade faz",3,"ngModelChange","ngModel"],["type","text","placeholder","Digite o nome da 2 habilidade",3,"ngModelChange","ngModel"],[1,"options-container"],[1,"option-label"],["type","radio","name","pressureSign","value","Cora\xE7\xE3o acelerado",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Ar denso",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Audi\xE7\xE3o abafada",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Arrepio",3,"ngModelChange","ngModel"],[1,"btnSalvar",3,"click"]],template:function(o,n){o&1&&(t(0,"main",0)(1,"section",1)(2,"h2"),r(3,"Hist\xF3ria e Detalhes"),i(),t(4,"p",2),r(5,"Preencha os detalhes do seu personagem abaixo:"),i(),t(6,"div",3)(7,"label"),r(8,"Qual seu nome?"),i(),t(9,"input",4),d("ngModelChange",function(e){return s(n.name,e)||(n.name=e),e}),i(),t(10,"label"),r(11,"Descreva sua classe (pode descrever como gostaria que ela fosse se quiser)"),i(),t(12,"textarea",5),d("ngModelChange",function(e){return s(n.characterClass,e)||(n.characterClass=e),e}),i()(),t(13,"div",6)(14,"label"),r(15,"Como era sua hist\xF3ria?"),i(),t(16,"textarea",7),d("ngModelChange",function(e){return s(n.lore,e)||(n.lore=e),e}),i()(),t(17,"div",6)(18,"label"),r(19,"Quais s\xE3o suas habilidades \xFAnicas? (somente duas)"),i(),t(20,"div",3)(21,"input",8),d("ngModelChange",function(e){return s(n.uniqueSkills[0].name,e)||(n.uniqueSkills[0].name=e),e}),i(),t(22,"textarea",9),d("ngModelChange",function(e){return s(n.uniqueSkills[0].description,e)||(n.uniqueSkills[0].description=e),e}),i()(),t(23,"div",3)(24,"input",10),d("ngModelChange",function(e){return s(n.uniqueSkills[1].name,e)||(n.uniqueSkills[1].name=e),e}),i(),t(25,"textarea",9),d("ngModelChange",function(e){return s(n.uniqueSkills[1].description,e)||(n.uniqueSkills[1].description=e),e}),i()()(),t(26,"div",6)(27,"label"),r(28,"Qual \xE9 o sinal de alta press\xE3o m\xE1gica que ocorre com voc\xEA?"),i(),t(29,"div",11)(30,"label",12)(31,"input",13),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),i(),t(32,"span"),r(33,"Cora\xE7\xE3o acelerado"),i()(),t(34,"label",12)(35,"input",14),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),i(),t(36,"span"),r(37,"Ar denso"),i()(),t(38,"label",12)(39,"input",15),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),i(),t(40,"span"),r(41,"Audi\xE7\xE3o abafada"),i()(),t(42,"label",12)(43,"input",16),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),i(),t(44,"span"),r(45,"Arrepio"),i()()()(),t(46,"button",17),S("click",function(){return n.save()}),r(47,"Salvar Hist\xF3ria"),i()()()),o&2&&(a(9),l("ngModel",n.name),a(3),l("ngModel",n.characterClass),a(4),l("ngModel",n.lore),a(5),l("ngModel",n.uniqueSkills[0].name),a(),l("ngModel",n.uniqueSkills[0].description),a(2),l("ngModel",n.uniqueSkills[1].name),a(),l("ngModel",n.uniqueSkills[1].description),a(6),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign))},dependencies:[f,x,M,y,b,C],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:90vh;align-items:center;justify-content:center;padding:20px;box-sizing:border-box}.lore[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:var(--card-bg);border-radius:var(--border-radius);box-shadow:var(--shadow);border:1px solid #333;padding:30px;display:flex;flex-direction:column;gap:25px}.lore[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;border-bottom:2px solid var(--accent-color);padding-bottom:10px;margin-bottom:10px;font-size:1.5rem;text-transform:uppercase;letter-spacing:1px;color:var(--accent-color);text-align:center}.intro-text[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:10px;font-style:italic;opacity:.8;text-align:center;font-size:.9rem}.info-personagem[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;background-color:#0003;padding:15px;border-radius:4px;border:1px solid #333}.question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}label[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:500;font-size:1.1rem}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;background-color:#121212;border:1px solid #444;border-radius:4px;color:var(--text-color);padding:15px;font-family:var(--font-main);font-size:1rem;line-height:1.5;resize:vertical;box-sizing:border-box;outline:none;transition:border-color .2s,box-shadow .2s}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 8px #4db6ac1a}input[type=text][_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.options-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.option-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;background-color:#121212;padding:12px 15px;border-radius:4px;border:1px solid #444;transition:all .2s ease;flex:1;min-width:150px}.option-label[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background-color:#2c2c35}.option-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:var(--accent-color);transform:scale(1.2);margin:0}.option-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color);font-size:.95rem}.btnSalvar[_ngcontent-%COMP%]{width:100%;max-width:250px;padding:12px;background-color:var(--accent-color);color:var(--bg-color);border:none;border-radius:var(--border-radius);font-weight:700;font-size:1.1rem;text-transform:uppercase;margin-top:10px;cursor:pointer;transition:background-color .3s,transform .1s;align-self:center}.btnSalvar[_ngcontent-%COMP%]:hover{background-color:var(--accent-hover)}.btnSalvar[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 768px){.lore[_ngcontent-%COMP%]{padding:20px;width:95%}.options-container[_ngcontent-%COMP%]{flex-direction:column}.option-label[_ngcontent-%COMP%]{width:100%}}"]})};export{v as Lore};
