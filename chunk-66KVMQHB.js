import{a as _,b as C,c as S,d as x,e as y}from"./chunk-75V77QUN.js";import{a as v}from"./chunk-VFBWFGMC.js";import{A as h,H as t,I as o,L as f,P as i,S as l,T as s,U as d,da as b,ga as M,n as u,w as a,z as m}from"./chunk-4D7BM7C5.js";var w=class p{constructor(c){this.router=c}dbService=u(v);docId=null;name="";characterClass="";lore="";uniqueSkills="";pressureSign="";ngOnInit(){this.dbService.getCharacterByEmail().subscribe(c=>{if(c){this.docId=c.docId;let r=c;r.name&&(this.name=r.name),r.class&&(this.characterClass=r.class),r.lore&&(this.lore=r.lore),r.uniqueSkills&&(this.uniqueSkills=r.uniqueSkills),r.pressureSign&&(this.pressureSign=r.pressureSign)}})}save(){if(!this.docId){alert("Erro: Personagem n\xE3o encontrado. Crie a ficha base na tela anterior primeiro.");return}let c={name:this.name,class:this.characterClass,lore:this.lore,uniqueSkills:this.uniqueSkills,pressureSign:this.pressureSign};this.dbService.updateCharacter(this.docId,c).then(()=>{alert("Hist\xF3ria e detalhes salvos com sucesso!"),this.router.navigate(["/lore"])}).catch(r=>{console.error("Erro ao salvar hist\xF3ria:",r),alert("Erro ao salvar. Verifique o console.")})}static \u0275fac=function(r){return new(r||p)(m(M))};static \u0275cmp=h({type:p,selectors:[["app-lore"]],decls:43,vars:8,consts:[[1,"main"],[1,"lore"],[1,"intro-text"],[1,"info-personagem"],["type","text","placeholder","Digite o nome do seu personagem...",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descreva a classe do seu personagem...",3,"ngModelChange","ngModel"],[1,"question-group"],["rows","8","placeholder","Conte a hist\xF3ria do seu personagem...",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descreva suas duas habilidades \xFAnicas...",3,"ngModelChange","ngModel"],[1,"options-container"],[1,"option-label"],["type","radio","name","pressureSign","value","Cora\xE7\xE3o acelerado",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Ar denso",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Audi\xE7\xE3o abafada",3,"ngModelChange","ngModel"],["type","radio","name","pressureSign","value","Arrepio",3,"ngModelChange","ngModel"],[1,"btnSalvar",3,"click"]],template:function(r,n){r&1&&(t(0,"main",0)(1,"section",1)(2,"h2"),i(3,"Hist\xF3ria e Detalhes"),o(),t(4,"p",2),i(5,"Preencha os detalhes do seu personagem abaixo:"),o(),t(6,"div",3)(7,"label"),i(8,"Qual seu nome?"),o(),t(9,"input",4),d("ngModelChange",function(e){return s(n.name,e)||(n.name=e),e}),o(),t(10,"label"),i(11,"Descreva sua classe (pode descrever como gostaria que ela fosse se quiser)"),o(),t(12,"textarea",5),d("ngModelChange",function(e){return s(n.characterClass,e)||(n.characterClass=e),e}),o()(),t(13,"div",6)(14,"label"),i(15,"Como era sua hist\xF3ria?"),o(),t(16,"textarea",7),d("ngModelChange",function(e){return s(n.lore,e)||(n.lore=e),e}),o()(),t(17,"div",6)(18,"label"),i(19,"Quais s\xE3o suas habilidades \xFAnicas? (somente duas)"),o(),t(20,"textarea",8),d("ngModelChange",function(e){return s(n.uniqueSkills,e)||(n.uniqueSkills=e),e}),o()(),t(21,"div",6)(22,"label"),i(23,"Qual \xE9 o sinal de alta press\xE3o m\xE1gica que ocorre com voc\xEA?"),o(),t(24,"div",9)(25,"label",10)(26,"input",11),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),o(),t(27,"span"),i(28,"Cora\xE7\xE3o acelerado"),o()(),t(29,"label",10)(30,"input",12),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),o(),t(31,"span"),i(32,"Ar denso"),o()(),t(33,"label",10)(34,"input",13),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),o(),t(35,"span"),i(36,"Audi\xE7\xE3o abafada"),o()(),t(37,"label",10)(38,"input",14),d("ngModelChange",function(e){return s(n.pressureSign,e)||(n.pressureSign=e),e}),o(),t(39,"span"),i(40,"Arrepio"),o()()()(),t(41,"button",15),f("click",function(){return n.save()}),i(42,"Salvar Hist\xF3ria"),o()()()),r&2&&(a(9),l("ngModel",n.name),a(3),l("ngModel",n.characterClass),a(4),l("ngModel",n.lore),a(4),l("ngModel",n.uniqueSkills),a(6),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign),a(4),l("ngModel",n.pressureSign))},dependencies:[b,y,_,x,C,S],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:90vh;align-items:center;justify-content:center;padding:20px;box-sizing:border-box}.lore[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:var(--card-bg);border-radius:var(--border-radius);box-shadow:var(--shadow);border:1px solid #333;padding:30px;display:flex;flex-direction:column;gap:25px}.lore[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;border-bottom:2px solid var(--accent-color);padding-bottom:10px;margin-bottom:10px;font-size:1.5rem;text-transform:uppercase;letter-spacing:1px;color:var(--accent-color);text-align:center}.intro-text[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:10px;font-style:italic;opacity:.8;text-align:center;font-size:.9rem}.info-personagem[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;background-color:#0003;padding:15px;border-radius:4px;border:1px solid #333}.question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}label[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:500;font-size:1.1rem}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;background-color:#121212;border:1px solid #444;border-radius:4px;color:var(--text-color);padding:15px;font-family:var(--font-main);font-size:1rem;line-height:1.5;resize:vertical;box-sizing:border-box;outline:none;transition:border-color .2s,box-shadow .2s}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 8px #4db6ac1a}input[type=text][_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.options-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.option-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;background-color:#121212;padding:12px 15px;border-radius:4px;border:1px solid #444;transition:all .2s ease;flex:1;min-width:150px}.option-label[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background-color:#2c2c35}.option-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:var(--accent-color);transform:scale(1.2);margin:0}.option-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color);font-size:.95rem}.btnSalvar[_ngcontent-%COMP%]{width:100%;max-width:250px;padding:12px;background-color:var(--accent-color);color:var(--bg-color);border:none;border-radius:var(--border-radius);font-weight:700;font-size:1.1rem;text-transform:uppercase;margin-top:10px;cursor:pointer;transition:background-color .3s,transform .1s;align-self:center}.btnSalvar[_ngcontent-%COMP%]:hover{background-color:var(--accent-hover)}.btnSalvar[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 768px){.lore[_ngcontent-%COMP%]{padding:20px;width:95%}.options-container[_ngcontent-%COMP%]{flex-direction:column}.option-label[_ngcontent-%COMP%]{width:100%}}"]})};export{w as Lore};
